(function(tA,g0){typeof exports=="object"&&typeof module<"u"?module.exports=g0():typeof define=="function"&&define.amd?define(g0):(tA=typeof globalThis<"u"?globalThis:tA||self,tA.mermaid=g0())})(this,function(){"use strict";function tA(s){for(var o=[],f=1;f<arguments.length;f++)o[f-1]=arguments[f];var p=Array.from(typeof s=="string"?[s]:s);p[p.length-1]=p[p.length-1].replace(/\r?\n([\t ]*)$/,"");var w=p.reduce(function(_,A){var N=A.match(/\n([\t ]+|(?!\s).)/g);return N?_.concat(N.map(function(B){var F,H;return(H=(F=B.match(/[\t ]/g))===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0})):_},[]);if(w.length){var k=new RegExp(`
[	 ]{`+Math.min.apply(Math,w)+"}","g");p=p.map(function(_){return _.replace(k,`
`)})}p[0]=p[0].replace(/^\r?\n/,"");var b=p[0];return o.forEach(function(_,A){var N=b.match(/(?:^|\n)( *)$/),B=N?N[1]:"",F=_;typeof _=="string"&&_.includes(`
`)&&(F=String(_).split(`
`).map(function(H,j){return j===0?H:""+B+H}).join(`
`)),b+=F+p[A+1]}),b}var g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GAe(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hfe={},n4t={get exports(){return hfe},set exports(s){hfe=s}};(function(s,o){(function(f,p){s.exports=p()})(g0,function(){var f=1e3,p=6e4,w=36e5,k="millisecond",b="second",_="minute",A="hour",N="day",B="week",F="month",H="quarter",j="year",V="date",Z="Invalid Date",ae=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,le=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ce={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(De){var X=["th","st","nd","rd"],Re=De%100;return"["+De+(X[(Re-20)%10]||X[Re]||X[0])+"]"}},be=function(De,X,Re){var pe=String(De);return!pe||pe.length>=X?De:""+Array(X+1-pe.length).join(Re)+De},xe={s:be,z:function(De){var X=-De.utcOffset(),Re=Math.abs(X),pe=Math.floor(Re/60),Ge=Re%60;return(X<=0?"+":"-")+be(pe,2,"0")+":"+be(Ge,2,"0")},m:function De(X,Re){if(X.date()<Re.date())return-De(Re,X);var pe=12*(Re.year()-X.year())+(Re.month()-X.month()),Ge=X.clone().add(pe,F),de=Re-Ge<0,ct=X.clone().add(pe+(de?-1:1),F);return+(-(pe+(Re-Ge)/(de?Ge-ct:ct-Ge))||0)},a:function(De){return De<0?Math.ceil(De)||0:Math.floor(De)},p:function(De){return{M:F,y:j,w:B,d:N,D:V,h:A,m:_,s:b,ms:k,Q:H}[De]||String(De||"").toLowerCase().replace(/s$/,"")},u:function(De){return De===void 0}},Ee="en",Me={};Me[Ee]=ce;var fe=function(De){return De instanceof ke},ye=function De(X,Re,pe){var Ge;if(!X)return Ee;if(typeof X=="string"){var de=X.toLowerCase();Me[de]&&(Ge=de),Re&&(Me[de]=Re,Ge=de);var ct=X.split("-");if(!Ge&&ct.length>1)return De(ct[0])}else{var bt=X.name;Me[bt]=X,Ge=bt}return!pe&&Ge&&(Ee=Ge),Ge||!pe&&Ee},re=function(De,X){if(fe(De))return De.clone();var Re=typeof X=="object"?X:{};return Re.date=De,Re.args=arguments,new ke(Re)},we=xe;we.l=ye,we.i=fe,we.w=function(De,X){return re(De,{locale:X.$L,utc:X.$u,x:X.$x,$offset:X.$offset})};var ke=function(){function De(Re){this.$L=ye(Re.locale,null,!0),this.parse(Re)}var X=De.prototype;return X.parse=function(Re){this.$d=function(pe){var Ge=pe.date,de=pe.utc;if(Ge===null)return new Date(NaN);if(we.u(Ge))return new Date;if(Ge instanceof Date)return new Date(Ge);if(typeof Ge=="string"&&!/Z$/i.test(Ge)){var ct=Ge.match(ae);if(ct){var bt=ct[2]-1||0,St=(ct[7]||"0").substring(0,3);return de?new Date(Date.UTC(ct[1],bt,ct[3]||1,ct[4]||0,ct[5]||0,ct[6]||0,St)):new Date(ct[1],bt,ct[3]||1,ct[4]||0,ct[5]||0,ct[6]||0,St)}}return new Date(Ge)}(Re),this.$x=Re.x||{},this.init()},X.init=function(){var Re=this.$d;this.$y=Re.getFullYear(),this.$M=Re.getMonth(),this.$D=Re.getDate(),this.$W=Re.getDay(),this.$H=Re.getHours(),this.$m=Re.getMinutes(),this.$s=Re.getSeconds(),this.$ms=Re.getMilliseconds()},X.$utils=function(){return we},X.isValid=function(){return this.$d.toString()!==Z},X.isSame=function(Re,pe){var Ge=re(Re);return this.startOf(pe)<=Ge&&Ge<=this.endOf(pe)},X.isAfter=function(Re,pe){return re(Re)<this.startOf(pe)},X.isBefore=function(Re,pe){return this.endOf(pe)<re(Re)},X.$g=function(Re,pe,Ge){return we.u(Re)?this[pe]:this.set(Ge,Re)},X.unix=function(){return Math.floor(this.valueOf()/1e3)},X.valueOf=function(){return this.$d.getTime()},X.startOf=function(Re,pe){var Ge=this,de=!!we.u(pe)||pe,ct=we.p(Re),bt=function(xt,Tt){var wt=we.w(Ge.$u?Date.UTC(Ge.$y,Tt,xt):new Date(Ge.$y,Tt,xt),Ge);return de?wt:wt.endOf(N)},St=function(xt,Tt){return we.w(Ge.toDate()[xt].apply(Ge.toDate("s"),(de?[0,0,0,0]:[23,59,59,999]).slice(Tt)),Ge)},yt=this.$W,Mt=this.$M,nn=this.$D,dn="set"+(this.$u?"UTC":"");switch(ct){case j:return de?bt(1,0):bt(31,11);case F:return de?bt(1,Mt):bt(0,Mt+1);case B:var vt=this.$locale().weekStart||0,Lr=(yt<vt?yt+7:yt)-vt;return bt(de?nn-Lr:nn+(6-Lr),Mt);case N:case V:return St(dn+"Hours",0);case A:return St(dn+"Minutes",1);case _:return St(dn+"Seconds",2);case b:return St(dn+"Milliseconds",3);default:return this.clone()}},X.endOf=function(Re){return this.startOf(Re,!1)},X.$set=function(Re,pe){var Ge,de=we.p(Re),ct="set"+(this.$u?"UTC":""),bt=(Ge={},Ge[N]=ct+"Date",Ge[V]=ct+"Date",Ge[F]=ct+"Month",Ge[j]=ct+"FullYear",Ge[A]=ct+"Hours",Ge[_]=ct+"Minutes",Ge[b]=ct+"Seconds",Ge[k]=ct+"Milliseconds",Ge)[de],St=de===N?this.$D+(pe-this.$W):pe;if(de===F||de===j){var yt=this.clone().set(V,1);yt.$d[bt](St),yt.init(),this.$d=yt.set(V,Math.min(this.$D,yt.daysInMonth())).$d}else bt&&this.$d[bt](St);return this.init(),this},X.set=function(Re,pe){return this.clone().$set(Re,pe)},X.get=function(Re){return this[we.p(Re)]()},X.add=function(Re,pe){var Ge,de=this;Re=Number(Re);var ct=we.p(pe),bt=function(Mt){var nn=re(de);return we.w(nn.date(nn.date()+Math.round(Mt*Re)),de)};if(ct===F)return this.set(F,this.$M+Re);if(ct===j)return this.set(j,this.$y+Re);if(ct===N)return bt(1);if(ct===B)return bt(7);var St=(Ge={},Ge[_]=p,Ge[A]=w,Ge[b]=f,Ge)[ct]||1,yt=this.$d.getTime()+Re*St;return we.w(yt,this)},X.subtract=function(Re,pe){return this.add(-1*Re,pe)},X.format=function(Re){var pe=this,Ge=this.$locale();if(!this.isValid())return Ge.invalidDate||Z;var de=Re||"YYYY-MM-DDTHH:mm:ssZ",ct=we.z(this),bt=this.$H,St=this.$m,yt=this.$M,Mt=Ge.weekdays,nn=Ge.months,dn=function(Tt,wt,At,He){return Tt&&(Tt[wt]||Tt(pe,de))||At[wt].slice(0,He)},vt=function(Tt){return we.s(bt%12||12,Tt,"0")},Lr=Ge.meridiem||function(Tt,wt,At){var He=Tt<12?"AM":"PM";return At?He.toLowerCase():He},xt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:yt+1,MM:we.s(yt+1,2,"0"),MMM:dn(Ge.monthsShort,yt,nn,3),MMMM:dn(nn,yt),D:this.$D,DD:we.s(this.$D,2,"0"),d:String(this.$W),dd:dn(Ge.weekdaysMin,this.$W,Mt,2),ddd:dn(Ge.weekdaysShort,this.$W,Mt,3),dddd:Mt[this.$W],H:String(bt),HH:we.s(bt,2,"0"),h:vt(1),hh:vt(2),a:Lr(bt,St,!0),A:Lr(bt,St,!1),m:String(St),mm:we.s(St,2,"0"),s:String(this.$s),ss:we.s(this.$s,2,"0"),SSS:we.s(this.$ms,3,"0"),Z:ct};return de.replace(le,function(Tt,wt){return wt||xt[Tt]||ct.replace(":","")})},X.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},X.diff=function(Re,pe,Ge){var de,ct=we.p(pe),bt=re(Re),St=(bt.utcOffset()-this.utcOffset())*p,yt=this-bt,Mt=we.m(this,bt);return Mt=(de={},de[j]=Mt/12,de[F]=Mt,de[H]=Mt/3,de[B]=(yt-St)/6048e5,de[N]=(yt-St)/864e5,de[A]=yt/w,de[_]=yt/p,de[b]=yt/f,de)[ct]||yt,Ge?Mt:we.a(Mt)},X.daysInMonth=function(){return this.endOf(F).$D},X.$locale=function(){return Me[this.$L]},X.locale=function(Re,pe){if(!Re)return this.$L;var Ge=this.clone(),de=ye(Re,pe,!0);return de&&(Ge.$L=de),Ge},X.clone=function(){return we.w(this.$d,this)},X.toDate=function(){return new Date(this.valueOf())},X.toJSON=function(){return this.isValid()?this.toISOString():null},X.toISOString=function(){return this.$d.toISOString()},X.toString=function(){return this.$d.toUTCString()},De}(),he=ke.prototype;return re.prototype=he,[["$ms",k],["$s",b],["$m",_],["$H",A],["$W",N],["$M",F],["$y",j],["$D",V]].forEach(function(De){he[De[1]]=function(X){return this.$g(X,De[0],De[1])}}),re.extend=function(De,X){return De.$i||(De(X,ke,re),De.$i=!0),re},re.locale=ye,re.isDayjs=fe,re.unix=function(De){return re(1e3*De)},re.en=Me[Ee],re.Ls=Me,re.p={},re})})(n4t);const Qg=hfe,s5={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},je={trace:(...s)=>{},debug:(...s)=>{},info:(...s)=>{},warn:(...s)=>{},error:(...s)=>{},fatal:(...s)=>{}},ffe=function(s="fatal"){let o=s5.fatal;typeof s=="string"?(s=s.toLowerCase(),s in s5&&(o=s5[s])):typeof s=="number"&&(o=s),je.trace=()=>{},je.debug=()=>{},je.info=()=>{},je.warn=()=>{},je.error=()=>{},je.fatal=()=>{},o<=s5.fatal&&(je.fatal=console.error?console.error.bind(console,$b("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",$b("FATAL"))),o<=s5.error&&(je.error=console.error?console.error.bind(console,$b("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",$b("ERROR"))),o<=s5.warn&&(je.warn=console.warn?console.warn.bind(console,$b("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",$b("WARN"))),o<=s5.info&&(je.info=console.info?console.info.bind(console,$b("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",$b("INFO"))),o<=s5.debug&&(je.debug=console.debug?console.debug.bind(console,$b("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",$b("DEBUG"))),o<=s5.trace&&(je.trace=console.debug?console.debug.bind(console,$b("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",$b("TRACE")))},$b=s=>`%c${Qg().format("ss.SSS")} : ${s} : `;var dfe={};Object.defineProperty(dfe,"__esModule",{value:!0});var a5=dfe.sanitizeUrl=void 0,r4t=/^([^\w]*)(javascript|data|vbscript)/im,i4t=/&#(\w+)(^\w|;)?/g,s4t=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a4t=/^([^:]+):/gm,o4t=[".","/"];function c4t(s){return o4t.indexOf(s[0])>-1}function u4t(s){return s.replace(i4t,function(o,f){return String.fromCharCode(f)})}function l4t(s){var o=u4t(s||"").replace(s4t,"").trim();if(!o)return"about:blank";if(c4t(o))return o;var f=o.match(a4t);if(!f)return o;var p=f[0];return r4t.test(p)?"about:blank":o}a5=dfe.sanitizeUrl=l4t;function HV(s,o){return s==null||o==null?NaN:s<o?-1:s>o?1:s>=o?0:NaN}function h4t(s,o){return s==null||o==null?NaN:o<s?-1:o>s?1:o>=s?0:NaN}function gfe(s){let o,f,p;s.length!==2?(o=HV,f=(_,A)=>HV(s(_),A),p=(_,A)=>s(_)-A):(o=s===HV||s===h4t?s:f4t,f=s,p=s);function w(_,A,N=0,B=_.length){if(N<B){if(o(A,A)!==0)return B;do{const F=N+B>>>1;f(_[F],A)<0?N=F+1:B=F}while(N<B)}return N}function k(_,A,N=0,B=_.length){if(N<B){if(o(A,A)!==0)return B;do{const F=N+B>>>1;f(_[F],A)<=0?N=F+1:B=F}while(N<B)}return N}function b(_,A,N=0,B=_.length){const F=w(_,A,N,B-1);return F>N&&p(_[F-1],A)>-p(_[F],A)?F-1:F}return{left:w,center:b,right:k}}function f4t(){return 0}function d4t(s){return s===null?NaN:+s}const g4t=gfe(HV).right;gfe(d4t).center;const p4t=g4t;class qAe extends Map{constructor(o,f=w4t){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:f}}),o!=null)for(const[p,w]of o)this.set(p,w)}get(o){return super.get(VAe(this,o))}has(o){return super.has(VAe(this,o))}set(o,f){return super.set(b4t(this,o),f)}delete(o){return super.delete(v4t(this,o))}}function VAe({_intern:s,_key:o},f){const p=o(f);return s.has(p)?s.get(p):f}function b4t({_intern:s,_key:o},f){const p=o(f);return s.has(p)?s.get(p):(s.set(p,f),f)}function v4t({_intern:s,_key:o},f){const p=o(f);return s.has(p)&&(f=s.get(p),s.delete(p)),f}function w4t(s){return s!==null&&typeof s=="object"?s.valueOf():s}var pfe=Math.sqrt(50),bfe=Math.sqrt(10),vfe=Math.sqrt(2);function m4t(s,o,f){var p,w=-1,k,b,_;if(o=+o,s=+s,f=+f,s===o&&f>0)return[s];if((p=o<s)&&(k=s,s=o,o=k),(_=UAe(s,o,f))===0||!isFinite(_))return[];if(_>0){let A=Math.round(s/_),N=Math.round(o/_);for(A*_<s&&++A,N*_>o&&--N,b=new Array(k=N-A+1);++w<k;)b[w]=(A+w)*_}else{_=-_;let A=Math.round(s*_),N=Math.round(o*_);for(A/_<s&&++A,N/_>o&&--N,b=new Array(k=N-A+1);++w<k;)b[w]=(A+w)/_}return p&&b.reverse(),b}function UAe(s,o,f){var p=(o-s)/Math.max(0,f),w=Math.floor(Math.log(p)/Math.LN10),k=p/Math.pow(10,w);return w>=0?(k>=pfe?10:k>=bfe?5:k>=vfe?2:1)*Math.pow(10,w):-Math.pow(10,-w)/(k>=pfe?10:k>=bfe?5:k>=vfe?2:1)}function wfe(s,o,f){var p=Math.abs(o-s)/Math.max(0,f),w=Math.pow(10,Math.floor(Math.log(p)/Math.LN10)),k=p/w;return k>=pfe?w*=10:k>=bfe?w*=5:k>=vfe&&(w*=2),o<s?-w:w}function y4t(s,o){let f;if(o===void 0)for(const p of s)p!=null&&(f<p||f===void 0&&p>=p)&&(f=p);else{let p=-1;for(let w of s)(w=o(w,++p,s))!=null&&(f<w||f===void 0&&w>=w)&&(f=w)}return f}function k4t(s,o){let f;if(o===void 0)for(const p of s)p!=null&&(f>p||f===void 0&&p>=p)&&(f=p);else{let p=-1;for(let w of s)(w=o(w,++p,s))!=null&&(f>w||f===void 0&&w>=w)&&(f=w)}return f}function x4t(s){return s}var zV=1,mfe=2,yfe=3,GV=4,KAe=1e-6;function E4t(s){return"translate("+s+",0)"}function T4t(s){return"translate(0,"+s+")"}function _4t(s){return o=>+s(o)}function C4t(s,o){return o=Math.max(0,s.bandwidth()-o*2)/2,s.round()&&(o=Math.round(o)),f=>+s(f)+o}function S4t(){return!this.__axis}function WAe(s,o){var f=[],p=null,w=null,k=6,b=6,_=3,A=typeof window<"u"&&window.devicePixelRatio>1?0:.5,N=s===zV||s===GV?-1:1,B=s===GV||s===mfe?"x":"y",F=s===zV||s===yfe?E4t:T4t;function H(j){var V=p??(o.ticks?o.ticks.apply(o,f):o.domain()),Z=w??(o.tickFormat?o.tickFormat.apply(o,f):x4t),ae=Math.max(k,0)+_,le=o.range(),ce=+le[0]+A,be=+le[le.length-1]+A,xe=(o.bandwidth?C4t:_4t)(o.copy(),A),Ee=j.selection?j.selection():j,Me=Ee.selectAll(".domain").data([null]),fe=Ee.selectAll(".tick").data(V,o).order(),ye=fe.exit(),re=fe.enter().append("g").attr("class","tick"),we=fe.select("line"),ke=fe.select("text");Me=Me.merge(Me.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),fe=fe.merge(re),we=we.merge(re.append("line").attr("stroke","currentColor").attr(B+"2",N*k)),ke=ke.merge(re.append("text").attr("fill","currentColor").attr(B,N*ae).attr("dy",s===zV?"0em":s===yfe?"0.71em":"0.32em")),j!==Ee&&(Me=Me.transition(j),fe=fe.transition(j),we=we.transition(j),ke=ke.transition(j),ye=ye.transition(j).attr("opacity",KAe).attr("transform",function(he){return isFinite(he=xe(he))?F(he+A):this.getAttribute("transform")}),re.attr("opacity",KAe).attr("transform",function(he){var De=this.parentNode.__axis;return F((De&&isFinite(De=De(he))?De:xe(he))+A)})),ye.remove(),Me.attr("d",s===GV||s===mfe?b?"M"+N*b+","+ce+"H"+A+"V"+be+"H"+N*b:"M"+A+","+ce+"V"+be:b?"M"+ce+","+N*b+"V"+A+"H"+be+"V"+N*b:"M"+ce+","+A+"H"+be),fe.attr("opacity",1).attr("transform",function(he){return F(xe(he)+A)}),we.attr(B+"2",N*k),ke.attr(B,N*ae).text(Z),Ee.filter(S4t).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",s===mfe?"start":s===GV?"end":"middle"),Ee.each(function(){this.__axis=xe})}return H.scale=function(j){return arguments.length?(o=j,H):o},H.ticks=function(){return f=Array.from(arguments),H},H.tickArguments=function(j){return arguments.length?(f=j==null?[]:Array.from(j),H):f.slice()},H.tickValues=function(j){return arguments.length?(p=j==null?null:Array.from(j),H):p&&p.slice()},H.tickFormat=function(j){return arguments.length?(w=j,H):w},H.tickSize=function(j){return arguments.length?(k=b=+j,H):k},H.tickSizeInner=function(j){return arguments.length?(k=+j,H):k},H.tickSizeOuter=function(j){return arguments.length?(b=+j,H):b},H.tickPadding=function(j){return arguments.length?(_=+j,H):_},H.offset=function(j){return arguments.length?(A=+j,H):A},H}function A4t(s){return WAe(zV,s)}function L4t(s){return WAe(yfe,s)}var M4t={value:()=>{}};function YAe(){for(var s=0,o=arguments.length,f={},p;s<o;++s){if(!(p=arguments[s]+"")||p in f||/[\s.]/.test(p))throw new Error("illegal type: "+p);f[p]=[]}return new qV(f)}function qV(s){this._=s}function D4t(s,o){return s.trim().split(/^|\s+/).map(function(f){var p="",w=f.indexOf(".");if(w>=0&&(p=f.slice(w+1),f=f.slice(0,w)),f&&!o.hasOwnProperty(f))throw new Error("unknown type: "+f);return{type:f,name:p}})}qV.prototype=YAe.prototype={constructor:qV,on:function(s,o){var f=this._,p=D4t(s+"",f),w,k=-1,b=p.length;if(arguments.length<2){for(;++k<b;)if((w=(s=p[k]).type)&&(w=I4t(f[w],s.name)))return w;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++k<b;)if(w=(s=p[k]).type)f[w]=XAe(f[w],s.name,o);else if(o==null)for(w in f)f[w]=XAe(f[w],s.name,null);return this},copy:function(){var s={},o=this._;for(var f in o)s[f]=o[f].slice();return new qV(s)},call:function(s,o){if((w=arguments.length-2)>0)for(var f=new Array(w),p=0,w,k;p<w;++p)f[p]=arguments[p+2];if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(k=this._[s],p=0,w=k.length;p<w;++p)k[p].value.apply(o,f)},apply:function(s,o,f){if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(var p=this._[s],w=0,k=p.length;w<k;++w)p[w].value.apply(o,f)}};function I4t(s,o){for(var f=0,p=s.length,w;f<p;++f)if((w=s[f]).name===o)return w.value}function XAe(s,o,f){for(var p=0,w=s.length;p<w;++p)if(s[p].name===o){s[p]=M4t,s=s.slice(0,p).concat(s.slice(p+1));break}return f!=null&&s.push({name:o,value:f}),s}var kfe="http://www.w3.org/1999/xhtml";const QAe={svg:"http://www.w3.org/2000/svg",xhtml:kfe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function VV(s){var o=s+="",f=o.indexOf(":");return f>=0&&(o=s.slice(0,f))!=="xmlns"&&(s=s.slice(f+1)),QAe.hasOwnProperty(o)?{space:QAe[o],local:s}:s}function O4t(s){return function(){var o=this.ownerDocument,f=this.namespaceURI;return f===kfe&&o.documentElement.namespaceURI===kfe?o.createElement(s):o.createElementNS(f,s)}}function N4t(s){return function(){return this.ownerDocument.createElementNS(s.space,s.local)}}function ZAe(s){var o=VV(s);return(o.local?N4t:O4t)(o)}function P4t(){}function xfe(s){return s==null?P4t:function(){return this.querySelector(s)}}function B4t(s){typeof s!="function"&&(s=xfe(s));for(var o=this._groups,f=o.length,p=new Array(f),w=0;w<f;++w)for(var k=o[w],b=k.length,_=p[w]=new Array(b),A,N,B=0;B<b;++B)(A=k[B])&&(N=s.call(A,A.__data__,B,k))&&("__data__"in A&&(N.__data__=A.__data__),_[B]=N);return new eg(p,this._parents)}function JAe(s){return s==null?[]:Array.isArray(s)?s:Array.from(s)}function F4t(){return[]}function eLe(s){return s==null?F4t:function(){return this.querySelectorAll(s)}}function R4t(s){return function(){return JAe(s.apply(this,arguments))}}function j4t(s){typeof s=="function"?s=R4t(s):s=eLe(s);for(var o=this._groups,f=o.length,p=[],w=[],k=0;k<f;++k)for(var b=o[k],_=b.length,A,N=0;N<_;++N)(A=b[N])&&(p.push(s.call(A,A.__data__,N,b)),w.push(A));return new eg(p,w)}function tLe(s){return function(){return this.matches(s)}}function nLe(s){return function(o){return o.matches(s)}}var $4t=Array.prototype.find;function H4t(s){return function(){return $4t.call(this.children,s)}}function z4t(){return this.firstElementChild}function G4t(s){return this.select(s==null?z4t:H4t(typeof s=="function"?s:nLe(s)))}var q4t=Array.prototype.filter;function V4t(){return Array.from(this.children)}function U4t(s){return function(){return q4t.call(this.children,s)}}function K4t(s){return this.selectAll(s==null?V4t:U4t(typeof s=="function"?s:nLe(s)))}function W4t(s){typeof s!="function"&&(s=tLe(s));for(var o=this._groups,f=o.length,p=new Array(f),w=0;w<f;++w)for(var k=o[w],b=k.length,_=p[w]=[],A,N=0;N<b;++N)(A=k[N])&&s.call(A,A.__data__,N,k)&&_.push(A);return new eg(p,this._parents)}function rLe(s){return new Array(s.length)}function Y4t(){return new eg(this._enter||this._groups.map(rLe),this._parents)}function UV(s,o){this.ownerDocument=s.ownerDocument,this.namespaceURI=s.namespaceURI,this._next=null,this._parent=s,this.__data__=o}UV.prototype={constructor:UV,appendChild:function(s){return this._parent.insertBefore(s,this._next)},insertBefore:function(s,o){return this._parent.insertBefore(s,o)},querySelector:function(s){return this._parent.querySelector(s)},querySelectorAll:function(s){return this._parent.querySelectorAll(s)}};function X4t(s){return function(){return s}}function Q4t(s,o,f,p,w,k){for(var b=0,_,A=o.length,N=k.length;b<N;++b)(_=o[b])?(_.__data__=k[b],p[b]=_):f[b]=new UV(s,k[b]);for(;b<A;++b)(_=o[b])&&(w[b]=_)}function Z4t(s,o,f,p,w,k,b){var _,A,N=new Map,B=o.length,F=k.length,H=new Array(B),j;for(_=0;_<B;++_)(A=o[_])&&(H[_]=j=b.call(A,A.__data__,_,o)+"",N.has(j)?w[_]=A:N.set(j,A));for(_=0;_<F;++_)j=b.call(s,k[_],_,k)+"",(A=N.get(j))?(p[_]=A,A.__data__=k[_],N.delete(j)):f[_]=new UV(s,k[_]);for(_=0;_<B;++_)(A=o[_])&&N.get(H[_])===A&&(w[_]=A)}function J4t(s){return s.__data__}function e5t(s,o){if(!arguments.length)return Array.from(this,J4t);var f=o?Z4t:Q4t,p=this._parents,w=this._groups;typeof s!="function"&&(s=X4t(s));for(var k=w.length,b=new Array(k),_=new Array(k),A=new Array(k),N=0;N<k;++N){var B=p[N],F=w[N],H=F.length,j=t5t(s.call(B,B&&B.__data__,N,p)),V=j.length,Z=_[N]=new Array(V),ae=b[N]=new Array(V),le=A[N]=new Array(H);f(B,F,Z,ae,le,j,o);for(var ce=0,be=0,xe,Ee;ce<V;++ce)if(xe=Z[ce]){for(ce>=be&&(be=ce+1);!(Ee=ae[be])&&++be<V;);xe._next=Ee||null}}return b=new eg(b,p),b._enter=_,b._exit=A,b}function t5t(s){return typeof s=="object"&&"length"in s?s:Array.from(s)}function n5t(){return new eg(this._exit||this._groups.map(rLe),this._parents)}function r5t(s,o,f){var p=this.enter(),w=this,k=this.exit();return typeof s=="function"?(p=s(p),p&&(p=p.selection())):p=p.append(s+""),o!=null&&(w=o(w),w&&(w=w.selection())),f==null?k.remove():f(k),p&&w?p.merge(w).order():w}function i5t(s){for(var o=s.selection?s.selection():s,f=this._groups,p=o._groups,w=f.length,k=p.length,b=Math.min(w,k),_=new Array(w),A=0;A<b;++A)for(var N=f[A],B=p[A],F=N.length,H=_[A]=new Array(F),j,V=0;V<F;++V)(j=N[V]||B[V])&&(H[V]=j);for(;A<w;++A)_[A]=f[A];return new eg(_,this._parents)}function s5t(){for(var s=this._groups,o=-1,f=s.length;++o<f;)for(var p=s[o],w=p.length-1,k=p[w],b;--w>=0;)(b=p[w])&&(k&&b.compareDocumentPosition(k)^4&&k.parentNode.insertBefore(b,k),k=b);return this}function a5t(s){s||(s=o5t);function o(F,H){return F&&H?s(F.__data__,H.__data__):!F-!H}for(var f=this._groups,p=f.length,w=new Array(p),k=0;k<p;++k){for(var b=f[k],_=b.length,A=w[k]=new Array(_),N,B=0;B<_;++B)(N=b[B])&&(A[B]=N);A.sort(o)}return new eg(w,this._parents).order()}function o5t(s,o){return s<o?-1:s>o?1:s>=o?0:NaN}function c5t(){var s=arguments[0];return arguments[0]=this,s.apply(null,arguments),this}function u5t(){return Array.from(this)}function l5t(){for(var s=this._groups,o=0,f=s.length;o<f;++o)for(var p=s[o],w=0,k=p.length;w<k;++w){var b=p[w];if(b)return b}return null}function h5t(){let s=0;for(const o of this)++s;return s}function f5t(){return!this.node()}function d5t(s){for(var o=this._groups,f=0,p=o.length;f<p;++f)for(var w=o[f],k=0,b=w.length,_;k<b;++k)(_=w[k])&&s.call(_,_.__data__,k,w);return this}function g5t(s){return function(){this.removeAttribute(s)}}function p5t(s){return function(){this.removeAttributeNS(s.space,s.local)}}function b5t(s,o){return function(){this.setAttribute(s,o)}}function v5t(s,o){return function(){this.setAttributeNS(s.space,s.local,o)}}function w5t(s,o){return function(){var f=o.apply(this,arguments);f==null?this.removeAttribute(s):this.setAttribute(s,f)}}function m5t(s,o){return function(){var f=o.apply(this,arguments);f==null?this.removeAttributeNS(s.space,s.local):this.setAttributeNS(s.space,s.local,f)}}function y5t(s,o){var f=VV(s);if(arguments.length<2){var p=this.node();return f.local?p.getAttributeNS(f.space,f.local):p.getAttribute(f)}return this.each((o==null?f.local?p5t:g5t:typeof o=="function"?f.local?m5t:w5t:f.local?v5t:b5t)(f,o))}function iLe(s){return s.ownerDocument&&s.ownerDocument.defaultView||s.document&&s||s.defaultView}function k5t(s){return function(){this.style.removeProperty(s)}}function x5t(s,o,f){return function(){this.style.setProperty(s,o,f)}}function E5t(s,o,f){return function(){var p=o.apply(this,arguments);p==null?this.style.removeProperty(s):this.style.setProperty(s,p,f)}}function T5t(s,o,f){return arguments.length>1?this.each((o==null?k5t:typeof o=="function"?E5t:x5t)(s,o,f??"")):nA(this.node(),s)}function nA(s,o){return s.style.getPropertyValue(o)||iLe(s).getComputedStyle(s,null).getPropertyValue(o)}function _5t(s){return function(){delete this[s]}}function C5t(s,o){return function(){this[s]=o}}function S5t(s,o){return function(){var f=o.apply(this,arguments);f==null?delete this[s]:this[s]=f}}function A5t(s,o){return arguments.length>1?this.each((o==null?_5t:typeof o=="function"?S5t:C5t)(s,o)):this.node()[s]}function sLe(s){return s.trim().split(/^|\s+/)}function Efe(s){return s.classList||new aLe(s)}function aLe(s){this._node=s,this._names=sLe(s.getAttribute("class")||"")}aLe.prototype={add:function(s){var o=this._names.indexOf(s);o<0&&(this._names.push(s),this._node.setAttribute("class",this._names.join(" ")))},remove:function(s){var o=this._names.indexOf(s);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(s){return this._names.indexOf(s)>=0}};function oLe(s,o){for(var f=Efe(s),p=-1,w=o.length;++p<w;)f.add(o[p])}function cLe(s,o){for(var f=Efe(s),p=-1,w=o.length;++p<w;)f.remove(o[p])}function L5t(s){return function(){oLe(this,s)}}function M5t(s){return function(){cLe(this,s)}}function D5t(s,o){return function(){(o.apply(this,arguments)?oLe:cLe)(this,s)}}function I5t(s,o){var f=sLe(s+"");if(arguments.length<2){for(var p=Efe(this.node()),w=-1,k=f.length;++w<k;)if(!p.contains(f[w]))return!1;return!0}return this.each((typeof o=="function"?D5t:o?L5t:M5t)(f,o))}function O5t(){this.textContent=""}function N5t(s){return function(){this.textContent=s}}function P5t(s){return function(){var o=s.apply(this,arguments);this.textContent=o??""}}function B5t(s){return arguments.length?this.each(s==null?O5t:(typeof s=="function"?P5t:N5t)(s)):this.node().textContent}function F5t(){this.innerHTML=""}function R5t(s){return function(){this.innerHTML=s}}function j5t(s){return function(){var o=s.apply(this,arguments);this.innerHTML=o??""}}function $5t(s){return arguments.length?this.each(s==null?F5t:(typeof s=="function"?j5t:R5t)(s)):this.node().innerHTML}function H5t(){this.nextSibling&&this.parentNode.appendChild(this)}function z5t(){return this.each(H5t)}function G5t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function q5t(){return this.each(G5t)}function V5t(s){var o=typeof s=="function"?s:ZAe(s);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function U5t(){return null}function K5t(s,o){var f=typeof s=="function"?s:ZAe(s),p=o==null?U5t:typeof o=="function"?o:xfe(o);return this.select(function(){return this.insertBefore(f.apply(this,arguments),p.apply(this,arguments)||null)})}function W5t(){var s=this.parentNode;s&&s.removeChild(this)}function Y5t(){return this.each(W5t)}function X5t(){var s=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(s,this.nextSibling):s}function Q5t(){var s=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(s,this.nextSibling):s}function Z5t(s){return this.select(s?Q5t:X5t)}function J5t(s){return arguments.length?this.property("__data__",s):this.node().__data__}function e6t(s){return function(o){s.call(this,o,this.__data__)}}function t6t(s){return s.trim().split(/^|\s+/).map(function(o){var f="",p=o.indexOf(".");return p>=0&&(f=o.slice(p+1),o=o.slice(0,p)),{type:o,name:f}})}function n6t(s){return function(){var o=this.__on;if(o){for(var f=0,p=-1,w=o.length,k;f<w;++f)k=o[f],(!s.type||k.type===s.type)&&k.name===s.name?this.removeEventListener(k.type,k.listener,k.options):o[++p]=k;++p?o.length=p:delete this.__on}}}function r6t(s,o,f){return function(){var p=this.__on,w,k=e6t(o);if(p){for(var b=0,_=p.length;b<_;++b)if((w=p[b]).type===s.type&&w.name===s.name){this.removeEventListener(w.type,w.listener,w.options),this.addEventListener(w.type,w.listener=k,w.options=f),w.value=o;return}}this.addEventListener(s.type,k,f),w={type:s.type,name:s.name,value:o,listener:k,options:f},p?p.push(w):this.__on=[w]}}function i6t(s,o,f){var p=t6t(s+""),w,k=p.length,b;if(arguments.length<2){var _=this.node().__on;if(_){for(var A=0,N=_.length,B;A<N;++A)for(w=0,B=_[A];w<k;++w)if((b=p[w]).type===B.type&&b.name===B.name)return B.value}return}for(_=o?r6t:n6t,w=0;w<k;++w)this.each(_(p[w],o,f));return this}function uLe(s,o,f){var p=iLe(s),w=p.CustomEvent;typeof w=="function"?w=new w(o,f):(w=p.document.createEvent("Event"),f?(w.initEvent(o,f.bubbles,f.cancelable),w.detail=f.detail):w.initEvent(o,!1,!1)),s.dispatchEvent(w)}function s6t(s,o){return function(){return uLe(this,s,o)}}function a6t(s,o){return function(){return uLe(this,s,o.apply(this,arguments))}}function o6t(s,o){return this.each((typeof o=="function"?a6t:s6t)(s,o))}function*c6t(){for(var s=this._groups,o=0,f=s.length;o<f;++o)for(var p=s[o],w=0,k=p.length,b;w<k;++w)(b=p[w])&&(yield b)}var Tfe=[null];function eg(s,o){this._groups=s,this._parents=o}function eN(){return new eg([[document.documentElement]],Tfe)}function u6t(){return this}eg.prototype=eN.prototype={constructor:eg,select:B4t,selectAll:j4t,selectChild:G4t,selectChildren:K4t,filter:W4t,data:e5t,enter:Y4t,exit:n5t,join:r5t,merge:i5t,selection:u6t,order:s5t,sort:a5t,call:c5t,nodes:u5t,node:l5t,size:h5t,empty:f5t,each:d5t,attr:y5t,style:T5t,property:A5t,classed:I5t,text:B5t,html:$5t,raise:z5t,lower:q5t,append:V5t,insert:K5t,remove:Y5t,clone:Z5t,datum:J5t,on:i6t,dispatch:o6t,[Symbol.iterator]:c6t};function sr(s){return typeof s=="string"?new eg([[document.querySelector(s)]],[document.documentElement]):new eg([[s]],Tfe)}function _fe(s){return typeof s=="string"?new eg([document.querySelectorAll(s)],[document.documentElement]):new eg([JAe(s)],Tfe)}function tN(s,o,f){s.prototype=o.prototype=f,f.constructor=s}function KV(s,o){var f=Object.create(s.prototype);for(var p in o)f[p]=o[p];return f}function SE(){}var nN=.7,WV=1/nN,rA="\\s*([+-]?\\d+)\\s*",rN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l6t=/^#([0-9a-f]{3,8})$/,h6t=new RegExp(`^rgb\\(${rA},${rA},${rA}\\)$`),f6t=new RegExp(`^rgb\\(${Xy},${Xy},${Xy}\\)$`),d6t=new RegExp(`^rgba\\(${rA},${rA},${rA},${rN}\\)$`),g6t=new RegExp(`^rgba\\(${Xy},${Xy},${Xy},${rN}\\)$`),p6t=new RegExp(`^hsl\\(${rN},${Xy},${Xy}\\)$`),b6t=new RegExp(`^hsla\\(${rN},${Xy},${Xy},${rN}\\)$`),lLe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tN(SE,AE,{copy(s){return Object.assign(new this.constructor,this,s)},displayable(){return this.rgb().displayable()},hex:hLe,formatHex:hLe,formatHex8:v6t,formatHsl:w6t,formatRgb:fLe,toString:fLe});function hLe(){return this.rgb().formatHex()}function v6t(){return this.rgb().formatHex8()}function w6t(){return wLe(this).formatHsl()}function fLe(){return this.rgb().formatRgb()}function AE(s){var o,f;return s=(s+"").trim().toLowerCase(),(o=l6t.exec(s))?(f=o[1].length,o=parseInt(o[1],16),f===6?dLe(o):f===3?new p0(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):f===8?YV(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):f===4?YV(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=h6t.exec(s))?new p0(o[1],o[2],o[3],1):(o=f6t.exec(s))?new p0(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=d6t.exec(s))?YV(o[1],o[2],o[3],o[4]):(o=g6t.exec(s))?YV(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=p6t.exec(s))?vLe(o[1],o[2]/100,o[3]/100,1):(o=b6t.exec(s))?vLe(o[1],o[2]/100,o[3]/100,o[4]):lLe.hasOwnProperty(s)?dLe(lLe[s]):s==="transparent"?new p0(NaN,NaN,NaN,0):null}function dLe(s){return new p0(s>>16&255,s>>8&255,s&255,1)}function YV(s,o,f,p){return p<=0&&(s=o=f=NaN),new p0(s,o,f,p)}function gLe(s){return s instanceof SE||(s=AE(s)),s?(s=s.rgb(),new p0(s.r,s.g,s.b,s.opacity)):new p0}function Cfe(s,o,f,p){return arguments.length===1?gLe(s):new p0(s,o,f,p??1)}function p0(s,o,f,p){this.r=+s,this.g=+o,this.b=+f,this.opacity=+p}tN(p0,Cfe,KV(SE,{brighter(s){return s=s==null?WV:Math.pow(WV,s),new p0(this.r*s,this.g*s,this.b*s,this.opacity)},darker(s){return s=s==null?nN:Math.pow(nN,s),new p0(this.r*s,this.g*s,this.b*s,this.opacity)},rgb(){return this},clamp(){return new p0(LE(this.r),LE(this.g),LE(this.b),XV(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pLe,formatHex:pLe,formatHex8:m6t,formatRgb:bLe,toString:bLe}));function pLe(){return`#${ME(this.r)}${ME(this.g)}${ME(this.b)}`}function m6t(){return`#${ME(this.r)}${ME(this.g)}${ME(this.b)}${ME((isNaN(this.opacity)?1:this.opacity)*255)}`}function bLe(){const s=XV(this.opacity);return`${s===1?"rgb(":"rgba("}${LE(this.r)}, ${LE(this.g)}, ${LE(this.b)}${s===1?")":`, ${s})`}`}function XV(s){return isNaN(s)?1:Math.max(0,Math.min(1,s))}function LE(s){return Math.max(0,Math.min(255,Math.round(s)||0))}function ME(s){return s=LE(s),(s<16?"0":"")+s.toString(16)}function vLe(s,o,f,p){return p<=0?s=o=f=NaN:f<=0||f>=1?s=o=NaN:o<=0&&(s=NaN),new Fw(s,o,f,p)}function wLe(s){if(s instanceof Fw)return new Fw(s.h,s.s,s.l,s.opacity);if(s instanceof SE||(s=AE(s)),!s)return new Fw;if(s instanceof Fw)return s;s=s.rgb();var o=s.r/255,f=s.g/255,p=s.b/255,w=Math.min(o,f,p),k=Math.max(o,f,p),b=NaN,_=k-w,A=(k+w)/2;return _?(o===k?b=(f-p)/_+(f<p)*6:f===k?b=(p-o)/_+2:b=(o-f)/_+4,_/=A<.5?k+w:2-k-w,b*=60):_=A>0&&A<1?0:b,new Fw(b,_,A,s.opacity)}function y6t(s,o,f,p){return arguments.length===1?wLe(s):new Fw(s,o,f,p??1)}function Fw(s,o,f,p){this.h=+s,this.s=+o,this.l=+f,this.opacity=+p}tN(Fw,y6t,KV(SE,{brighter(s){return s=s==null?WV:Math.pow(WV,s),new Fw(this.h,this.s,this.l*s,this.opacity)},darker(s){return s=s==null?nN:Math.pow(nN,s),new Fw(this.h,this.s,this.l*s,this.opacity)},rgb(){var s=this.h%360+(this.h<0)*360,o=isNaN(s)||isNaN(this.s)?0:this.s,f=this.l,p=f+(f<.5?f:1-f)*o,w=2*f-p;return new p0(Sfe(s>=240?s-240:s+120,w,p),Sfe(s,w,p),Sfe(s<120?s+240:s-120,w,p),this.opacity)},clamp(){return new Fw(mLe(this.h),QV(this.s),QV(this.l),XV(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const s=XV(this.opacity);return`${s===1?"hsl(":"hsla("}${mLe(this.h)}, ${QV(this.s)*100}%, ${QV(this.l)*100}%${s===1?")":`, ${s})`}`}}));function mLe(s){return s=(s||0)%360,s<0?s+360:s}function QV(s){return Math.max(0,Math.min(1,s||0))}function Sfe(s,o,f){return(s<60?o+(f-o)*s/60:s<180?f:s<240?o+(f-o)*(240-s)/60:o)*255}const k6t=Math.PI/180,x6t=180/Math.PI,ZV=18,yLe=.96422,kLe=1,xLe=.82521,ELe=4/29,iA=6/29,TLe=3*iA*iA,E6t=iA*iA*iA;function _Le(s){if(s instanceof Qy)return new Qy(s.l,s.a,s.b,s.opacity);if(s instanceof o5)return CLe(s);s instanceof p0||(s=gLe(s));var o=Dfe(s.r),f=Dfe(s.g),p=Dfe(s.b),w=Afe((.2225045*o+.7168786*f+.0606169*p)/kLe),k,b;return o===f&&f===p?k=b=w:(k=Afe((.4360747*o+.3850649*f+.1430804*p)/yLe),b=Afe((.0139322*o+.0971045*f+.7141733*p)/xLe)),new Qy(116*w-16,500*(k-w),200*(w-b),s.opacity)}function T6t(s,o,f,p){return arguments.length===1?_Le(s):new Qy(s,o,f,p??1)}function Qy(s,o,f,p){this.l=+s,this.a=+o,this.b=+f,this.opacity=+p}tN(Qy,T6t,KV(SE,{brighter(s){return new Qy(this.l+ZV*(s??1),this.a,this.b,this.opacity)},darker(s){return new Qy(this.l-ZV*(s??1),this.a,this.b,this.opacity)},rgb(){var s=(this.l+16)/116,o=isNaN(this.a)?s:s+this.a/500,f=isNaN(this.b)?s:s-this.b/200;return o=yLe*Lfe(o),s=kLe*Lfe(s),f=xLe*Lfe(f),new p0(Mfe(3.1338561*o-1.6168667*s-.4906146*f),Mfe(-.9787684*o+1.9161415*s+.033454*f),Mfe(.0719453*o-.2289914*s+1.4052427*f),this.opacity)}}));function Afe(s){return s>E6t?Math.pow(s,1/3):s/TLe+ELe}function Lfe(s){return s>iA?s*s*s:TLe*(s-ELe)}function Mfe(s){return 255*(s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055)}function Dfe(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function _6t(s){if(s instanceof o5)return new o5(s.h,s.c,s.l,s.opacity);if(s instanceof Qy||(s=_Le(s)),s.a===0&&s.b===0)return new o5(NaN,0<s.l&&s.l<100?0:NaN,s.l,s.opacity);var o=Math.atan2(s.b,s.a)*x6t;return new o5(o<0?o+360:o,Math.sqrt(s.a*s.a+s.b*s.b),s.l,s.opacity)}function Ife(s,o,f,p){return arguments.length===1?_6t(s):new o5(s,o,f,p??1)}function o5(s,o,f,p){this.h=+s,this.c=+o,this.l=+f,this.opacity=+p}function CLe(s){if(isNaN(s.h))return new Qy(s.l,0,0,s.opacity);var o=s.h*k6t;return new Qy(s.l,Math.cos(o)*s.c,Math.sin(o)*s.c,s.opacity)}tN(o5,Ife,KV(SE,{brighter(s){return new o5(this.h,this.c,this.l+ZV*(s??1),this.opacity)},darker(s){return new o5(this.h,this.c,this.l-ZV*(s??1),this.opacity)},rgb(){return CLe(this).rgb()}}));const JV=s=>()=>s;function SLe(s,o){return function(f){return s+f*o}}function C6t(s,o,f){return s=Math.pow(s,f),o=Math.pow(o,f)-s,f=1/f,function(p){return Math.pow(s+p*o,f)}}function S6t(s,o){var f=o-s;return f?SLe(s,f>180||f<-180?f-360*Math.round(f/360):f):JV(isNaN(s)?o:s)}function A6t(s){return(s=+s)==1?iN:function(o,f){return f-o?C6t(o,f,s):JV(isNaN(o)?f:o)}}function iN(s,o){var f=o-s;return f?SLe(s,f):JV(isNaN(s)?o:s)}const eU=function s(o){var f=A6t(o);function p(w,k){var b=f((w=Cfe(w)).r,(k=Cfe(k)).r),_=f(w.g,k.g),A=f(w.b,k.b),N=iN(w.opacity,k.opacity);return function(B){return w.r=b(B),w.g=_(B),w.b=A(B),w.opacity=N(B),w+""}}return p.gamma=s,p}(1);function L6t(s,o){o||(o=[]);var f=s?Math.min(o.length,s.length):0,p=o.slice(),w;return function(k){for(w=0;w<f;++w)p[w]=s[w]*(1-k)+o[w]*k;return p}}function M6t(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function D6t(s,o){var f=o?o.length:0,p=s?Math.min(f,s.length):0,w=new Array(p),k=new Array(f),b;for(b=0;b<p;++b)w[b]=Pfe(s[b],o[b]);for(;b<f;++b)k[b]=o[b];return function(_){for(b=0;b<p;++b)k[b]=w[b](_);return k}}function I6t(s,o){var f=new Date;return s=+s,o=+o,function(p){return f.setTime(s*(1-p)+o*p),f}}function Rw(s,o){return s=+s,o=+o,function(f){return s*(1-f)+o*f}}function O6t(s,o){var f={},p={},w;(s===null||typeof s!="object")&&(s={}),(o===null||typeof o!="object")&&(o={});for(w in o)w in s?f[w]=Pfe(s[w],o[w]):p[w]=o[w];return function(k){for(w in f)p[w]=f[w](k);return p}}var Ofe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nfe=new RegExp(Ofe.source,"g");function N6t(s){return function(){return s}}function P6t(s){return function(o){return s(o)+""}}function ALe(s,o){var f=Ofe.lastIndex=Nfe.lastIndex=0,p,w,k,b=-1,_=[],A=[];for(s=s+"",o=o+"";(p=Ofe.exec(s))&&(w=Nfe.exec(o));)(k=w.index)>f&&(k=o.slice(f,k),_[b]?_[b]+=k:_[++b]=k),(p=p[0])===(w=w[0])?_[b]?_[b]+=w:_[++b]=w:(_[++b]=null,A.push({i:b,x:Rw(p,w)})),f=Nfe.lastIndex;return f<o.length&&(k=o.slice(f),_[b]?_[b]+=k:_[++b]=k),_.length<2?A[0]?P6t(A[0].x):N6t(o):(o=A.length,function(N){for(var B=0,F;B<o;++B)_[(F=A[B]).i]=F.x(N);return _.join("")})}function Pfe(s,o){var f=typeof o,p;return o==null||f==="boolean"?JV(o):(f==="number"?Rw:f==="string"?(p=AE(o))?(o=p,eU):ALe:o instanceof AE?eU:o instanceof Date?I6t:M6t(o)?L6t:Array.isArray(o)?D6t:typeof o.valueOf!="function"&&typeof o.toString!="function"||isNaN(o)?O6t:Rw)(s,o)}function B6t(s,o){return s=+s,o=+o,function(f){return Math.round(s*(1-f)+o*f)}}var LLe=180/Math.PI,Bfe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function MLe(s,o,f,p,w,k){var b,_,A;return(b=Math.sqrt(s*s+o*o))&&(s/=b,o/=b),(A=s*f+o*p)&&(f-=s*A,p-=o*A),(_=Math.sqrt(f*f+p*p))&&(f/=_,p/=_,A/=_),s*p<o*f&&(s=-s,o=-o,A=-A,b=-b),{translateX:w,translateY:k,rotate:Math.atan2(o,s)*LLe,skewX:Math.atan(A)*LLe,scaleX:b,scaleY:_}}var tU;function F6t(s){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(s+"");return o.isIdentity?Bfe:MLe(o.a,o.b,o.c,o.d,o.e,o.f)}function R6t(s){return s==null||(tU||(tU=document.createElementNS("http://www.w3.org/2000/svg","g")),tU.setAttribute("transform",s),!(s=tU.transform.baseVal.consolidate()))?Bfe:(s=s.matrix,MLe(s.a,s.b,s.c,s.d,s.e,s.f))}function DLe(s,o,f,p){function w(N){return N.length?N.pop()+" ":""}function k(N,B,F,H,j,V){if(N!==F||B!==H){var Z=j.push("translate(",null,o,null,f);V.push({i:Z-4,x:Rw(N,F)},{i:Z-2,x:Rw(B,H)})}else(F||H)&&j.push("translate("+F+o+H+f)}function b(N,B,F,H){N!==B?(N-B>180?B+=360:B-N>180&&(N+=360),H.push({i:F.push(w(F)+"rotate(",null,p)-2,x:Rw(N,B)})):B&&F.push(w(F)+"rotate("+B+p)}function _(N,B,F,H){N!==B?H.push({i:F.push(w(F)+"skewX(",null,p)-2,x:Rw(N,B)}):B&&F.push(w(F)+"skewX("+B+p)}function A(N,B,F,H,j,V){if(N!==F||B!==H){var Z=j.push(w(j)+"scale(",null,",",null,")");V.push({i:Z-4,x:Rw(N,F)},{i:Z-2,x:Rw(B,H)})}else(F!==1||H!==1)&&j.push(w(j)+"scale("+F+","+H+")")}return function(N,B){var F=[],H=[];return N=s(N),B=s(B),k(N.translateX,N.translateY,B.translateX,B.translateY,F,H),b(N.rotate,B.rotate,F,H),_(N.skewX,B.skewX,F,H),A(N.scaleX,N.scaleY,B.scaleX,B.scaleY,F,H),N=B=null,function(j){for(var V=-1,Z=H.length,ae;++V<Z;)F[(ae=H[V]).i]=ae.x(j);return F.join("")}}}var j6t=DLe(F6t,"px, ","px)","deg)"),$6t=DLe(R6t,", ",")",")");function H6t(s){return function(o,f){var p=s((o=Ife(o)).h,(f=Ife(f)).h),w=iN(o.c,f.c),k=iN(o.l,f.l),b=iN(o.opacity,f.opacity);return function(_){return o.h=p(_),o.c=w(_),o.l=k(_),o.opacity=b(_),o+""}}}const z6t=H6t(S6t);var sA=0,sN=0,aN=0,ILe=1e3,nU,oN,rU=0,DE=0,iU=0,cN=typeof performance=="object"&&performance.now?performance:Date,OLe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(s){setTimeout(s,17)};function Ffe(){return DE||(OLe(G6t),DE=cN.now()+iU)}function G6t(){DE=0}function sU(){this._call=this._time=this._next=null}sU.prototype=NLe.prototype={constructor:sU,restart:function(s,o,f){if(typeof s!="function")throw new TypeError("callback is not a function");f=(f==null?Ffe():+f)+(o==null?0:+o),!this._next&&oN!==this&&(oN?oN._next=this:nU=this,oN=this),this._call=s,this._time=f,Rfe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rfe())}};function NLe(s,o,f){var p=new sU;return p.restart(s,o,f),p}function q6t(){Ffe(),++sA;for(var s=nU,o;s;)(o=DE-s._time)>=0&&s._call.call(void 0,o),s=s._next;--sA}function PLe(){DE=(rU=cN.now())+iU,sA=sN=0;try{q6t()}finally{sA=0,U6t(),DE=0}}function V6t(){var s=cN.now(),o=s-rU;o>ILe&&(iU-=o,rU=s)}function U6t(){for(var s,o=nU,f,p=1/0;o;)o._call?(p>o._time&&(p=o._time),s=o,o=o._next):(f=o._next,o._next=null,o=s?s._next=f:nU=f);oN=s,Rfe(p)}function Rfe(s){if(!sA){sN&&(sN=clearTimeout(sN));var o=s-DE;o>24?(s<1/0&&(sN=setTimeout(PLe,s-cN.now()-iU)),aN&&(aN=clearInterval(aN))):(aN||(rU=cN.now(),aN=setInterval(V6t,ILe)),sA=1,OLe(PLe))}}function BLe(s,o,f){var p=new sU;return o=o==null?0:+o,p.restart(w=>{p.stop(),s(w+o)},o,f),p}var K6t=YAe("start","end","cancel","interrupt"),W6t=[],FLe=0,RLe=1,jfe=2,aU=3,jLe=4,$fe=5,oU=6;function cU(s,o,f,p,w,k){var b=s.__transition;if(!b)s.__transition={};else if(f in b)return;Y6t(s,f,{name:o,index:p,group:w,on:K6t,tween:W6t,time:k.time,delay:k.delay,duration:k.duration,ease:k.ease,timer:null,state:FLe})}function Hfe(s,o){var f=jw(s,o);if(f.state>FLe)throw new Error("too late; already scheduled");return f}function Zy(s,o){var f=jw(s,o);if(f.state>aU)throw new Error("too late; already running");return f}function jw(s,o){var f=s.__transition;if(!f||!(f=f[o]))throw new Error("transition not found");return f}function Y6t(s,o,f){var p=s.__transition,w;p[o]=f,f.timer=NLe(k,0,f.time);function k(N){f.state=RLe,f.timer.restart(b,f.delay,f.time),f.delay<=N&&b(N-f.delay)}function b(N){var B,F,H,j;if(f.state!==RLe)return A();for(B in p)if(j=p[B],j.name===f.name){if(j.state===aU)return BLe(b);j.state===jLe?(j.state=oU,j.timer.stop(),j.on.call("interrupt",s,s.__data__,j.index,j.group),delete p[B]):+B<o&&(j.state=oU,j.timer.stop(),j.on.call("cancel",s,s.__data__,j.index,j.group),delete p[B])}if(BLe(function(){f.state===aU&&(f.state=jLe,f.timer.restart(_,f.delay,f.time),_(N))}),f.state=jfe,f.on.call("start",s,s.__data__,f.index,f.group),f.state===jfe){for(f.state=aU,w=new Array(H=f.tween.length),B=0,F=-1;B<H;++B)(j=f.tween[B].value.call(s,s.__data__,f.index,f.group))&&(w[++F]=j);w.length=F+1}}function _(N){for(var B=N<f.duration?f.ease.call(null,N/f.duration):(f.timer.restart(A),f.state=$fe,1),F=-1,H=w.length;++F<H;)w[F].call(s,B);f.state===$fe&&(f.on.call("end",s,s.__data__,f.index,f.group),A())}function A(){f.state=oU,f.timer.stop(),delete p[o];for(var N in p)return;delete s.__transition}}function X6t(s,o){var f=s.__transition,p,w,k=!0,b;if(f){o=o==null?null:o+"";for(b in f){if((p=f[b]).name!==o){k=!1;continue}w=p.state>jfe&&p.state<$fe,p.state=oU,p.timer.stop(),p.on.call(w?"interrupt":"cancel",s,s.__data__,p.index,p.group),delete f[b]}k&&delete s.__transition}}function Q6t(s){return this.each(function(){X6t(this,s)})}function Z6t(s,o){var f,p;return function(){var w=Zy(this,s),k=w.tween;if(k!==f){p=f=k;for(var b=0,_=p.length;b<_;++b)if(p[b].name===o){p=p.slice(),p.splice(b,1);break}}w.tween=p}}function J6t(s,o,f){var p,w;if(typeof f!="function")throw new Error;return function(){var k=Zy(this,s),b=k.tween;if(b!==p){w=(p=b).slice();for(var _={name:o,value:f},A=0,N=w.length;A<N;++A)if(w[A].name===o){w[A]=_;break}A===N&&w.push(_)}k.tween=w}}function ekt(s,o){var f=this._id;if(s+="",arguments.length<2){for(var p=jw(this.node(),f).tween,w=0,k=p.length,b;w<k;++w)if((b=p[w]).name===s)return b.value;return null}return this.each((o==null?Z6t:J6t)(f,s,o))}function zfe(s,o,f){var p=s._id;return s.each(function(){var w=Zy(this,p);(w.value||(w.value={}))[o]=f.apply(this,arguments)}),function(w){return jw(w,p).value[o]}}function $Le(s,o){var f;return(typeof o=="number"?Rw:o instanceof AE?eU:(f=AE(o))?(o=f,eU):ALe)(s,o)}function tkt(s){return function(){this.removeAttribute(s)}}function nkt(s){return function(){this.removeAttributeNS(s.space,s.local)}}function rkt(s,o,f){var p,w=f+"",k;return function(){var b=this.getAttribute(s);return b===w?null:b===p?k:k=o(p=b,f)}}function ikt(s,o,f){var p,w=f+"",k;return function(){var b=this.getAttributeNS(s.space,s.local);return b===w?null:b===p?k:k=o(p=b,f)}}function skt(s,o,f){var p,w,k;return function(){var b,_=f(this),A;return _==null?void this.removeAttribute(s):(b=this.getAttribute(s),A=_+"",b===A?null:b===p&&A===w?k:(w=A,k=o(p=b,_)))}}function akt(s,o,f){var p,w,k;return function(){var b,_=f(this),A;return _==null?void this.removeAttributeNS(s.space,s.local):(b=this.getAttributeNS(s.space,s.local),A=_+"",b===A?null:b===p&&A===w?k:(w=A,k=o(p=b,_)))}}function okt(s,o){var f=VV(s),p=f==="transform"?$6t:$Le;return this.attrTween(s,typeof o=="function"?(f.local?akt:skt)(f,p,zfe(this,"attr."+s,o)):o==null?(f.local?nkt:tkt)(f):(f.local?ikt:rkt)(f,p,o))}function ckt(s,o){return function(f){this.setAttribute(s,o.call(this,f))}}function ukt(s,o){return function(f){this.setAttributeNS(s.space,s.local,o.call(this,f))}}function lkt(s,o){var f,p;function w(){var k=o.apply(this,arguments);return k!==p&&(f=(p=k)&&ukt(s,k)),f}return w._value=o,w}function hkt(s,o){var f,p;function w(){var k=o.apply(this,arguments);return k!==p&&(f=(p=k)&&ckt(s,k)),f}return w._value=o,w}function fkt(s,o){var f="attr."+s;if(arguments.length<2)return(f=this.tween(f))&&f._value;if(o==null)return this.tween(f,null);if(typeof o!="function")throw new Error;var p=VV(s);return this.tween(f,(p.local?lkt:hkt)(p,o))}function dkt(s,o){return function(){Hfe(this,s).delay=+o.apply(this,arguments)}}function gkt(s,o){return o=+o,function(){Hfe(this,s).delay=o}}function pkt(s){var o=this._id;return arguments.length?this.each((typeof s=="function"?dkt:gkt)(o,s)):jw(this.node(),o).delay}function bkt(s,o){return function(){Zy(this,s).duration=+o.apply(this,arguments)}}function vkt(s,o){return o=+o,function(){Zy(this,s).duration=o}}function wkt(s){var o=this._id;return arguments.length?this.each((typeof s=="function"?bkt:vkt)(o,s)):jw(this.node(),o).duration}function mkt(s,o){if(typeof o!="function")throw new Error;return function(){Zy(this,s).ease=o}}function ykt(s){var o=this._id;return arguments.length?this.each(mkt(o,s)):jw(this.node(),o).ease}function kkt(s,o){return function(){var f=o.apply(this,arguments);if(typeof f!="function")throw new Error;Zy(this,s).ease=f}}function xkt(s){if(typeof s!="function")throw new Error;return this.each(kkt(this._id,s))}function Ekt(s){typeof s!="function"&&(s=tLe(s));for(var o=this._groups,f=o.length,p=new Array(f),w=0;w<f;++w)for(var k=o[w],b=k.length,_=p[w]=[],A,N=0;N<b;++N)(A=k[N])&&s.call(A,A.__data__,N,k)&&_.push(A);return new c5(p,this._parents,this._name,this._id)}function Tkt(s){if(s._id!==this._id)throw new Error;for(var o=this._groups,f=s._groups,p=o.length,w=f.length,k=Math.min(p,w),b=new Array(p),_=0;_<k;++_)for(var A=o[_],N=f[_],B=A.length,F=b[_]=new Array(B),H,j=0;j<B;++j)(H=A[j]||N[j])&&(F[j]=H);for(;_<p;++_)b[_]=o[_];return new c5(b,this._parents,this._name,this._id)}function _kt(s){return(s+"").trim().split(/^|\s+/).every(function(o){var f=o.indexOf(".");return f>=0&&(o=o.slice(0,f)),!o||o==="start"})}function Ckt(s,o,f){var p,w,k=_kt(o)?Hfe:Zy;return function(){var b=k(this,s),_=b.on;_!==p&&(w=(p=_).copy()).on(o,f),b.on=w}}function Skt(s,o){var f=this._id;return arguments.length<2?jw(this.node(),f).on.on(s):this.each(Ckt(f,s,o))}function Akt(s){return function(){var o=this.parentNode;for(var f in this.__transition)if(+f!==s)return;o&&o.removeChild(this)}}function Lkt(){return this.on("end.remove",Akt(this._id))}function Mkt(s){var o=this._name,f=this._id;typeof s!="function"&&(s=xfe(s));for(var p=this._groups,w=p.length,k=new Array(w),b=0;b<w;++b)for(var _=p[b],A=_.length,N=k[b]=new Array(A),B,F,H=0;H<A;++H)(B=_[H])&&(F=s.call(B,B.__data__,H,_))&&("__data__"in B&&(F.__data__=B.__data__),N[H]=F,cU(N[H],o,f,H,N,jw(B,f)));return new c5(k,this._parents,o,f)}function Dkt(s){var o=this._name,f=this._id;typeof s!="function"&&(s=eLe(s));for(var p=this._groups,w=p.length,k=[],b=[],_=0;_<w;++_)for(var A=p[_],N=A.length,B,F=0;F<N;++F)if(B=A[F]){for(var H=s.call(B,B.__data__,F,A),j,V=jw(B,f),Z=0,ae=H.length;Z<ae;++Z)(j=H[Z])&&cU(j,o,f,Z,H,V);k.push(H),b.push(B)}return new c5(k,b,o,f)}var Ikt=eN.prototype.constructor;function Okt(){return new Ikt(this._groups,this._parents)}function Nkt(s,o){var f,p,w;return function(){var k=nA(this,s),b=(this.style.removeProperty(s),nA(this,s));return k===b?null:k===f&&b===p?w:w=o(f=k,p=b)}}function HLe(s){return function(){this.style.removeProperty(s)}}function Pkt(s,o,f){var p,w=f+"",k;return function(){var b=nA(this,s);return b===w?null:b===p?k:k=o(p=b,f)}}function Bkt(s,o,f){var p,w,k;return function(){var b=nA(this,s),_=f(this),A=_+"";return _==null&&(A=_=(this.style.removeProperty(s),nA(this,s))),b===A?null:b===p&&A===w?k:(w=A,k=o(p=b,_))}}function Fkt(s,o){var f,p,w,k="style."+o,b="end."+k,_;return function(){var A=Zy(this,s),N=A.on,B=A.value[k]==null?_||(_=HLe(o)):void 0;(N!==f||w!==B)&&(p=(f=N).copy()).on(b,w=B),A.on=p}}function Rkt(s,o,f){var p=(s+="")=="transform"?j6t:$Le;return o==null?this.styleTween(s,Nkt(s,p)).on("end.style."+s,HLe(s)):typeof o=="function"?this.styleTween(s,Bkt(s,p,zfe(this,"style."+s,o))).each(Fkt(this._id,s)):this.styleTween(s,Pkt(s,p,o),f).on("end.style."+s,null)}function jkt(s,o,f){return function(p){this.style.setProperty(s,o.call(this,p),f)}}function $kt(s,o,f){var p,w;function k(){var b=o.apply(this,arguments);return b!==w&&(p=(w=b)&&jkt(s,b,f)),p}return k._value=o,k}function Hkt(s,o,f){var p="style."+(s+="");if(arguments.length<2)return(p=this.tween(p))&&p._value;if(o==null)return this.tween(p,null);if(typeof o!="function")throw new Error;return this.tween(p,$kt(s,o,f??""))}function zkt(s){return function(){this.textContent=s}}function Gkt(s){return function(){var o=s(this);this.textContent=o??""}}function qkt(s){return this.tween("text",typeof s=="function"?Gkt(zfe(this,"text",s)):zkt(s==null?"":s+""))}function Vkt(s){return function(o){this.textContent=s.call(this,o)}}function Ukt(s){var o,f;function p(){var w=s.apply(this,arguments);return w!==f&&(o=(f=w)&&Vkt(w)),o}return p._value=s,p}function Kkt(s){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(s==null)return this.tween(o,null);if(typeof s!="function")throw new Error;return this.tween(o,Ukt(s))}function Wkt(){for(var s=this._name,o=this._id,f=zLe(),p=this._groups,w=p.length,k=0;k<w;++k)for(var b=p[k],_=b.length,A,N=0;N<_;++N)if(A=b[N]){var B=jw(A,o);cU(A,s,f,N,b,{time:B.time+B.delay+B.duration,delay:0,duration:B.duration,ease:B.ease})}return new c5(p,this._parents,s,f)}function Ykt(){var s,o,f=this,p=f._id,w=f.size();return new Promise(function(k,b){var _={value:b},A={value:function(){--w===0&&k()}};f.each(function(){var N=Zy(this,p),B=N.on;B!==s&&(o=(s=B).copy(),o._.cancel.push(_),o._.interrupt.push(_),o._.end.push(A)),N.on=o}),w===0&&k()})}var Xkt=0;function c5(s,o,f,p){this._groups=s,this._parents=o,this._name=f,this._id=p}function zLe(){return++Xkt}var u5=eN.prototype;c5.prototype={constructor:c5,select:Mkt,selectAll:Dkt,selectChild:u5.selectChild,selectChildren:u5.selectChildren,filter:Ekt,merge:Tkt,selection:Okt,transition:Wkt,call:u5.call,nodes:u5.nodes,node:u5.node,size:u5.size,empty:u5.empty,each:u5.each,on:Skt,attr:okt,attrTween:fkt,style:Rkt,styleTween:Hkt,text:qkt,textTween:Kkt,remove:Lkt,tween:ekt,delay:pkt,duration:wkt,ease:ykt,easeVarying:xkt,end:Ykt,[Symbol.iterator]:u5[Symbol.iterator]};function Qkt(s){return((s*=2)<=1?s*s*s:(s-=2)*s*s+2)/2}var Zkt={time:null,delay:0,duration:250,ease:Qkt};function Jkt(s,o){for(var f;!(f=s.__transition)||!(f=f[o]);)if(!(s=s.parentNode))throw new Error(`transition ${o} not found`);return f}function e8t(s){var o,f;s instanceof c5?(o=s._id,s=s._name):(o=zLe(),(f=Zkt).time=Ffe(),s=s==null?null:s+"");for(var p=this._groups,w=p.length,k=0;k<w;++k)for(var b=p[k],_=b.length,A,N=0;N<_;++N)(A=b[N])&&cU(A,s,o,N,b,f||Jkt(A,o));return new c5(p,this._parents,s,o)}eN.prototype.interrupt=Q6t,eN.prototype.transition=e8t;const Gfe=Math.PI,qfe=2*Gfe,IE=1e-6,t8t=qfe-IE;function Vfe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ufe(){return new Vfe}Vfe.prototype=Ufe.prototype={constructor:Vfe,moveTo:function(s,o){this._+="M"+(this._x0=this._x1=+s)+","+(this._y0=this._y1=+o)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(s,o){this._+="L"+(this._x1=+s)+","+(this._y1=+o)},quadraticCurveTo:function(s,o,f,p){this._+="Q"+ +s+","+ +o+","+(this._x1=+f)+","+(this._y1=+p)},bezierCurveTo:function(s,o,f,p,w,k){this._+="C"+ +s+","+ +o+","+ +f+","+ +p+","+(this._x1=+w)+","+(this._y1=+k)},arcTo:function(s,o,f,p,w){s=+s,o=+o,f=+f,p=+p,w=+w;var k=this._x1,b=this._y1,_=f-s,A=p-o,N=k-s,B=b-o,F=N*N+B*B;if(w<0)throw new Error("negative radius: "+w);if(this._x1===null)this._+="M"+(this._x1=s)+","+(this._y1=o);else if(F>IE)if(!(Math.abs(B*_-A*N)>IE)||!w)this._+="L"+(this._x1=s)+","+(this._y1=o);else{var H=f-k,j=p-b,V=_*_+A*A,Z=H*H+j*j,ae=Math.sqrt(V),le=Math.sqrt(F),ce=w*Math.tan((Gfe-Math.acos((V+F-Z)/(2*ae*le)))/2),be=ce/le,xe=ce/ae;Math.abs(be-1)>IE&&(this._+="L"+(s+be*N)+","+(o+be*B)),this._+="A"+w+","+w+",0,0,"+ +(B*H>N*j)+","+(this._x1=s+xe*_)+","+(this._y1=o+xe*A)}},arc:function(s,o,f,p,w,k){s=+s,o=+o,f=+f,k=!!k;var b=f*Math.cos(p),_=f*Math.sin(p),A=s+b,N=o+_,B=1^k,F=k?p-w:w-p;if(f<0)throw new Error("negative radius: "+f);this._x1===null?this._+="M"+A+","+N:(Math.abs(this._x1-A)>IE||Math.abs(this._y1-N)>IE)&&(this._+="L"+A+","+N),f&&(F<0&&(F=F%qfe+qfe),F>t8t?this._+="A"+f+","+f+",0,1,"+B+","+(s-b)+","+(o-_)+"A"+f+","+f+",0,1,"+B+","+(this._x1=A)+","+(this._y1=N):F>IE&&(this._+="A"+f+","+f+",0,"+ +(F>=Gfe)+","+B+","+(this._x1=s+f*Math.cos(w))+","+(this._y1=o+f*Math.sin(w))))},rect:function(s,o,f,p){this._+="M"+(this._x0=this._x1=+s)+","+(this._y0=this._y1=+o)+"h"+ +f+"v"+ +p+"h"+-f+"Z"},toString:function(){return this._}};function n8t(s){if(!s.ok)throw new Error(s.status+" "+s.statusText);return s.text()}function r8t(s,o){return fetch(s,o).then(n8t)}function i8t(s){return(o,f)=>r8t(o,f).then(p=>new DOMParser().parseFromString(p,s))}var s8t=i8t("image/svg+xml");function a8t(s){return Math.abs(s=Math.round(s))>=1e21?s.toLocaleString("en").replace(/,/g,""):s.toString(10)}function uU(s,o){if((f=(s=o?s.toExponential(o-1):s.toExponential()).indexOf("e"))<0)return null;var f,p=s.slice(0,f);return[p.length>1?p[0]+p.slice(2):p,+s.slice(f+1)]}function aA(s){return s=uU(Math.abs(s)),s?s[1]:NaN}function o8t(s,o){return function(f,p){for(var w=f.length,k=[],b=0,_=s[0],A=0;w>0&&_>0&&(A+_+1>p&&(_=Math.max(1,p-A)),k.push(f.substring(w-=_,w+_)),!((A+=_+1)>p));)_=s[b=(b+1)%s.length];return k.reverse().join(o)}}function c8t(s){return function(o){return o.replace(/[0-9]/g,function(f){return s[+f]})}}var u8t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lU(s){if(!(o=u8t.exec(s)))throw new Error("invalid format: "+s);var o;return new Kfe({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10]})}lU.prototype=Kfe.prototype;function Kfe(s){this.fill=s.fill===void 0?" ":s.fill+"",this.align=s.align===void 0?">":s.align+"",this.sign=s.sign===void 0?"-":s.sign+"",this.symbol=s.symbol===void 0?"":s.symbol+"",this.zero=!!s.zero,this.width=s.width===void 0?void 0:+s.width,this.comma=!!s.comma,this.precision=s.precision===void 0?void 0:+s.precision,this.trim=!!s.trim,this.type=s.type===void 0?"":s.type+""}Kfe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l8t(s){e:for(var o=s.length,f=1,p=-1,w;f<o;++f)switch(s[f]){case".":p=w=f;break;case"0":p===0&&(p=f),w=f;break;default:if(!+s[f])break e;p>0&&(p=0);break}return p>0?s.slice(0,p)+s.slice(w+1):s}var GLe;function h8t(s,o){var f=uU(s,o);if(!f)return s+"";var p=f[0],w=f[1],k=w-(GLe=Math.max(-8,Math.min(8,Math.floor(w/3)))*3)+1,b=p.length;return k===b?p:k>b?p+new Array(k-b+1).join("0"):k>0?p.slice(0,k)+"."+p.slice(k):"0."+new Array(1-k).join("0")+uU(s,Math.max(0,o+k-1))[0]}function qLe(s,o){var f=uU(s,o);if(!f)return s+"";var p=f[0],w=f[1];return w<0?"0."+new Array(-w).join("0")+p:p.length>w+1?p.slice(0,w+1)+"."+p.slice(w+1):p+new Array(w-p.length+2).join("0")}const VLe={"%":(s,o)=>(s*100).toFixed(o),b:s=>Math.round(s).toString(2),c:s=>s+"",d:a8t,e:(s,o)=>s.toExponential(o),f:(s,o)=>s.toFixed(o),g:(s,o)=>s.toPrecision(o),o:s=>Math.round(s).toString(8),p:(s,o)=>qLe(s*100,o),r:qLe,s:h8t,X:s=>Math.round(s).toString(16).toUpperCase(),x:s=>Math.round(s).toString(16)};function ULe(s){return s}var KLe=Array.prototype.map,WLe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function f8t(s){var o=s.grouping===void 0||s.thousands===void 0?ULe:o8t(KLe.call(s.grouping,Number),s.thousands+""),f=s.currency===void 0?"":s.currency[0]+"",p=s.currency===void 0?"":s.currency[1]+"",w=s.decimal===void 0?".":s.decimal+"",k=s.numerals===void 0?ULe:c8t(KLe.call(s.numerals,String)),b=s.percent===void 0?"%":s.percent+"",_=s.minus===void 0?"−":s.minus+"",A=s.nan===void 0?"NaN":s.nan+"";function N(F){F=lU(F);var H=F.fill,j=F.align,V=F.sign,Z=F.symbol,ae=F.zero,le=F.width,ce=F.comma,be=F.precision,xe=F.trim,Ee=F.type;Ee==="n"?(ce=!0,Ee="g"):VLe[Ee]||(be===void 0&&(be=12),xe=!0,Ee="g"),(ae||H==="0"&&j==="=")&&(ae=!0,H="0",j="=");var Me=Z==="$"?f:Z==="#"&&/[boxX]/.test(Ee)?"0"+Ee.toLowerCase():"",fe=Z==="$"?p:/[%p]/.test(Ee)?b:"",ye=VLe[Ee],re=/[defgprs%]/.test(Ee);be=be===void 0?6:/[gprs]/.test(Ee)?Math.max(1,Math.min(21,be)):Math.max(0,Math.min(20,be));function we(ke){var he=Me,De=fe,X,Re,pe;if(Ee==="c")De=ye(ke)+De,ke="";else{ke=+ke;var Ge=ke<0||1/ke<0;if(ke=isNaN(ke)?A:ye(Math.abs(ke),be),xe&&(ke=l8t(ke)),Ge&&+ke==0&&V!=="+"&&(Ge=!1),he=(Ge?V==="("?V:_:V==="-"||V==="("?"":V)+he,De=(Ee==="s"?WLe[8+GLe/3]:"")+De+(Ge&&V==="("?")":""),re){for(X=-1,Re=ke.length;++X<Re;)if(pe=ke.charCodeAt(X),48>pe||pe>57){De=(pe===46?w+ke.slice(X+1):ke.slice(X))+De,ke=ke.slice(0,X);break}}}ce&&!ae&&(ke=o(ke,1/0));var de=he.length+ke.length+De.length,ct=de<le?new Array(le-de+1).join(H):"";switch(ce&&ae&&(ke=o(ct+ke,ct.length?le-De.length:1/0),ct=""),j){case"<":ke=he+ke+De+ct;break;case"=":ke=he+ct+ke+De;break;case"^":ke=ct.slice(0,de=ct.length>>1)+he+ke+De+ct.slice(de);break;default:ke=ct+he+ke+De;break}return k(ke)}return we.toString=function(){return F+""},we}function B(F,H){var j=N((F=lU(F),F.type="f",F)),V=Math.max(-8,Math.min(8,Math.floor(aA(H)/3)))*3,Z=Math.pow(10,-V),ae=WLe[8+V/3];return function(le){return j(Z*le)+ae}}return{format:N,formatPrefix:B}}var hU,YLe,XLe;d8t({thousands:",",grouping:[3],currency:["$",""]});function d8t(s){return hU=f8t(s),YLe=hU.format,XLe=hU.formatPrefix,hU}function g8t(s){return Math.max(0,-aA(Math.abs(s)))}function p8t(s,o){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(aA(o)/3)))*3-aA(Math.abs(s)))}function b8t(s,o){return s=Math.abs(s),o=Math.abs(o)-s,Math.max(0,aA(o)-aA(s))+1}function Wfe(s,o){switch(arguments.length){case 0:break;case 1:this.range(s);break;default:this.range(o).domain(s);break}return this}const QLe=Symbol("implicit");function ZLe(){var s=new qAe,o=[],f=[],p=QLe;function w(k){let b=s.get(k);if(b===void 0){if(p!==QLe)return p;s.set(k,b=o.push(k)-1)}return f[b%f.length]}return w.domain=function(k){if(!arguments.length)return o.slice();o=[],s=new qAe;for(const b of k)s.has(b)||s.set(b,o.push(b)-1);return w},w.range=function(k){return arguments.length?(f=Array.from(k),w):f.slice()},w.unknown=function(k){return arguments.length?(p=k,w):p},w.copy=function(){return ZLe(o,f).unknown(p)},Wfe.apply(w,arguments),w}function v8t(s){return function(){return s}}function w8t(s){return+s}var JLe=[0,1];function oA(s){return s}function Yfe(s,o){return(o-=s=+s)?function(f){return(f-s)/o}:v8t(isNaN(o)?NaN:.5)}function m8t(s,o){var f;return s>o&&(f=s,s=o,o=f),function(p){return Math.max(s,Math.min(o,p))}}function y8t(s,o,f){var p=s[0],w=s[1],k=o[0],b=o[1];return w<p?(p=Yfe(w,p),k=f(b,k)):(p=Yfe(p,w),k=f(k,b)),function(_){return k(p(_))}}function k8t(s,o,f){var p=Math.min(s.length,o.length)-1,w=new Array(p),k=new Array(p),b=-1;for(s[p]<s[0]&&(s=s.slice().reverse(),o=o.slice().reverse());++b<p;)w[b]=Yfe(s[b],s[b+1]),k[b]=f(o[b],o[b+1]);return function(_){var A=p4t(s,_,1,p)-1;return k[A](w[A](_))}}function eMe(s,o){return o.domain(s.domain()).range(s.range()).interpolate(s.interpolate()).clamp(s.clamp()).unknown(s.unknown())}function x8t(){var s=JLe,o=JLe,f=Pfe,p,w,k,b=oA,_,A,N;function B(){var H=Math.min(s.length,o.length);return b!==oA&&(b=m8t(s[0],s[H-1])),_=H>2?k8t:y8t,A=N=null,F}function F(H){return H==null||isNaN(H=+H)?k:(A||(A=_(s.map(p),o,f)))(p(b(H)))}return F.invert=function(H){return b(w((N||(N=_(o,s.map(p),Rw)))(H)))},F.domain=function(H){return arguments.length?(s=Array.from(H,w8t),B()):s.slice()},F.range=function(H){return arguments.length?(o=Array.from(H),B()):o.slice()},F.rangeRound=function(H){return o=Array.from(H),f=B6t,B()},F.clamp=function(H){return arguments.length?(b=H?!0:oA,B()):b!==oA},F.interpolate=function(H){return arguments.length?(f=H,B()):f},F.unknown=function(H){return arguments.length?(k=H,F):k},function(H,j){return p=H,w=j,B()}}function tMe(){return x8t()(oA,oA)}function E8t(s,o,f,p){var w=wfe(s,o,f),k;switch(p=lU(p??",f"),p.type){case"s":{var b=Math.max(Math.abs(s),Math.abs(o));return p.precision==null&&!isNaN(k=p8t(w,b))&&(p.precision=k),XLe(p,b)}case"":case"e":case"g":case"p":case"r":{p.precision==null&&!isNaN(k=b8t(w,Math.max(Math.abs(s),Math.abs(o))))&&(p.precision=k-(p.type==="e"));break}case"f":case"%":{p.precision==null&&!isNaN(k=g8t(w))&&(p.precision=k-(p.type==="%")*2);break}}return YLe(p)}function T8t(s){var o=s.domain;return s.ticks=function(f){var p=o();return m4t(p[0],p[p.length-1],f??10)},s.tickFormat=function(f,p){var w=o();return E8t(w[0],w[w.length-1],f??10,p)},s.nice=function(f){f==null&&(f=10);var p=o(),w=0,k=p.length-1,b=p[w],_=p[k],A,N,B=10;for(_<b&&(N=b,b=_,_=N,N=w,w=k,k=N);B-- >0;){if(N=UAe(b,_,f),N===A)return p[w]=b,p[k]=_,o(p);if(N>0)b=Math.floor(b/N)*N,_=Math.ceil(_/N)*N;else if(N<0)b=Math.ceil(b*N)/N,_=Math.floor(_*N)/N;else break;A=N}return s},s}function nMe(){var s=tMe();return s.copy=function(){return eMe(s,nMe())},Wfe.apply(s,arguments),T8t(s)}function _8t(s,o){s=s.slice();var f=0,p=s.length-1,w=s[f],k=s[p],b;return k<w&&(b=f,f=p,p=b,b=w,w=k,k=b),s[f]=o.floor(w),s[p]=o.ceil(k),s}var Xfe=new Date,Qfe=new Date;function ed(s,o,f,p){function w(k){return s(k=arguments.length===0?new Date:new Date(+k)),k}return w.floor=function(k){return s(k=new Date(+k)),k},w.ceil=function(k){return s(k=new Date(k-1)),o(k,1),s(k),k},w.round=function(k){var b=w(k),_=w.ceil(k);return k-b<_-k?b:_},w.offset=function(k,b){return o(k=new Date(+k),b==null?1:Math.floor(b)),k},w.range=function(k,b,_){var A=[],N;if(k=w.ceil(k),_=_==null?1:Math.floor(_),!(k<b)||!(_>0))return A;do A.push(N=new Date(+k)),o(k,_),s(k);while(N<k&&k<b);return A},w.filter=function(k){return ed(function(b){if(b>=b)for(;s(b),!k(b);)b.setTime(b-1)},function(b,_){if(b>=b)if(_<0)for(;++_<=0;)for(;o(b,-1),!k(b););else for(;--_>=0;)for(;o(b,1),!k(b););})},f&&(w.count=function(k,b){return Xfe.setTime(+k),Qfe.setTime(+b),s(Xfe),s(Qfe),Math.floor(f(Xfe,Qfe))},w.every=function(k){return k=Math.floor(k),!isFinite(k)||!(k>0)?null:k>1?w.filter(p?function(b){return p(b)%k===0}:function(b){return w.count(0,b)%k===0}):w}),w}var fU=ed(function(){},function(s,o){s.setTime(+s+o)},function(s,o){return o-s});fU.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?ed(function(o){o.setTime(Math.floor(o/s)*s)},function(o,f){o.setTime(+o+f*s)},function(o,f){return(f-o)/s}):fU};const C8t=fU;fU.range;const l5=1e3,Hb=l5*60,h5=Hb*60,OE=h5*24,Zfe=OE*7,rMe=OE*30,Jfe=OE*365;var iMe=ed(function(s){s.setTime(s-s.getMilliseconds())},function(s,o){s.setTime(+s+o*l5)},function(s,o){return(o-s)/l5},function(s){return s.getUTCSeconds()});const uN=iMe;iMe.range;var sMe=ed(function(s){s.setTime(s-s.getMilliseconds()-s.getSeconds()*l5)},function(s,o){s.setTime(+s+o*Hb)},function(s,o){return(o-s)/Hb},function(s){return s.getMinutes()});const dU=sMe;sMe.range;var aMe=ed(function(s){s.setTime(s-s.getMilliseconds()-s.getSeconds()*l5-s.getMinutes()*Hb)},function(s,o){s.setTime(+s+o*h5)},function(s,o){return(o-s)/h5},function(s){return s.getHours()});const gU=aMe;aMe.range;var oMe=ed(s=>s.setHours(0,0,0,0),(s,o)=>s.setDate(s.getDate()+o),(s,o)=>(o-s-(o.getTimezoneOffset()-s.getTimezoneOffset())*Hb)/OE,s=>s.getDate()-1);const cA=oMe;oMe.range;function NE(s){return ed(function(o){o.setDate(o.getDate()-(o.getDay()+7-s)%7),o.setHours(0,0,0,0)},function(o,f){o.setDate(o.getDate()+f*7)},function(o,f){return(f-o-(f.getTimezoneOffset()-o.getTimezoneOffset())*Hb)/Zfe})}var uA=NE(0),pU=NE(1),S8t=NE(2),A8t=NE(3),lA=NE(4),L8t=NE(5),M8t=NE(6);uA.range,pU.range,S8t.range,A8t.range,lA.range,L8t.range,M8t.range;var cMe=ed(function(s){s.setDate(1),s.setHours(0,0,0,0)},function(s,o){s.setMonth(s.getMonth()+o)},function(s,o){return o.getMonth()-s.getMonth()+(o.getFullYear()-s.getFullYear())*12},function(s){return s.getMonth()});const bU=cMe;cMe.range;var e1e=ed(function(s){s.setMonth(0,1),s.setHours(0,0,0,0)},function(s,o){s.setFullYear(s.getFullYear()+o)},function(s,o){return o.getFullYear()-s.getFullYear()},function(s){return s.getFullYear()});e1e.every=function(s){return!isFinite(s=Math.floor(s))||!(s>0)?null:ed(function(o){o.setFullYear(Math.floor(o.getFullYear()/s)*s),o.setMonth(0,1),o.setHours(0,0,0,0)},function(o,f){o.setFullYear(o.getFullYear()+f*s)})};const PE=e1e;e1e.range;var uMe=ed(function(s){s.setUTCSeconds(0,0)},function(s,o){s.setTime(+s+o*Hb)},function(s,o){return(o-s)/Hb},function(s){return s.getUTCMinutes()});const D8t=uMe;uMe.range;var lMe=ed(function(s){s.setUTCMinutes(0,0,0)},function(s,o){s.setTime(+s+o*h5)},function(s,o){return(o-s)/h5},function(s){return s.getUTCHours()});const I8t=lMe;lMe.range;var hMe=ed(function(s){s.setUTCHours(0,0,0,0)},function(s,o){s.setUTCDate(s.getUTCDate()+o)},function(s,o){return(o-s)/OE},function(s){return s.getUTCDate()-1});const t1e=hMe;hMe.range;function BE(s){return ed(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-s)%7),o.setUTCHours(0,0,0,0)},function(o,f){o.setUTCDate(o.getUTCDate()+f*7)},function(o,f){return(f-o)/Zfe})}var n1e=BE(0),vU=BE(1),O8t=BE(2),N8t=BE(3),hA=BE(4),P8t=BE(5),B8t=BE(6);n1e.range,vU.range,O8t.range,N8t.range,hA.range,P8t.range,B8t.range;var fMe=ed(function(s){s.setUTCDate(1),s.setUTCHours(0,0,0,0)},function(s,o){s.setUTCMonth(s.getUTCMonth()+o)},function(s,o){return o.getUTCMonth()-s.getUTCMonth()+(o.getUTCFullYear()-s.getUTCFullYear())*12},function(s){return s.getUTCMonth()});const F8t=fMe;fMe.range;var r1e=ed(function(s){s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},function(s,o){s.setUTCFullYear(s.getUTCFullYear()+o)},function(s,o){return o.getUTCFullYear()-s.getUTCFullYear()},function(s){return s.getUTCFullYear()});r1e.every=function(s){return!isFinite(s=Math.floor(s))||!(s>0)?null:ed(function(o){o.setUTCFullYear(Math.floor(o.getUTCFullYear()/s)*s),o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},function(o,f){o.setUTCFullYear(o.getUTCFullYear()+f*s)})};const fA=r1e;r1e.range;function dMe(s,o,f,p,w,k){const b=[[uN,1,l5],[uN,5,5*l5],[uN,15,15*l5],[uN,30,30*l5],[k,1,Hb],[k,5,5*Hb],[k,15,15*Hb],[k,30,30*Hb],[w,1,h5],[w,3,3*h5],[w,6,6*h5],[w,12,12*h5],[p,1,OE],[p,2,2*OE],[f,1,Zfe],[o,1,rMe],[o,3,3*rMe],[s,1,Jfe]];function _(N,B,F){const H=B<N;H&&([N,B]=[B,N]);const j=F&&typeof F.range=="function"?F:A(N,B,F),V=j?j.range(N,+B+1):[];return H?V.reverse():V}function A(N,B,F){const H=Math.abs(B-N)/F,j=gfe(([,,ae])=>ae).right(b,H);if(j===b.length)return s.every(wfe(N/Jfe,B/Jfe,F));if(j===0)return C8t.every(Math.max(wfe(N,B,F),1));const[V,Z]=b[H/b[j-1][2]<b[j][2]/H?j-1:j];return V.every(Z)}return[_,A]}dMe(fA,F8t,n1e,t1e,I8t,D8t);const[R8t,j8t]=dMe(PE,bU,uA,cA,gU,dU);function i1e(s){if(0<=s.y&&s.y<100){var o=new Date(-1,s.m,s.d,s.H,s.M,s.S,s.L);return o.setFullYear(s.y),o}return new Date(s.y,s.m,s.d,s.H,s.M,s.S,s.L)}function s1e(s){if(0<=s.y&&s.y<100){var o=new Date(Date.UTC(-1,s.m,s.d,s.H,s.M,s.S,s.L));return o.setUTCFullYear(s.y),o}return new Date(Date.UTC(s.y,s.m,s.d,s.H,s.M,s.S,s.L))}function lN(s,o,f){return{y:s,m:o,d:f,H:0,M:0,S:0,L:0}}function $8t(s){var o=s.dateTime,f=s.date,p=s.time,w=s.periods,k=s.days,b=s.shortDays,_=s.months,A=s.shortMonths,N=hN(w),B=fN(w),F=hN(k),H=fN(k),j=hN(b),V=fN(b),Z=hN(_),ae=fN(_),le=hN(A),ce=fN(A),be={a:Ge,A:de,b:ct,B:bt,c:null,d:mMe,e:mMe,f:uxt,g:mxt,G:kxt,H:axt,I:oxt,j:cxt,L:yMe,m:lxt,M:hxt,p:St,q:yt,Q:CMe,s:SMe,S:fxt,u:dxt,U:gxt,V:pxt,w:bxt,W:vxt,x:null,X:null,y:wxt,Y:yxt,Z:xxt,"%":_Me},xe={a:Mt,A:nn,b:dn,B:vt,c:null,d:xMe,e:xMe,f:Cxt,g:Bxt,G:Rxt,H:Ext,I:Txt,j:_xt,L:EMe,m:Sxt,M:Axt,p:Lr,q:xt,Q:CMe,s:SMe,S:Lxt,u:Mxt,U:Dxt,V:Ixt,w:Oxt,W:Nxt,x:null,X:null,y:Pxt,Y:Fxt,Z:jxt,"%":_Me},Ee={a:we,A:ke,b:he,B:De,c:X,d:vMe,e:vMe,f:nxt,g:bMe,G:pMe,H:wMe,I:wMe,j:Z8t,L:txt,m:Q8t,M:J8t,p:re,q:X8t,Q:ixt,s:sxt,S:ext,u:V8t,U:U8t,V:K8t,w:q8t,W:W8t,x:Re,X:pe,y:bMe,Y:pMe,Z:Y8t,"%":rxt};be.x=Me(f,be),be.X=Me(p,be),be.c=Me(o,be),xe.x=Me(f,xe),xe.X=Me(p,xe),xe.c=Me(o,xe);function Me(Tt,wt){return function(At){var He=[],Ze=-1,Lt=0,Ve=Tt.length,Mn,Oe,Di;for(At instanceof Date||(At=new Date(+At));++Ze<Ve;)Tt.charCodeAt(Ze)===37&&(He.push(Tt.slice(Lt,Ze)),(Oe=gMe[Mn=Tt.charAt(++Ze)])!=null?Mn=Tt.charAt(++Ze):Oe=Mn==="e"?" ":"0",(Di=wt[Mn])&&(Mn=Di(At,Oe)),He.push(Mn),Lt=Ze+1);return He.push(Tt.slice(Lt,Ze)),He.join("")}}function fe(Tt,wt){return function(At){var He=lN(1900,void 0,1),Ze=ye(He,Tt,At+="",0),Lt,Ve;if(Ze!=At.length)return null;if("Q"in He)return new Date(He.Q);if("s"in He)return new Date(He.s*1e3+("L"in He?He.L:0));if(wt&&!("Z"in He)&&(He.Z=0),"p"in He&&(He.H=He.H%12+He.p*12),He.m===void 0&&(He.m="q"in He?He.q:0),"V"in He){if(He.V<1||He.V>53)return null;"w"in He||(He.w=1),"Z"in He?(Lt=s1e(lN(He.y,0,1)),Ve=Lt.getUTCDay(),Lt=Ve>4||Ve===0?vU.ceil(Lt):vU(Lt),Lt=t1e.offset(Lt,(He.V-1)*7),He.y=Lt.getUTCFullYear(),He.m=Lt.getUTCMonth(),He.d=Lt.getUTCDate()+(He.w+6)%7):(Lt=i1e(lN(He.y,0,1)),Ve=Lt.getDay(),Lt=Ve>4||Ve===0?pU.ceil(Lt):pU(Lt),Lt=cA.offset(Lt,(He.V-1)*7),He.y=Lt.getFullYear(),He.m=Lt.getMonth(),He.d=Lt.getDate()+(He.w+6)%7)}else("W"in He||"U"in He)&&("w"in He||(He.w="u"in He?He.u%7:"W"in He?1:0),Ve="Z"in He?s1e(lN(He.y,0,1)).getUTCDay():i1e(lN(He.y,0,1)).getDay(),He.m=0,He.d="W"in He?(He.w+6)%7+He.W*7-(Ve+5)%7:He.w+He.U*7-(Ve+6)%7);return"Z"in He?(He.H+=He.Z/100|0,He.M+=He.Z%100,s1e(He)):i1e(He)}}function ye(Tt,wt,At,He){for(var Ze=0,Lt=wt.length,Ve=At.length,Mn,Oe;Ze<Lt;){if(He>=Ve)return-1;if(Mn=wt.charCodeAt(Ze++),Mn===37){if(Mn=wt.charAt(Ze++),Oe=Ee[Mn in gMe?wt.charAt(Ze++):Mn],!Oe||(He=Oe(Tt,At,He))<0)return-1}else if(Mn!=At.charCodeAt(He++))return-1}return He}function re(Tt,wt,At){var He=N.exec(wt.slice(At));return He?(Tt.p=B.get(He[0].toLowerCase()),At+He[0].length):-1}function we(Tt,wt,At){var He=j.exec(wt.slice(At));return He?(Tt.w=V.get(He[0].toLowerCase()),At+He[0].length):-1}function ke(Tt,wt,At){var He=F.exec(wt.slice(At));return He?(Tt.w=H.get(He[0].toLowerCase()),At+He[0].length):-1}function he(Tt,wt,At){var He=le.exec(wt.slice(At));return He?(Tt.m=ce.get(He[0].toLowerCase()),At+He[0].length):-1}function De(Tt,wt,At){var He=Z.exec(wt.slice(At));return He?(Tt.m=ae.get(He[0].toLowerCase()),At+He[0].length):-1}function X(Tt,wt,At){return ye(Tt,o,wt,At)}function Re(Tt,wt,At){return ye(Tt,f,wt,At)}function pe(Tt,wt,At){return ye(Tt,p,wt,At)}function Ge(Tt){return b[Tt.getDay()]}function de(Tt){return k[Tt.getDay()]}function ct(Tt){return A[Tt.getMonth()]}function bt(Tt){return _[Tt.getMonth()]}function St(Tt){return w[+(Tt.getHours()>=12)]}function yt(Tt){return 1+~~(Tt.getMonth()/3)}function Mt(Tt){return b[Tt.getUTCDay()]}function nn(Tt){return k[Tt.getUTCDay()]}function dn(Tt){return A[Tt.getUTCMonth()]}function vt(Tt){return _[Tt.getUTCMonth()]}function Lr(Tt){return w[+(Tt.getUTCHours()>=12)]}function xt(Tt){return 1+~~(Tt.getUTCMonth()/3)}return{format:function(Tt){var wt=Me(Tt+="",be);return wt.toString=function(){return Tt},wt},parse:function(Tt){var wt=fe(Tt+="",!1);return wt.toString=function(){return Tt},wt},utcFormat:function(Tt){var wt=Me(Tt+="",xe);return wt.toString=function(){return Tt},wt},utcParse:function(Tt){var wt=fe(Tt+="",!0);return wt.toString=function(){return Tt},wt}}}var gMe={"-":"",_:" ",0:"0"},td=/^\s*\d+/,H8t=/^%/,z8t=/[\\^$*+?|[\]().{}]/g;function jc(s,o,f){var p=s<0?"-":"",w=(p?-s:s)+"",k=w.length;return p+(k<f?new Array(f-k+1).join(o)+w:w)}function G8t(s){return s.replace(z8t,"\\$&")}function hN(s){return new RegExp("^(?:"+s.map(G8t).join("|")+")","i")}function fN(s){return new Map(s.map((o,f)=>[o.toLowerCase(),f]))}function q8t(s,o,f){var p=td.exec(o.slice(f,f+1));return p?(s.w=+p[0],f+p[0].length):-1}function V8t(s,o,f){var p=td.exec(o.slice(f,f+1));return p?(s.u=+p[0],f+p[0].length):-1}function U8t(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.U=+p[0],f+p[0].length):-1}function K8t(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.V=+p[0],f+p[0].length):-1}function W8t(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.W=+p[0],f+p[0].length):-1}function pMe(s,o,f){var p=td.exec(o.slice(f,f+4));return p?(s.y=+p[0],f+p[0].length):-1}function bMe(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.y=+p[0]+(+p[0]>68?1900:2e3),f+p[0].length):-1}function Y8t(s,o,f){var p=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(o.slice(f,f+6));return p?(s.Z=p[1]?0:-(p[2]+(p[3]||"00")),f+p[0].length):-1}function X8t(s,o,f){var p=td.exec(o.slice(f,f+1));return p?(s.q=p[0]*3-3,f+p[0].length):-1}function Q8t(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.m=p[0]-1,f+p[0].length):-1}function vMe(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.d=+p[0],f+p[0].length):-1}function Z8t(s,o,f){var p=td.exec(o.slice(f,f+3));return p?(s.m=0,s.d=+p[0],f+p[0].length):-1}function wMe(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.H=+p[0],f+p[0].length):-1}function J8t(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.M=+p[0],f+p[0].length):-1}function ext(s,o,f){var p=td.exec(o.slice(f,f+2));return p?(s.S=+p[0],f+p[0].length):-1}function txt(s,o,f){var p=td.exec(o.slice(f,f+3));return p?(s.L=+p[0],f+p[0].length):-1}function nxt(s,o,f){var p=td.exec(o.slice(f,f+6));return p?(s.L=Math.floor(p[0]/1e3),f+p[0].length):-1}function rxt(s,o,f){var p=H8t.exec(o.slice(f,f+1));return p?f+p[0].length:-1}function ixt(s,o,f){var p=td.exec(o.slice(f));return p?(s.Q=+p[0],f+p[0].length):-1}function sxt(s,o,f){var p=td.exec(o.slice(f));return p?(s.s=+p[0],f+p[0].length):-1}function mMe(s,o){return jc(s.getDate(),o,2)}function axt(s,o){return jc(s.getHours(),o,2)}function oxt(s,o){return jc(s.getHours()%12||12,o,2)}function cxt(s,o){return jc(1+cA.count(PE(s),s),o,3)}function yMe(s,o){return jc(s.getMilliseconds(),o,3)}function uxt(s,o){return yMe(s,o)+"000"}function lxt(s,o){return jc(s.getMonth()+1,o,2)}function hxt(s,o){return jc(s.getMinutes(),o,2)}function fxt(s,o){return jc(s.getSeconds(),o,2)}function dxt(s){var o=s.getDay();return o===0?7:o}function gxt(s,o){return jc(uA.count(PE(s)-1,s),o,2)}function kMe(s){var o=s.getDay();return o>=4||o===0?lA(s):lA.ceil(s)}function pxt(s,o){return s=kMe(s),jc(lA.count(PE(s),s)+(PE(s).getDay()===4),o,2)}function bxt(s){return s.getDay()}function vxt(s,o){return jc(pU.count(PE(s)-1,s),o,2)}function wxt(s,o){return jc(s.getFullYear()%100,o,2)}function mxt(s,o){return s=kMe(s),jc(s.getFullYear()%100,o,2)}function yxt(s,o){return jc(s.getFullYear()%1e4,o,4)}function kxt(s,o){var f=s.getDay();return s=f>=4||f===0?lA(s):lA.ceil(s),jc(s.getFullYear()%1e4,o,4)}function xxt(s){var o=s.getTimezoneOffset();return(o>0?"-":(o*=-1,"+"))+jc(o/60|0,"0",2)+jc(o%60,"0",2)}function xMe(s,o){return jc(s.getUTCDate(),o,2)}function Ext(s,o){return jc(s.getUTCHours(),o,2)}function Txt(s,o){return jc(s.getUTCHours()%12||12,o,2)}function _xt(s,o){return jc(1+t1e.count(fA(s),s),o,3)}function EMe(s,o){return jc(s.getUTCMilliseconds(),o,3)}function Cxt(s,o){return EMe(s,o)+"000"}function Sxt(s,o){return jc(s.getUTCMonth()+1,o,2)}function Axt(s,o){return jc(s.getUTCMinutes(),o,2)}function Lxt(s,o){return jc(s.getUTCSeconds(),o,2)}function Mxt(s){var o=s.getUTCDay();return o===0?7:o}function Dxt(s,o){return jc(n1e.count(fA(s)-1,s),o,2)}function TMe(s){var o=s.getUTCDay();return o>=4||o===0?hA(s):hA.ceil(s)}function Ixt(s,o){return s=TMe(s),jc(hA.count(fA(s),s)+(fA(s).getUTCDay()===4),o,2)}function Oxt(s){return s.getUTCDay()}function Nxt(s,o){return jc(vU.count(fA(s)-1,s),o,2)}function Pxt(s,o){return jc(s.getUTCFullYear()%100,o,2)}function Bxt(s,o){return s=TMe(s),jc(s.getUTCFullYear()%100,o,2)}function Fxt(s,o){return jc(s.getUTCFullYear()%1e4,o,4)}function Rxt(s,o){var f=s.getUTCDay();return s=f>=4||f===0?hA(s):hA.ceil(s),jc(s.getUTCFullYear()%1e4,o,4)}function jxt(){return"+0000"}function _Me(){return"%"}function CMe(s){return+s}function SMe(s){return Math.floor(+s/1e3)}var dA,wU;$xt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $xt(s){return dA=$8t(s),wU=dA.format,dA.parse,dA.utcFormat,dA.utcParse,dA}function Hxt(s){return new Date(s)}function zxt(s){return s instanceof Date?+s:+new Date(+s)}function AMe(s,o,f,p,w,k,b,_,A,N){var B=tMe(),F=B.invert,H=B.domain,j=N(".%L"),V=N(":%S"),Z=N("%I:%M"),ae=N("%I %p"),le=N("%a %d"),ce=N("%b %d"),be=N("%B"),xe=N("%Y");function Ee(Me){return(A(Me)<Me?j:_(Me)<Me?V:b(Me)<Me?Z:k(Me)<Me?ae:p(Me)<Me?w(Me)<Me?le:ce:f(Me)<Me?be:xe)(Me)}return B.invert=function(Me){return new Date(F(Me))},B.domain=function(Me){return arguments.length?H(Array.from(Me,zxt)):H().map(Hxt)},B.ticks=function(Me){var fe=H();return s(fe[0],fe[fe.length-1],Me??10)},B.tickFormat=function(Me,fe){return fe==null?Ee:N(fe)},B.nice=function(Me){var fe=H();return(!Me||typeof Me.range!="function")&&(Me=o(fe[0],fe[fe.length-1],Me??10)),Me?H(_8t(fe,Me)):B},B.copy=function(){return eMe(B,AMe(s,o,f,p,w,k,b,_,A,N))},B}function Gxt(){return Wfe.apply(AMe(R8t,j8t,PE,bU,uA,cA,gU,dU,uN,wU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sf(s){return function(){return s}}const LMe=Math.abs,b0=Math.atan2,FE=Math.cos,qxt=Math.max,a1e=Math.min,Jy=Math.sin,gA=Math.sqrt,v0=1e-12,dN=Math.PI,mU=dN/2,yU=2*dN;function Vxt(s){return s>1?0:s<-1?dN:Math.acos(s)}function MMe(s){return s>=1?mU:s<=-1?-mU:Math.asin(s)}function Uxt(s){return s.innerRadius}function Kxt(s){return s.outerRadius}function Wxt(s){return s.startAngle}function Yxt(s){return s.endAngle}function Xxt(s){return s&&s.padAngle}function Qxt(s,o,f,p,w,k,b,_){var A=f-s,N=p-o,B=b-w,F=_-k,H=F*A-B*N;if(!(H*H<v0))return H=(B*(o-k)-F*(s-w))/H,[s+H*A,o+H*N]}function kU(s,o,f,p,w,k,b){var _=s-f,A=o-p,N=(b?k:-k)/gA(_*_+A*A),B=N*A,F=-N*_,H=s+B,j=o+F,V=f+B,Z=p+F,ae=(H+V)/2,le=(j+Z)/2,ce=V-H,be=Z-j,xe=ce*ce+be*be,Ee=w-k,Me=H*Z-V*j,fe=(be<0?-1:1)*gA(qxt(0,Ee*Ee*xe-Me*Me)),ye=(Me*be-ce*fe)/xe,re=(-Me*ce-be*fe)/xe,we=(Me*be+ce*fe)/xe,ke=(-Me*ce+be*fe)/xe,he=ye-ae,De=re-le,X=we-ae,Re=ke-le;return he*he+De*De>X*X+Re*Re&&(ye=we,re=ke),{cx:ye,cy:re,x01:-B,y01:-F,x11:ye*(w/Ee-1),y11:re*(w/Ee-1)}}function gN(){var s=Uxt,o=Kxt,f=sf(0),p=null,w=Wxt,k=Yxt,b=Xxt,_=null;function A(){var N,B,F=+s.apply(this,arguments),H=+o.apply(this,arguments),j=w.apply(this,arguments)-mU,V=k.apply(this,arguments)-mU,Z=LMe(V-j),ae=V>j;if(_||(_=N=Ufe()),H<F&&(B=H,H=F,F=B),!(H>v0))_.moveTo(0,0);else if(Z>yU-v0)_.moveTo(H*FE(j),H*Jy(j)),_.arc(0,0,H,j,V,!ae),F>v0&&(_.moveTo(F*FE(V),F*Jy(V)),_.arc(0,0,F,V,j,ae));else{var le=j,ce=V,be=j,xe=V,Ee=Z,Me=Z,fe=b.apply(this,arguments)/2,ye=fe>v0&&(p?+p.apply(this,arguments):gA(F*F+H*H)),re=a1e(LMe(H-F)/2,+f.apply(this,arguments)),we=re,ke=re,he,De;if(ye>v0){var X=MMe(ye/F*Jy(fe)),Re=MMe(ye/H*Jy(fe));(Ee-=X*2)>v0?(X*=ae?1:-1,be+=X,xe-=X):(Ee=0,be=xe=(j+V)/2),(Me-=Re*2)>v0?(Re*=ae?1:-1,le+=Re,ce-=Re):(Me=0,le=ce=(j+V)/2)}var pe=H*FE(le),Ge=H*Jy(le),de=F*FE(xe),ct=F*Jy(xe);if(re>v0){var bt=H*FE(ce),St=H*Jy(ce),yt=F*FE(be),Mt=F*Jy(be),nn;if(Z<dN&&(nn=Qxt(pe,Ge,yt,Mt,bt,St,de,ct))){var dn=pe-nn[0],vt=Ge-nn[1],Lr=bt-nn[0],xt=St-nn[1],Tt=1/Jy(Vxt((dn*Lr+vt*xt)/(gA(dn*dn+vt*vt)*gA(Lr*Lr+xt*xt)))/2),wt=gA(nn[0]*nn[0]+nn[1]*nn[1]);we=a1e(re,(F-wt)/(Tt-1)),ke=a1e(re,(H-wt)/(Tt+1))}}Me>v0?ke>v0?(he=kU(yt,Mt,pe,Ge,H,ke,ae),De=kU(bt,St,de,ct,H,ke,ae),_.moveTo(he.cx+he.x01,he.cy+he.y01),ke<re?_.arc(he.cx,he.cy,ke,b0(he.y01,he.x01),b0(De.y01,De.x01),!ae):(_.arc(he.cx,he.cy,ke,b0(he.y01,he.x01),b0(he.y11,he.x11),!ae),_.arc(0,0,H,b0(he.cy+he.y11,he.cx+he.x11),b0(De.cy+De.y11,De.cx+De.x11),!ae),_.arc(De.cx,De.cy,ke,b0(De.y11,De.x11),b0(De.y01,De.x01),!ae))):(_.moveTo(pe,Ge),_.arc(0,0,H,le,ce,!ae)):_.moveTo(pe,Ge),!(F>v0)||!(Ee>v0)?_.lineTo(de,ct):we>v0?(he=kU(de,ct,bt,St,F,-we,ae),De=kU(pe,Ge,yt,Mt,F,-we,ae),_.lineTo(he.cx+he.x01,he.cy+he.y01),we<re?_.arc(he.cx,he.cy,we,b0(he.y01,he.x01),b0(De.y01,De.x01),!ae):(_.arc(he.cx,he.cy,we,b0(he.y01,he.x01),b0(he.y11,he.x11),!ae),_.arc(0,0,F,b0(he.cy+he.y11,he.cx+he.x11),b0(De.cy+De.y11,De.cx+De.x11),ae),_.arc(De.cx,De.cy,we,b0(De.y11,De.x11),b0(De.y01,De.x01),!ae))):_.arc(0,0,F,xe,be,ae)}if(_.closePath(),N)return _=null,N+""||null}return A.centroid=function(){var N=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2,B=(+w.apply(this,arguments)+ +k.apply(this,arguments))/2-dN/2;return[FE(B)*N,Jy(B)*N]},A.innerRadius=function(N){return arguments.length?(s=typeof N=="function"?N:sf(+N),A):s},A.outerRadius=function(N){return arguments.length?(o=typeof N=="function"?N:sf(+N),A):o},A.cornerRadius=function(N){return arguments.length?(f=typeof N=="function"?N:sf(+N),A):f},A.padRadius=function(N){return arguments.length?(p=N==null?null:typeof N=="function"?N:sf(+N),A):p},A.startAngle=function(N){return arguments.length?(w=typeof N=="function"?N:sf(+N),A):w},A.endAngle=function(N){return arguments.length?(k=typeof N=="function"?N:sf(+N),A):k},A.padAngle=function(N){return arguments.length?(b=typeof N=="function"?N:sf(+N),A):b},A.context=function(N){return arguments.length?(_=N??null,A):_},A}function DMe(s){return typeof s=="object"&&"length"in s?s:Array.from(s)}function IMe(s){this._context=s}IMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,o){switch(s=+s,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,o):this._context.moveTo(s,o);break;case 1:this._point=2;default:this._context.lineTo(s,o);break}}};function Pd(s){return new IMe(s)}function Zxt(s){return s[0]}function Jxt(s){return s[1]}function RE(s,o){var f=sf(!0),p=null,w=Pd,k=null;s=typeof s=="function"?s:s===void 0?Zxt:sf(s),o=typeof o=="function"?o:o===void 0?Jxt:sf(o);function b(_){var A,N=(_=DMe(_)).length,B,F=!1,H;for(p==null&&(k=w(H=Ufe())),A=0;A<=N;++A)!(A<N&&f(B=_[A],A,_))===F&&((F=!F)?k.lineStart():k.lineEnd()),F&&k.point(+s(B,A,_),+o(B,A,_));if(H)return k=null,H+""||null}return b.x=function(_){return arguments.length?(s=typeof _=="function"?_:sf(+_),b):s},b.y=function(_){return arguments.length?(o=typeof _=="function"?_:sf(+_),b):o},b.defined=function(_){return arguments.length?(f=typeof _=="function"?_:sf(!!_),b):f},b.curve=function(_){return arguments.length?(w=_,p!=null&&(k=w(p)),b):w},b.context=function(_){return arguments.length?(_==null?p=k=null:k=w(p=_),b):p},b}function e7t(s,o){return o<s?-1:o>s?1:o>=s?0:NaN}function t7t(s){return s}function n7t(){var s=t7t,o=e7t,f=null,p=sf(0),w=sf(yU),k=sf(0);function b(_){var A,N=(_=DMe(_)).length,B,F,H=0,j=new Array(N),V=new Array(N),Z=+p.apply(this,arguments),ae=Math.min(yU,Math.max(-yU,w.apply(this,arguments)-Z)),le,ce=Math.min(Math.abs(ae)/N,k.apply(this,arguments)),be=ce*(ae<0?-1:1),xe;for(A=0;A<N;++A)(xe=V[j[A]=A]=+s(_[A],A,_))>0&&(H+=xe);for(o!=null?j.sort(function(Ee,Me){return o(V[Ee],V[Me])}):f!=null&&j.sort(function(Ee,Me){return f(_[Ee],_[Me])}),A=0,F=H?(ae-N*be)/H:0;A<N;++A,Z=le)B=j[A],xe=V[B],le=Z+(xe>0?xe*F:0)+be,V[B]={data:_[B],index:A,value:xe,startAngle:Z,endAngle:le,padAngle:ce};return V}return b.value=function(_){return arguments.length?(s=typeof _=="function"?_:sf(+_),b):s},b.sortValues=function(_){return arguments.length?(o=_,f=null,b):o},b.sort=function(_){return arguments.length?(f=_,o=null,b):f},b.startAngle=function(_){return arguments.length?(p=typeof _=="function"?_:sf(+_),b):p},b.endAngle=function(_){return arguments.length?(w=typeof _=="function"?_:sf(+_),b):w},b.padAngle=function(_){return arguments.length?(k=typeof _=="function"?_:sf(+_),b):k},b}class OMe{constructor(o,f){this._context=o,this._x=f}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(o,f){switch(o=+o,f=+f,this._point){case 0:{this._point=1,this._line?this._context.lineTo(o,f):this._context.moveTo(o,f);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+o)/2,this._y0,this._x0,f,o,f):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+f)/2,o,this._y0,o,f);break}}this._x0=o,this._y0=f}}function r7t(s){return new OMe(s,!0)}function i7t(s){return new OMe(s,!1)}function qk(){}function xU(s,o,f){s._context.bezierCurveTo((2*s._x0+s._x1)/3,(2*s._y0+s._y1)/3,(s._x0+2*s._x1)/3,(s._y0+2*s._y1)/3,(s._x0+4*s._x1+o)/6,(s._y0+4*s._y1+f)/6)}function EU(s){this._context=s}EU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xU(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,o){switch(s=+s,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,o):this._context.moveTo(s,o);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xU(this,s,o);break}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=o}};function pA(s){return new EU(s)}function NMe(s){this._context=s}NMe.prototype={areaStart:qk,areaEnd:qk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(s,o){switch(s=+s,o=+o,this._point){case 0:this._point=1,this._x2=s,this._y2=o;break;case 1:this._point=2,this._x3=s,this._y3=o;break;case 2:this._point=3,this._x4=s,this._y4=o,this._context.moveTo((this._x0+4*this._x1+s)/6,(this._y0+4*this._y1+o)/6);break;default:xU(this,s,o);break}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=o}};function s7t(s){return new NMe(s)}function PMe(s){this._context=s}PMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(s,o){switch(s=+s,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var f=(this._x0+4*this._x1+s)/6,p=(this._y0+4*this._y1+o)/6;this._line?this._context.lineTo(f,p):this._context.moveTo(f,p);break;case 3:this._point=4;default:xU(this,s,o);break}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=o}};function a7t(s){return new PMe(s)}function BMe(s,o){this._basis=new EU(s),this._beta=o}BMe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var s=this._x,o=this._y,f=s.length-1;if(f>0)for(var p=s[0],w=o[0],k=s[f]-p,b=o[f]-w,_=-1,A;++_<=f;)A=_/f,this._basis.point(this._beta*s[_]+(1-this._beta)*(p+A*k),this._beta*o[_]+(1-this._beta)*(w+A*b));this._x=this._y=null,this._basis.lineEnd()},point:function(s,o){this._x.push(+s),this._y.push(+o)}};const o7t=function s(o){function f(p){return o===1?new EU(p):new BMe(p,o)}return f.beta=function(p){return s(+p)},f}(.85);function TU(s,o,f){s._context.bezierCurveTo(s._x1+s._k*(s._x2-s._x0),s._y1+s._k*(s._y2-s._y0),s._x2+s._k*(s._x1-o),s._y2+s._k*(s._y1-f),s._x2,s._y2)}function o1e(s,o){this._context=s,this._k=(1-o)/6}o1e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:TU(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,o){switch(s=+s,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,o):this._context.moveTo(s,o);break;case 1:this._point=2,this._x1=s,this._y1=o;break;case 2:this._point=3;default:TU(this,s,o);break}this._x0=this._x1,this._x1=this._x2,this._x2=s,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const c7t=function s(o){function f(p){return new o1e(p,o)}return f.tension=function(p){return s(+p)},f}(0);function c1e(s,o){this._context=s,this._k=(1-o)/6}c1e.prototype={areaStart:qk,areaEnd:qk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(s,o){switch(s=+s,o=+o,this._point){case 0:this._point=1,this._x3=s,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=s,this._y4=o);break;case 2:this._point=3,this._x5=s,this._y5=o;break;default:TU(this,s,o);break}this._x0=this._x1,this._x1=this._x2,this._x2=s,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const u7t=function s(o){function f(p){return new c1e(p,o)}return f.tension=function(p){return s(+p)},f}(0);function u1e(s,o){this._context=s,this._k=(1-o)/6}u1e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(s,o){switch(s=+s,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:TU(this,s,o);break}this._x0=this._x1,this._x1=this._x2,this._x2=s,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const l7t=function s(o){function f(p){return new u1e(p,o)}return f.tension=function(p){return s(+p)},f}(0);function l1e(s,o,f){var p=s._x1,w=s._y1,k=s._x2,b=s._y2;if(s._l01_a>v0){var _=2*s._l01_2a+3*s._l01_a*s._l12_a+s._l12_2a,A=3*s._l01_a*(s._l01_a+s._l12_a);p=(p*_-s._x0*s._l12_2a+s._x2*s._l01_2a)/A,w=(w*_-s._y0*s._l12_2a+s._y2*s._l01_2a)/A}if(s._l23_a>v0){var N=2*s._l23_2a+3*s._l23_a*s._l12_a+s._l12_2a,B=3*s._l23_a*(s._l23_a+s._l12_a);k=(k*N+s._x1*s._l23_2a-o*s._l12_2a)/B,b=(b*N+s._y1*s._l23_2a-f*s._l12_2a)/B}s._context.bezierCurveTo(p,w,k,b,s._x2,s._y2)}function FMe(s,o){this._context=s,this._alpha=o}FMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,o){if(s=+s,o=+o,this._point){var f=this._x2-s,p=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(f*f+p*p,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(s,o):this._context.moveTo(s,o);break;case 1:this._point=2;break;case 2:this._point=3;default:l1e(this,s,o);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=s,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const h7t=function s(o){function f(p){return o?new FMe(p,o):new o1e(p,0)}return f.alpha=function(p){return s(+p)},f}(.5);function RMe(s,o){this._context=s,this._alpha=o}RMe.prototype={areaStart:qk,areaEnd:qk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(s,o){if(s=+s,o=+o,this._point){var f=this._x2-s,p=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(f*f+p*p,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=s,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=s,this._y4=o);break;case 2:this._point=3,this._x5=s,this._y5=o;break;default:l1e(this,s,o);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=s,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const f7t=function s(o){function f(p){return o?new RMe(p,o):new c1e(p,0)}return f.alpha=function(p){return s(+p)},f}(.5);function jMe(s,o){this._context=s,this._alpha=o}jMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(s,o){if(s=+s,o=+o,this._point){var f=this._x2-s,p=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(f*f+p*p,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:l1e(this,s,o);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=s,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const d7t=function s(o){function f(p){return o?new jMe(p,o):new u1e(p,0)}return f.alpha=function(p){return s(+p)},f}(.5);function $Me(s){this._context=s}$Me.prototype={areaStart:qk,areaEnd:qk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(s,o){s=+s,o=+o,this._point?this._context.lineTo(s,o):(this._point=1,this._context.moveTo(s,o))}};function g7t(s){return new $Me(s)}function HMe(s){return s<0?-1:1}function zMe(s,o,f){var p=s._x1-s._x0,w=o-s._x1,k=(s._y1-s._y0)/(p||w<0&&-0),b=(f-s._y1)/(w||p<0&&-0),_=(k*w+b*p)/(p+w);return(HMe(k)+HMe(b))*Math.min(Math.abs(k),Math.abs(b),.5*Math.abs(_))||0}function GMe(s,o){var f=s._x1-s._x0;return f?(3*(s._y1-s._y0)/f-o)/2:o}function h1e(s,o,f){var p=s._x0,w=s._y0,k=s._x1,b=s._y1,_=(k-p)/3;s._context.bezierCurveTo(p+_,w+_*o,k-_,b-_*f,k,b)}function _U(s){this._context=s}_U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:h1e(this,this._t0,GMe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,o){var f=NaN;if(s=+s,o=+o,!(s===this._x1&&o===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(s,o):this._context.moveTo(s,o);break;case 1:this._point=2;break;case 2:this._point=3,h1e(this,GMe(this,f=zMe(this,s,o)),f);break;default:h1e(this,this._t0,f=zMe(this,s,o));break}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=o,this._t0=f}}};function qMe(s){this._context=new VMe(s)}(qMe.prototype=Object.create(_U.prototype)).point=function(s,o){_U.prototype.point.call(this,o,s)};function VMe(s){this._context=s}VMe.prototype={moveTo:function(s,o){this._context.moveTo(o,s)},closePath:function(){this._context.closePath()},lineTo:function(s,o){this._context.lineTo(o,s)},bezierCurveTo:function(s,o,f,p,w,k){this._context.bezierCurveTo(o,s,p,f,k,w)}};function p7t(s){return new _U(s)}function b7t(s){return new qMe(s)}function UMe(s){this._context=s}UMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var s=this._x,o=this._y,f=s.length;if(f)if(this._line?this._context.lineTo(s[0],o[0]):this._context.moveTo(s[0],o[0]),f===2)this._context.lineTo(s[1],o[1]);else for(var p=KMe(s),w=KMe(o),k=0,b=1;b<f;++k,++b)this._context.bezierCurveTo(p[0][k],w[0][k],p[1][k],w[1][k],s[b],o[b]);(this._line||this._line!==0&&f===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(s,o){this._x.push(+s),this._y.push(+o)}};function KMe(s){var o,f=s.length-1,p,w=new Array(f),k=new Array(f),b=new Array(f);for(w[0]=0,k[0]=2,b[0]=s[0]+2*s[1],o=1;o<f-1;++o)w[o]=1,k[o]=4,b[o]=4*s[o]+2*s[o+1];for(w[f-1]=2,k[f-1]=7,b[f-1]=8*s[f-1]+s[f],o=1;o<f;++o)p=w[o]/k[o-1],k[o]-=p,b[o]-=p*b[o-1];for(w[f-1]=b[f-1]/k[f-1],o=f-2;o>=0;--o)w[o]=(b[o]-w[o+1])/k[o];for(k[f-1]=(s[f]+w[f-1])/2,o=0;o<f-1;++o)k[o]=2*s[o+1]-w[o+1];return[w,k]}function v7t(s){return new UMe(s)}function CU(s,o){this._context=s,this._t=o}CU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(s,o){switch(s=+s,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,o):this._context.moveTo(s,o);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,o),this._context.lineTo(s,o);else{var f=this._x*(1-this._t)+s*this._t;this._context.lineTo(f,this._y),this._context.lineTo(f,o)}break}}this._x=s,this._y=o}};function w7t(s){return new CU(s,.5)}function m7t(s){return new CU(s,0)}function y7t(s){return new CU(s,1)}function pN(s,o,f){this.k=s,this.x=o,this.y=f}pN.prototype={constructor:pN,scale:function(s){return s===1?this:new pN(this.k*s,this.x,this.y)},translate:function(s,o){return s===0&o===0?this:new pN(this.k,this.x+this.k*s,this.y+this.k*o)},apply:function(s){return[s[0]*this.k+this.x,s[1]*this.k+this.y]},applyX:function(s){return s*this.k+this.x},applyY:function(s){return s*this.k+this.y},invert:function(s){return[(s[0]-this.x)/this.k,(s[1]-this.y)/this.k]},invertX:function(s){return(s-this.x)/this.k},invertY:function(s){return(s-this.y)/this.k},rescaleX:function(s){return s.copy().domain(s.range().map(this.invertX,this).map(s.invert,s))},rescaleY:function(s){return s.copy().domain(s.range().map(this.invertY,this).map(s.invert,s))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},pN.prototype;/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */function Vk(s){return Vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Vk(s)}function f1e(s,o){return f1e=Object.setPrototypeOf||function(p,w){return p.__proto__=w,p},f1e(s,o)}function k7t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function SU(s,o,f){return k7t()?SU=Reflect.construct:SU=function(w,k,b){var _=[null];_.push.apply(_,k);var A=Function.bind.apply(w,_),N=new A;return b&&f1e(N,b.prototype),N},SU.apply(null,arguments)}function $w(s){return x7t(s)||E7t(s)||T7t(s)||_7t()}function x7t(s){if(Array.isArray(s))return d1e(s)}function E7t(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function T7t(s,o){if(s){if(typeof s=="string")return d1e(s,o);var f=Object.prototype.toString.call(s).slice(8,-1);if(f==="Object"&&s.constructor&&(f=s.constructor.name),f==="Map"||f==="Set")return Array.from(s);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return d1e(s,o)}}function d1e(s,o){(o==null||o>s.length)&&(o=s.length);for(var f=0,p=new Array(o);f<o;f++)p[f]=s[f];return p}function _7t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C7t=Object.hasOwnProperty,WMe=Object.setPrototypeOf,S7t=Object.isFrozen,A7t=Object.getPrototypeOf,L7t=Object.getOwnPropertyDescriptor,tg=Object.freeze,Hw=Object.seal,M7t=Object.create,YMe=typeof Reflect<"u"&&Reflect,AU=YMe.apply,g1e=YMe.construct;AU||(AU=function(o,f,p){return o.apply(f,p)}),tg||(tg=function(o){return o}),Hw||(Hw=function(o){return o}),g1e||(g1e=function(o,f){return SU(o,$w(f))});var D7t=zb(Array.prototype.forEach),XMe=zb(Array.prototype.pop),bN=zb(Array.prototype.push),LU=zb(String.prototype.toLowerCase),p1e=zb(String.prototype.toString),I7t=zb(String.prototype.match),zw=zb(String.prototype.replace),O7t=zb(String.prototype.indexOf),N7t=zb(String.prototype.trim),ng=zb(RegExp.prototype.test),b1e=P7t(TypeError);function zb(s){return function(o){for(var f=arguments.length,p=new Array(f>1?f-1:0),w=1;w<f;w++)p[w-1]=arguments[w];return AU(s,o,p)}}function P7t(s){return function(){for(var o=arguments.length,f=new Array(o),p=0;p<o;p++)f[p]=arguments[p];return g1e(s,f)}}function Lo(s,o,f){f=f||LU,WMe&&WMe(s,null);for(var p=o.length;p--;){var w=o[p];if(typeof w=="string"){var k=f(w);k!==w&&(S7t(o)||(o[p]=k),w=k)}s[w]=!0}return s}function jE(s){var o=M7t(null),f;for(f in s)AU(C7t,s,[f])===!0&&(o[f]=s[f]);return o}function MU(s,o){for(;s!==null;){var f=L7t(s,o);if(f){if(f.get)return zb(f.get);if(typeof f.value=="function")return zb(f.value)}s=A7t(s)}function p(w){return console.warn("fallback value for",w),null}return p}var QMe=tg(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),v1e=tg(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),w1e=tg(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B7t=tg(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),m1e=tg(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),F7t=tg(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ZMe=tg(["#text"]),JMe=tg(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),y1e=tg(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eDe=tg(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),DU=tg(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R7t=Hw(/\{\{[\w\W]*|[\w\W]*\}\}/gm),j7t=Hw(/<%[\w\W]*|[\w\W]*%>/gm),$7t=Hw(/\${[\w\W]*}/gm),H7t=Hw(/^data-[\-\w.\u00B7-\uFFFF]/),z7t=Hw(/^aria-[\-\w]+$/),G7t=Hw(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q7t=Hw(/^(?:\w+script|data):/i),V7t=Hw(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),U7t=Hw(/^html$/i),K7t=function(){return typeof window>"u"?null:window},W7t=function(o,f){if(Vk(o)!=="object"||typeof o.createPolicy!="function")return null;var p=null,w="data-tt-policy-suffix";f.currentScript&&f.currentScript.hasAttribute(w)&&(p=f.currentScript.getAttribute(w));var k="dompurify"+(p?"#"+p:"");try{return o.createPolicy(k,{createHTML:function(_){return _},createScriptURL:function(_){return _}})}catch{return console.warn("TrustedTypes policy "+k+" could not be created."),null}};function tDe(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K7t(),o=function($t){return tDe($t)};if(o.version="2.4.3",o.removed=[],!s||!s.document||s.document.nodeType!==9)return o.isSupported=!1,o;var f=s.document,p=s.document,w=s.DocumentFragment,k=s.HTMLTemplateElement,b=s.Node,_=s.Element,A=s.NodeFilter,N=s.NamedNodeMap,B=N===void 0?s.NamedNodeMap||s.MozNamedAttrMap:N,F=s.HTMLFormElement,H=s.DOMParser,j=s.trustedTypes,V=_.prototype,Z=MU(V,"cloneNode"),ae=MU(V,"nextSibling"),le=MU(V,"childNodes"),ce=MU(V,"parentNode");if(typeof k=="function"){var be=p.createElement("template");be.content&&be.content.ownerDocument&&(p=be.content.ownerDocument)}var xe=W7t(j,f),Ee=xe?xe.createHTML(""):"",Me=p,fe=Me.implementation,ye=Me.createNodeIterator,re=Me.createDocumentFragment,we=Me.getElementsByTagName,ke=f.importNode,he={};try{he=jE(p).documentMode?p.documentMode:{}}catch{}var De={};o.isSupported=typeof ce=="function"&&fe&&typeof fe.createHTMLDocument<"u"&&he!==9;var X=R7t,Re=j7t,pe=$7t,Ge=H7t,de=z7t,ct=q7t,bt=V7t,St=G7t,yt=null,Mt=Lo({},[].concat($w(QMe),$w(v1e),$w(w1e),$w(m1e),$w(ZMe))),nn=null,dn=Lo({},[].concat($w(JMe),$w(y1e),$w(eDe),$w(DU))),vt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Lr=null,xt=null,Tt=!0,wt=!0,At=!1,He=!1,Ze=!1,Lt=!1,Ve=!1,Mn=!1,Oe=!1,Di=!1,rn=!0,pi=!1,Fr="user-content-",tr=!0,Wn=!1,er={},Fn=null,nr=Lo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ha=null,fa=Lo({},["audio","video","img","source","image","track"]),is=null,Xi=Lo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),da="http://www.w3.org/1998/Math/MathML",Cc="http://www.w3.org/2000/svg",na="http://www.w3.org/1999/xhtml",Ji=na,Fi=!1,vr=null,wr=Lo({},[da,Cc,na],p1e),ni,Yn=["application/xhtml+xml","text/html"],Gi="text/html",un,Ks=null,Hn=p.createElement("form"),Ms=function($t){return $t instanceof RegExp||$t instanceof Function},Ea=function($t){Ks&&Ks===$t||((!$t||Vk($t)!=="object")&&($t={}),$t=jE($t),ni=Yn.indexOf($t.PARSER_MEDIA_TYPE)===-1?ni=Gi:ni=$t.PARSER_MEDIA_TYPE,un=ni==="application/xhtml+xml"?p1e:LU,yt="ALLOWED_TAGS"in $t?Lo({},$t.ALLOWED_TAGS,un):Mt,nn="ALLOWED_ATTR"in $t?Lo({},$t.ALLOWED_ATTR,un):dn,vr="ALLOWED_NAMESPACES"in $t?Lo({},$t.ALLOWED_NAMESPACES,p1e):wr,is="ADD_URI_SAFE_ATTR"in $t?Lo(jE(Xi),$t.ADD_URI_SAFE_ATTR,un):Xi,ha="ADD_DATA_URI_TAGS"in $t?Lo(jE(fa),$t.ADD_DATA_URI_TAGS,un):fa,Fn="FORBID_CONTENTS"in $t?Lo({},$t.FORBID_CONTENTS,un):nr,Lr="FORBID_TAGS"in $t?Lo({},$t.FORBID_TAGS,un):{},xt="FORBID_ATTR"in $t?Lo({},$t.FORBID_ATTR,un):{},er="USE_PROFILES"in $t?$t.USE_PROFILES:!1,Tt=$t.ALLOW_ARIA_ATTR!==!1,wt=$t.ALLOW_DATA_ATTR!==!1,At=$t.ALLOW_UNKNOWN_PROTOCOLS||!1,He=$t.SAFE_FOR_TEMPLATES||!1,Ze=$t.WHOLE_DOCUMENT||!1,Mn=$t.RETURN_DOM||!1,Oe=$t.RETURN_DOM_FRAGMENT||!1,Di=$t.RETURN_TRUSTED_TYPE||!1,Ve=$t.FORCE_BODY||!1,rn=$t.SANITIZE_DOM!==!1,pi=$t.SANITIZE_NAMED_PROPS||!1,tr=$t.KEEP_CONTENT!==!1,Wn=$t.IN_PLACE||!1,St=$t.ALLOWED_URI_REGEXP||St,Ji=$t.NAMESPACE||na,$t.CUSTOM_ELEMENT_HANDLING&&Ms($t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(vt.tagNameCheck=$t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$t.CUSTOM_ELEMENT_HANDLING&&Ms($t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(vt.attributeNameCheck=$t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$t.CUSTOM_ELEMENT_HANDLING&&typeof $t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(vt.allowCustomizedBuiltInElements=$t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),He&&(wt=!1),Oe&&(Mn=!0),er&&(yt=Lo({},$w(ZMe)),nn=[],er.html===!0&&(Lo(yt,QMe),Lo(nn,JMe)),er.svg===!0&&(Lo(yt,v1e),Lo(nn,y1e),Lo(nn,DU)),er.svgFilters===!0&&(Lo(yt,w1e),Lo(nn,y1e),Lo(nn,DU)),er.mathMl===!0&&(Lo(yt,m1e),Lo(nn,eDe),Lo(nn,DU))),$t.ADD_TAGS&&(yt===Mt&&(yt=jE(yt)),Lo(yt,$t.ADD_TAGS,un)),$t.ADD_ATTR&&(nn===dn&&(nn=jE(nn)),Lo(nn,$t.ADD_ATTR,un)),$t.ADD_URI_SAFE_ATTR&&Lo(is,$t.ADD_URI_SAFE_ATTR,un),$t.FORBID_CONTENTS&&(Fn===nr&&(Fn=jE(Fn)),Lo(Fn,$t.FORBID_CONTENTS,un)),tr&&(yt["#text"]=!0),Ze&&Lo(yt,["html","head","body"]),yt.table&&(Lo(yt,["tbody"]),delete Lr.tbody),tg&&tg($t),Ks=$t)},Va=Lo({},["mi","mo","mn","ms","mtext"]),Ba=Lo({},["foreignobject","desc","title","annotation-xml"]),Ta=Lo({},["title","style","font","a","script"]),ss=Lo({},v1e);Lo(ss,w1e),Lo(ss,B7t);var Zs=Lo({},m1e);Lo(Zs,F7t);var Fa=function($t){var Mr=ce($t);(!Mr||!Mr.tagName)&&(Mr={namespaceURI:Ji,tagName:"template"});var bi=LU($t.tagName),Aa=LU(Mr.tagName);return vr[$t.namespaceURI]?$t.namespaceURI===Cc?Mr.namespaceURI===na?bi==="svg":Mr.namespaceURI===da?bi==="svg"&&(Aa==="annotation-xml"||Va[Aa]):Boolean(ss[bi]):$t.namespaceURI===da?Mr.namespaceURI===na?bi==="math":Mr.namespaceURI===Cc?bi==="math"&&Ba[Aa]:Boolean(Zs[bi]):$t.namespaceURI===na?Mr.namespaceURI===Cc&&!Ba[Aa]||Mr.namespaceURI===da&&!Va[Aa]?!1:!Zs[bi]&&(Ta[bi]||!ss[bi]):!!(ni==="application/xhtml+xml"&&vr[$t.namespaceURI]):!1},$s=function($t){bN(o.removed,{element:$t});try{$t.parentNode.removeChild($t)}catch{try{$t.outerHTML=Ee}catch{$t.remove()}}},ap=function($t,Mr){try{bN(o.removed,{attribute:Mr.getAttributeNode($t),from:Mr})}catch{bN(o.removed,{attribute:null,from:Mr})}if(Mr.removeAttribute($t),$t==="is"&&!nn[$t])if(Mn||Oe)try{$s(Mr)}catch{}else try{Mr.setAttribute($t,"")}catch{}},Xb=function($t){var Mr,bi;if(Ve)$t="<remove></remove>"+$t;else{var Aa=I7t($t,/^[\r\n\t ]+/);bi=Aa&&Aa[0]}ni==="application/xhtml+xml"&&Ji===na&&($t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$t+"</body></html>");var Nc=xe?xe.createHTML($t):$t;if(Ji===na)try{Mr=new H().parseFromString(Nc,ni)}catch{}if(!Mr||!Mr.documentElement){Mr=fe.createDocument(Ji,"template",null);try{Mr.documentElement.innerHTML=Fi?Ee:Nc}catch{}}var $c=Mr.body||Mr.documentElement;return $t&&bi&&$c.insertBefore(p.createTextNode(bi),$c.childNodes[0]||null),Ji===na?we.call(Mr,Ze?"html":"body")[0]:Ze?Mr.documentElement:$c},bu=function($t){return ye.call($t.ownerDocument||$t,$t,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},ra=function($t){return $t instanceof F&&(typeof $t.nodeName!="string"||typeof $t.textContent!="string"||typeof $t.removeChild!="function"||!($t.attributes instanceof B)||typeof $t.removeAttribute!="function"||typeof $t.setAttribute!="function"||typeof $t.namespaceURI!="string"||typeof $t.insertBefore!="function"||typeof $t.hasChildNodes!="function")},Ju=function($t){return Vk(b)==="object"?$t instanceof b:$t&&Vk($t)==="object"&&typeof $t.nodeType=="number"&&typeof $t.nodeName=="string"},lf=function($t,Mr,bi){De[$t]&&D7t(De[$t],function(Aa){Aa.call(o,Mr,bi,Ks)})},el=function($t){var Mr;if(lf("beforeSanitizeElements",$t,null),ra($t)||ng(/[\u0080-\uFFFF]/,$t.nodeName))return $s($t),!0;var bi=un($t.nodeName);if(lf("uponSanitizeElement",$t,{tagName:bi,allowedTags:yt}),$t.hasChildNodes()&&!Ju($t.firstElementChild)&&(!Ju($t.content)||!Ju($t.content.firstElementChild))&&ng(/<[/\w]/g,$t.innerHTML)&&ng(/<[/\w]/g,$t.textContent)||bi==="select"&&ng(/<template/i,$t.innerHTML))return $s($t),!0;if(!yt[bi]||Lr[bi]){if(!Lr[bi]&&vu(bi)&&(vt.tagNameCheck instanceof RegExp&&ng(vt.tagNameCheck,bi)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(bi)))return!1;if(tr&&!Fn[bi]){var Aa=ce($t)||$t.parentNode,Nc=le($t)||$t.childNodes;if(Nc&&Aa)for(var $c=Nc.length,wu=$c-1;wu>=0;--wu)Aa.insertBefore(Z(Nc[wu],!0),ae($t))}return $s($t),!0}return $t instanceof _&&!Fa($t)||(bi==="noscript"||bi==="noembed")&&ng(/<\/no(script|embed)/i,$t.innerHTML)?($s($t),!0):(He&&$t.nodeType===3&&(Mr=$t.textContent,Mr=zw(Mr,X," "),Mr=zw(Mr,Re," "),Mr=zw(Mr,pe," "),$t.textContent!==Mr&&(bN(o.removed,{element:$t.cloneNode()}),$t.textContent=Mr)),lf("afterSanitizeElements",$t,null),!1)},Rl=function($t,Mr,bi){if(rn&&(Mr==="id"||Mr==="name")&&(bi in p||bi in Hn))return!1;if(!(wt&&!xt[Mr]&&ng(Ge,Mr))){if(!(Tt&&ng(de,Mr))){if(!nn[Mr]||xt[Mr]){if(!(vu($t)&&(vt.tagNameCheck instanceof RegExp&&ng(vt.tagNameCheck,$t)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck($t))&&(vt.attributeNameCheck instanceof RegExp&&ng(vt.attributeNameCheck,Mr)||vt.attributeNameCheck instanceof Function&&vt.attributeNameCheck(Mr))||Mr==="is"&&vt.allowCustomizedBuiltInElements&&(vt.tagNameCheck instanceof RegExp&&ng(vt.tagNameCheck,bi)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(bi))))return!1}else if(!is[Mr]){if(!ng(St,zw(bi,bt,""))){if(!((Mr==="src"||Mr==="xlink:href"||Mr==="href")&&$t!=="script"&&O7t(bi,"data:")===0&&ha[$t])){if(!(At&&!ng(ct,zw(bi,bt,"")))){if(bi)return!1}}}}}}return!0},vu=function($t){return $t.indexOf("-")>0},Mh=function($t){var Mr,bi,Aa,Nc;lf("beforeSanitizeAttributes",$t,null);var $c=$t.attributes;if($c){var wu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:nn};for(Nc=$c.length;Nc--;){Mr=$c[Nc];var oh=Mr,tl=oh.name,Qb=oh.namespaceURI;if(bi=tl==="value"?Mr.value:N7t(Mr.value),Aa=un(tl),wu.attrName=Aa,wu.attrValue=bi,wu.keepAttr=!0,wu.forceKeepAttr=void 0,lf("uponSanitizeAttribute",$t,wu),bi=wu.attrValue,!wu.forceKeepAttr&&(ap(tl,$t),!!wu.keepAttr)){if(ng(/\/>/i,bi)){ap(tl,$t);continue}He&&(bi=zw(bi,X," "),bi=zw(bi,Re," "),bi=zw(bi,pe," "));var rm=un($t.nodeName);if(Rl(rm,Aa,bi)){if(pi&&(Aa==="id"||Aa==="name")&&(ap(tl,$t),bi=Fr+bi),xe&&Vk(j)==="object"&&typeof j.getAttributeType=="function"&&!Qb)switch(j.getAttributeType(rm,Aa)){case"TrustedHTML":bi=xe.createHTML(bi);break;case"TrustedScriptURL":bi=xe.createScriptURL(bi);break}try{Qb?$t.setAttributeNS(Qb,tl,bi):$t.setAttribute(tl,bi),XMe(o.removed)}catch{}}}}lf("afterSanitizeAttributes",$t,null)}},ah=function Ai($t){var Mr,bi=bu($t);for(lf("beforeSanitizeShadowDOM",$t,null);Mr=bi.nextNode();)lf("uponSanitizeShadowNode",Mr,null),!el(Mr)&&(Mr.content instanceof w&&Ai(Mr.content),Mh(Mr));lf("afterSanitizeShadowDOM",$t,null)};return o.sanitize=function(Ai){var $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mr,bi,Aa,Nc,$c;if(Fi=!Ai,Fi&&(Ai="<!-->"),typeof Ai!="string"&&!Ju(Ai)){if(typeof Ai.toString!="function")throw b1e("toString is not a function");if(Ai=Ai.toString(),typeof Ai!="string")throw b1e("dirty is not a string, aborting")}if(!o.isSupported){if(Vk(s.toStaticHTML)==="object"||typeof s.toStaticHTML=="function"){if(typeof Ai=="string")return s.toStaticHTML(Ai);if(Ju(Ai))return s.toStaticHTML(Ai.outerHTML)}return Ai}if(Lt||Ea($t),o.removed=[],typeof Ai=="string"&&(Wn=!1),Wn){if(Ai.nodeName){var wu=un(Ai.nodeName);if(!yt[wu]||Lr[wu])throw b1e("root node is forbidden and cannot be sanitized in-place")}}else if(Ai instanceof b)Mr=Xb("<!---->"),bi=Mr.ownerDocument.importNode(Ai,!0),bi.nodeType===1&&bi.nodeName==="BODY"||bi.nodeName==="HTML"?Mr=bi:Mr.appendChild(bi);else{if(!Mn&&!He&&!Ze&&Ai.indexOf("<")===-1)return xe&&Di?xe.createHTML(Ai):Ai;if(Mr=Xb(Ai),!Mr)return Mn?null:Di?Ee:""}Mr&&Ve&&$s(Mr.firstChild);for(var oh=bu(Wn?Ai:Mr);Aa=oh.nextNode();)Aa.nodeType===3&&Aa===Nc||el(Aa)||(Aa.content instanceof w&&ah(Aa.content),Mh(Aa),Nc=Aa);if(Nc=null,Wn)return Ai;if(Mn){if(Oe)for($c=re.call(Mr.ownerDocument);Mr.firstChild;)$c.appendChild(Mr.firstChild);else $c=Mr;return nn.shadowroot&&($c=ke.call(f,$c,!0)),$c}var tl=Ze?Mr.outerHTML:Mr.innerHTML;return Ze&&yt["!doctype"]&&Mr.ownerDocument&&Mr.ownerDocument.doctype&&Mr.ownerDocument.doctype.name&&ng(U7t,Mr.ownerDocument.doctype.name)&&(tl="<!DOCTYPE "+Mr.ownerDocument.doctype.name+`>
`+tl),He&&(tl=zw(tl,X," "),tl=zw(tl,Re," "),tl=zw(tl,pe," ")),xe&&Di?xe.createHTML(tl):tl},o.setConfig=function(Ai){Ea(Ai),Lt=!0},o.clearConfig=function(){Ks=null,Lt=!1},o.isValidAttribute=function(Ai,$t,Mr){Ks||Ea({});var bi=un(Ai),Aa=un($t);return Rl(bi,Aa,Mr)},o.addHook=function(Ai,$t){typeof $t=="function"&&(De[Ai]=De[Ai]||[],bN(De[Ai],$t))},o.removeHook=function(Ai){if(De[Ai])return XMe(De[Ai])},o.removeHooks=function(Ai){De[Ai]&&(De[Ai]=[])},o.removeAllHooks=function(){De={}},o}var vN=tDe();const Y7t=s=>s?iDe(s).replace(/\\n/g,"#br#").split("#br#"):[""],nDe=s=>vN.sanitize(s),rDe=(s,o)=>{var f;if(((f=o.flowchart)==null?void 0:f.htmlLabels)!==!1){const p=o.securityLevel;p==="antiscript"||p==="strict"?s=nDe(s):p!=="loose"&&(s=iDe(s),s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;"),s=s.replace(/=/g,"&equals;"),s=J7t(s))}return s},T2=(s,o)=>s&&(o.dompurifyConfig?s=vN.sanitize(rDe(s,o),o.dompurifyConfig).toString():s=vN.sanitize(rDe(s,o),{FORBID_TAGS:["style"]}).toString(),s),X7t=(s,o)=>typeof s=="string"?T2(s,o):s.flat().map(f=>T2(f,o)),IU=/<br\s*\/?>/gi,Q7t=s=>IU.test(s),Z7t=s=>s.split(IU),J7t=s=>s.replace(/#br#/g,"<br/>"),iDe=s=>s.replace(IU,"#br#"),eEt=s=>{let o="";return s&&(o=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,o=o.replaceAll(/\(/g,"\\("),o=o.replaceAll(/\)/g,"\\)")),o},l1=s=>!(s===!1||["false","null","0"].includes(String(s).trim().toLowerCase())),Uk=function(s){let o=s;if(s.split("~").length-1>=2){let f=o;do o=f,f=o.replace(/~([^\s,:;]+)~/,"<$1>");while(f!=o);return Uk(f)}else return o},xa={getRows:Y7t,sanitizeText:T2,sanitizeTextOrArray:X7t,hasBreaks:Q7t,splitBreaks:Z7t,lineBreakRegex:IU,removeScript:nDe,getUrl:eEt,evaluate:l1},OU={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:s=>s>=255?255:s<0?0:s,g:s=>s>=255?255:s<0?0:s,b:s=>s>=255?255:s<0?0:s,h:s=>s%360,s:s=>s>=100?100:s<0?0:s,l:s=>s>=100?100:s<0?0:s,a:s=>s>=1?1:s<0?0:s},toLinear:s=>{const o=s/255;return s>.03928?Math.pow((o+.055)/1.055,2.4):o/12.92},hue2rgb:(s,o,f)=>(f<0&&(f+=1),f>1&&(f-=1),f<1/6?s+(o-s)*6*f:f<1/2?o:f<2/3?s+(o-s)*(2/3-f)*6:s),hsl2rgb:({h:s,s:o,l:f},p)=>{if(!o)return f*2.55;s/=360,o/=100,f/=100;const w=f<.5?f*(1+o):f+o-f*o,k=2*f-w;switch(p){case"r":return OU.hue2rgb(k,w,s+1/3)*255;case"g":return OU.hue2rgb(k,w,s)*255;case"b":return OU.hue2rgb(k,w,s-1/3)*255}},rgb2hsl:({r:s,g:o,b:f},p)=>{s/=255,o/=255,f/=255;const w=Math.max(s,o,f),k=Math.min(s,o,f),b=(w+k)/2;if(p==="l")return b*100;if(w===k)return 0;const _=w-k,A=b>.5?_/(2-w-k):_/(w+k);if(p==="s")return A*100;switch(w){case s:return((o-f)/_+(o<f?6:0))*60;case o:return((f-s)/_+2)*60;case f:return((s-o)/_+4)*60;default:return-1}}},Na={channel:OU,lang:{clamp:(s,o,f)=>o>f?Math.min(o,Math.max(f,s)):Math.min(f,Math.max(o,s)),round:s=>Math.round(s*1e10)/1e10},unit:{dec2hex:s=>{const o=Math.round(s).toString(16);return o.length>1?o:`0${o}`}}},Kk={};for(let s=0;s<=255;s++)Kk[s]=Na.unit.dec2hex(s);const w0={ALL:0,RGB:1,HSL:2};class tEt{constructor(){this.type=w0.ALL}get(){return this.type}set(o){if(this.type&&this.type!==o)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=o}reset(){this.type=w0.ALL}is(o){return this.type===o}}const nEt=tEt;class rEt{constructor(o,f){this.color=f,this.changed=!1,this.data=o,this.type=new nEt}set(o,f){return this.color=f,this.changed=!1,this.data=o,this.type.type=w0.ALL,this}_ensureHSL(){const o=this.data,{h:f,s:p,l:w}=o;f===void 0&&(o.h=Na.channel.rgb2hsl(o,"h")),p===void 0&&(o.s=Na.channel.rgb2hsl(o,"s")),w===void 0&&(o.l=Na.channel.rgb2hsl(o,"l"))}_ensureRGB(){const o=this.data,{r:f,g:p,b:w}=o;f===void 0&&(o.r=Na.channel.hsl2rgb(o,"r")),p===void 0&&(o.g=Na.channel.hsl2rgb(o,"g")),w===void 0&&(o.b=Na.channel.hsl2rgb(o,"b"))}get r(){const o=this.data,f=o.r;return!this.type.is(w0.HSL)&&f!==void 0?f:(this._ensureHSL(),Na.channel.hsl2rgb(o,"r"))}get g(){const o=this.data,f=o.g;return!this.type.is(w0.HSL)&&f!==void 0?f:(this._ensureHSL(),Na.channel.hsl2rgb(o,"g"))}get b(){const o=this.data,f=o.b;return!this.type.is(w0.HSL)&&f!==void 0?f:(this._ensureHSL(),Na.channel.hsl2rgb(o,"b"))}get h(){const o=this.data,f=o.h;return!this.type.is(w0.RGB)&&f!==void 0?f:(this._ensureRGB(),Na.channel.rgb2hsl(o,"h"))}get s(){const o=this.data,f=o.s;return!this.type.is(w0.RGB)&&f!==void 0?f:(this._ensureRGB(),Na.channel.rgb2hsl(o,"s"))}get l(){const o=this.data,f=o.l;return!this.type.is(w0.RGB)&&f!==void 0?f:(this._ensureRGB(),Na.channel.rgb2hsl(o,"l"))}get a(){return this.data.a}set r(o){this.type.set(w0.RGB),this.changed=!0,this.data.r=o}set g(o){this.type.set(w0.RGB),this.changed=!0,this.data.g=o}set b(o){this.type.set(w0.RGB),this.changed=!0,this.data.b=o}set h(o){this.type.set(w0.HSL),this.changed=!0,this.data.h=o}set s(o){this.type.set(w0.HSL),this.changed=!0,this.data.s=o}set l(o){this.type.set(w0.HSL),this.changed=!0,this.data.l=o}set a(o){this.changed=!0,this.data.a=o}}const iEt=rEt,NU=new iEt({r:0,g:0,b:0,a:0},"transparent"),sDe={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:s=>{if(s.charCodeAt(0)!==35)return;const o=s.match(sDe.re);if(!o)return;const f=o[1],p=parseInt(f,16),w=f.length,k=w%4===0,b=w>4,_=b?1:17,A=b?8:4,N=k?0:-1,B=b?255:15;return NU.set({r:(p>>A*(N+3)&B)*_,g:(p>>A*(N+2)&B)*_,b:(p>>A*(N+1)&B)*_,a:k?(p&B)*_/255:1},s)},stringify:s=>{const{r:o,g:f,b:p,a:w}=s;return w<1?`#${Kk[Math.round(o)]}${Kk[Math.round(f)]}${Kk[Math.round(p)]}${Kk[Math.round(w*255)]}`:`#${Kk[Math.round(o)]}${Kk[Math.round(f)]}${Kk[Math.round(p)]}`}},wN=sDe,PU={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:s=>{const o=s.match(PU.hueRe);if(o){const[,f,p]=o;switch(p){case"grad":return Na.channel.clamp.h(parseFloat(f)*.9);case"rad":return Na.channel.clamp.h(parseFloat(f)*180/Math.PI);case"turn":return Na.channel.clamp.h(parseFloat(f)*360)}}return Na.channel.clamp.h(parseFloat(s))},parse:s=>{const o=s.charCodeAt(0);if(o!==104&&o!==72)return;const f=s.match(PU.re);if(!f)return;const[,p,w,k,b,_]=f;return NU.set({h:PU._hue2deg(p),s:Na.channel.clamp.s(parseFloat(w)),l:Na.channel.clamp.l(parseFloat(k)),a:b?Na.channel.clamp.a(_?parseFloat(b)/100:parseFloat(b)):1},s)},stringify:s=>{const{h:o,s:f,l:p,a:w}=s;return w<1?`hsla(${Na.lang.round(o)}, ${Na.lang.round(f)}%, ${Na.lang.round(p)}%, ${w})`:`hsl(${Na.lang.round(o)}, ${Na.lang.round(f)}%, ${Na.lang.round(p)}%)`}},BU=PU,FU={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:s=>{s=s.toLowerCase();const o=FU.colors[s];if(o)return wN.parse(o)},stringify:s=>{const o=wN.stringify(s);for(const f in FU.colors)if(FU.colors[f]===o)return f}},aDe=FU,oDe={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:s=>{const o=s.charCodeAt(0);if(o!==114&&o!==82)return;const f=s.match(oDe.re);if(!f)return;const[,p,w,k,b,_,A,N,B]=f;return NU.set({r:Na.channel.clamp.r(w?parseFloat(p)*2.55:parseFloat(p)),g:Na.channel.clamp.g(b?parseFloat(k)*2.55:parseFloat(k)),b:Na.channel.clamp.b(A?parseFloat(_)*2.55:parseFloat(_)),a:N?Na.channel.clamp.a(B?parseFloat(N)/100:parseFloat(N)):1},s)},stringify:s=>{const{r:o,g:f,b:p,a:w}=s;return w<1?`rgba(${Na.lang.round(o)}, ${Na.lang.round(f)}, ${Na.lang.round(p)}, ${Na.lang.round(w)})`:`rgb(${Na.lang.round(o)}, ${Na.lang.round(f)}, ${Na.lang.round(p)})`}},RU=oDe,e3={format:{keyword:aDe,hex:wN,rgb:RU,rgba:RU,hsl:BU,hsla:BU},parse:s=>{if(typeof s!="string")return s;const o=wN.parse(s)||RU.parse(s)||BU.parse(s)||aDe.parse(s);if(o)return o;throw new Error(`Unsupported color format: "${s}"`)},stringify:s=>!s.changed&&s.color?s.color:s.type.is(w0.HSL)||s.data.r===void 0?BU.stringify(s):s.a<1||!Number.isInteger(s.r)||!Number.isInteger(s.g)||!Number.isInteger(s.b)?RU.stringify(s):wN.stringify(s)},cDe=(s,o)=>{const f=e3.parse(s);for(const p in o)f[p]=Na.channel.clamp[p](o[p]);return e3.stringify(f)},mN=(s,o,f=0,p=1)=>{if(typeof s!="number")return cDe(s,{a:o});const w=NU.set({r:Na.channel.clamp.r(s),g:Na.channel.clamp.g(o),b:Na.channel.clamp.b(f),a:Na.channel.clamp.a(p)});return e3.stringify(w)},sEt=s=>{const{r:o,g:f,b:p}=e3.parse(s),w=.2126*Na.channel.toLinear(o)+.7152*Na.channel.toLinear(f)+.0722*Na.channel.toLinear(p);return Na.lang.round(w)},aEt=s=>sEt(s)>=.5,uDe=s=>!aEt(s),lDe=(s,o,f)=>{const p=e3.parse(s),w=p[o],k=Na.channel.clamp[o](w+f);return w!==k&&(p[o]=k),e3.stringify(p)},Qs=(s,o)=>lDe(s,"l",o),Sa=(s,o)=>lDe(s,"l",-o),Gn=(s,o)=>{const f=e3.parse(s),p={};for(const w in o)o[w]&&(p[w]=f[w]+o[w]);return cDe(s,p)},oEt=(s,o,f=50)=>{const{r:p,g:w,b:k,a:b}=e3.parse(s),{r:_,g:A,b:N,a:B}=e3.parse(o),F=f/100,H=F*2-1,j=b-B,Z=((H*j===-1?H:(H+j)/(1+H*j))+1)/2,ae=1-Z,le=p*Z+_*ae,ce=w*Z+A*ae,be=k*Z+N*ae,xe=b*F+B*(1-F);return mN(le,ce,be,xe)},$i=(s,o=100)=>{const f=e3.parse(s);return f.r=255-f.r,f.g=255-f.g,f.b=255-f.b,oEt(f,s,o)},rg=(s,o)=>o?Gn(s,{s:-40,l:10}):Gn(s,{s:-40,l:-10}),jU="#ffffff",$U="#f2f2f2";let cEt=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Gn(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Gn(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||rg(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||rg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||rg(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||rg(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||$i(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||$i(this.tertiaryColor),this.lineColor=this.lineColor||$i(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Sa(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Sa(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||$i(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Qs(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Gn(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Gn(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Gn(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Gn(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Gn(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Gn(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Gn(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Gn(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Gn(this.primaryColor,{h:330}),this.darkMode)for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Sa(this["cScale"+f],75);else for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Sa(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||$i(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||Qs(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||Sa(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;const o=this.darkMode?-4:-1;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Gn(this.mainBkg,{h:180,s:-15,l:o*(5+f*3)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Gn(this.mainBkg,{h:180,s:-15,l:o*(8+f*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Gn(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Gn(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Gn(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Gn(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Gn(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Gn(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Gn(this.primaryColor,{l:-10}),this.pie5=this.pie5||Gn(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Gn(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Gn(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Gn(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Gn(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Gn(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Gn(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Gn(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Sa(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Gn(this.primaryColor,{h:-30}),this.git4=this.git4||Gn(this.primaryColor,{h:-60}),this.git5=this.git5||Gn(this.primaryColor,{h:-90}),this.git6=this.git6||Gn(this.primaryColor,{h:60}),this.git7=this.git7||Gn(this.primaryColor,{h:120}),this.darkMode?(this.git0=Qs(this.git0,25),this.git1=Qs(this.git1,25),this.git2=Qs(this.git2,25),this.git3=Qs(this.git3,25),this.git4=Qs(this.git4,25),this.git5=Qs(this.git5,25),this.git6=Qs(this.git6,25),this.git7=Qs(this.git7,25)):(this.git0=Sa(this.git0,25),this.git1=Sa(this.git1,25),this.git2=Sa(this.git2,25),this.git3=Sa(this.git3,25),this.git4=Sa(this.git4,25),this.git5=Sa(this.git5,25),this.git6=Sa(this.git6,25),this.git7=Sa(this.git7,25)),this.gitInv0=this.gitInv0||$i(this.git0),this.gitInv1=this.gitInv1||$i(this.git1),this.gitInv2=this.gitInv2||$i(this.git2),this.gitInv3=this.gitInv3||$i(this.git3),this.gitInv4=this.gitInv4||$i(this.git4),this.gitInv5=this.gitInv5||$i(this.git5),this.gitInv6=this.gitInv6||$i(this.git6),this.gitInv7=this.gitInv7||$i(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||jU,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$U}calculate(o){if(typeof o!="object"){this.updateColors();return}const f=Object.keys(o);f.forEach(p=>{this[p]=o[p]}),this.updateColors(),f.forEach(p=>{this[p]=o[p]})}};const uEt=s=>{const o=new cEt;return o.calculate(s),o};let lEt=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Qs(this.primaryColor,16),this.tertiaryColor=Gn(this.primaryColor,{h:-160}),this.primaryBorderColor=$i(this.background),this.secondaryBorderColor=rg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=rg(this.tertiaryColor,this.darkMode),this.primaryTextColor=$i(this.primaryColor),this.secondaryTextColor=$i(this.secondaryColor),this.tertiaryTextColor=$i(this.tertiaryColor),this.lineColor=$i(this.background),this.textColor=$i(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Qs($i("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=mN(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Sa("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=mN(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=mN(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Qs(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Qs(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Qs(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Gn(this.primaryColor,{h:64}),this.fillType3=Gn(this.secondaryColor,{h:64}),this.fillType4=Gn(this.primaryColor,{h:-64}),this.fillType5=Gn(this.secondaryColor,{h:-64}),this.fillType6=Gn(this.primaryColor,{h:128}),this.fillType7=Gn(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Gn(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Gn(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Gn(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Gn(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Gn(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Gn(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Gn(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Gn(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Gn(this.primaryColor,{h:330});for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||$i(this["cScale"+o]);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScalePeer"+o]=this["cScalePeer"+o]||Qs(this["cScale"+o],10);for(let o=0;o<5;o++)this["surface"+o]=this["surface"+o]||Gn(this.mainBkg,{h:30,s:-30,l:-(-10+o*4)}),this["surfacePeer"+o]=this["surfacePeer"+o]||Gn(this.mainBkg,{h:30,s:-30,l:-(-7+o*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.scaleLabelColor;for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["pie"+o]=this["cScale"+o];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Sa(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Qs(this.secondaryColor,20),this.git1=Qs(this.pie2||this.secondaryColor,20),this.git2=Qs(this.pie3||this.tertiaryColor,20),this.git3=Qs(this.pie4||Gn(this.primaryColor,{h:-30}),20),this.git4=Qs(this.pie5||Gn(this.primaryColor,{h:-60}),20),this.git5=Qs(this.pie6||Gn(this.primaryColor,{h:-90}),10),this.git6=Qs(this.pie7||Gn(this.primaryColor,{h:60}),10),this.git7=Qs(this.pie8||Gn(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||$i(this.git0),this.gitInv1=this.gitInv1||$i(this.git1),this.gitInv2=this.gitInv2||$i(this.git2),this.gitInv3=this.gitInv3||$i(this.git3),this.gitInv4=this.gitInv4||$i(this.git4),this.gitInv5=this.gitInv5||$i(this.git5),this.gitInv6=this.gitInv6||$i(this.git6),this.gitInv7=this.gitInv7||$i(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Qs(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Qs(this.background,2)}calculate(o){if(typeof o!="object"){this.updateColors();return}const f=Object.keys(o);f.forEach(p=>{this[p]=o[p]}),this.updateColors(),f.forEach(p=>{this[p]=o[p]})}};const hEt=s=>{const o=new lEt;return o.calculate(s),o};let fEt=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Gn(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Gn(this.primaryColor,{h:-160}),this.primaryBorderColor=rg(this.primaryColor,this.darkMode),this.secondaryBorderColor=rg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=rg(this.tertiaryColor,this.darkMode),this.primaryTextColor=$i(this.primaryColor),this.secondaryTextColor=$i(this.secondaryColor),this.tertiaryTextColor=$i(this.tertiaryColor),this.lineColor=$i(this.background),this.textColor=$i(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=mN(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Gn(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Gn(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Gn(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Gn(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Gn(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Gn(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Gn(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Gn(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Gn(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||Sa(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||Sa(this.tertiaryColor,40);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScale"+o]=Sa(this["cScale"+o],10),this["cScalePeer"+o]=this["cScalePeer"+o]||Sa(this["cScale"+o],25);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||Gn(this["cScale"+o],{h:180});for(let o=0;o<5;o++)this["surface"+o]=this["surface"+o]||Gn(this.mainBkg,{h:30,l:-(5+o*5)}),this["surfacePeer"+o]=this["surfacePeer"+o]||Gn(this.mainBkg,{h:30,l:-(7+o*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||$i(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||$i(this.labelTextColor);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Qs(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Gn(this.primaryColor,{h:64}),this.fillType3=Gn(this.secondaryColor,{h:64}),this.fillType4=Gn(this.primaryColor,{h:-64}),this.fillType5=Gn(this.secondaryColor,{h:-64}),this.fillType6=Gn(this.primaryColor,{h:128}),this.fillType7=Gn(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Gn(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Gn(this.primaryColor,{l:-10}),this.pie5=this.pie5||Gn(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Gn(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Gn(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Gn(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Gn(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Gn(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Gn(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Gn(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Gn(this.primaryColor,{h:-30}),this.git4=this.git4||Gn(this.primaryColor,{h:-60}),this.git5=this.git5||Gn(this.primaryColor,{h:-90}),this.git6=this.git6||Gn(this.primaryColor,{h:60}),this.git7=this.git7||Gn(this.primaryColor,{h:120}),this.darkMode?(this.git0=Qs(this.git0,25),this.git1=Qs(this.git1,25),this.git2=Qs(this.git2,25),this.git3=Qs(this.git3,25),this.git4=Qs(this.git4,25),this.git5=Qs(this.git5,25),this.git6=Qs(this.git6,25),this.git7=Qs(this.git7,25)):(this.git0=Sa(this.git0,25),this.git1=Sa(this.git1,25),this.git2=Sa(this.git2,25),this.git3=Sa(this.git3,25),this.git4=Sa(this.git4,25),this.git5=Sa(this.git5,25),this.git6=Sa(this.git6,25),this.git7=Sa(this.git7,25)),this.gitInv0=this.gitInv0||Sa($i(this.git0),25),this.gitInv1=this.gitInv1||$i(this.git1),this.gitInv2=this.gitInv2||$i(this.git2),this.gitInv3=this.gitInv3||$i(this.git3),this.gitInv4=this.gitInv4||$i(this.git4),this.gitInv5=this.gitInv5||$i(this.git5),this.gitInv6=this.gitInv6||$i(this.git6),this.gitInv7=this.gitInv7||$i(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||$i(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||$i(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||jU,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$U}calculate(o){if(typeof o!="object"){this.updateColors();return}const f=Object.keys(o);f.forEach(p=>{this[p]=o[p]}),this.updateColors(),f.forEach(p=>{this[p]=o[p]})}};const dEt=s=>{const o=new fEt;return o.calculate(s),o};let gEt=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Qs("#cde498",10),this.primaryBorderColor=rg(this.primaryColor,this.darkMode),this.secondaryBorderColor=rg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=rg(this.tertiaryColor,this.darkMode),this.primaryTextColor=$i(this.primaryColor),this.secondaryTextColor=$i(this.secondaryColor),this.tertiaryTextColor=$i(this.primaryColor),this.lineColor=$i(this.background),this.textColor=$i(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Gn(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Gn(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Gn(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Gn(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Gn(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Gn(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Gn(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Gn(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Gn(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||Sa(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||Sa(this.tertiaryColor,40);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScale"+o]=Sa(this["cScale"+o],10),this["cScalePeer"+o]=this["cScalePeer"+o]||Sa(this["cScale"+o],25);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||Gn(this["cScale"+o],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.scaleLabelColor;for(let o=0;o<5;o++)this["surface"+o]=this["surface"+o]||Gn(this.mainBkg,{h:30,s:-30,l:-(5+o*5)}),this["surfacePeer"+o]=this["surfacePeer"+o]||Gn(this.mainBkg,{h:30,s:-30,l:-(8+o*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=Sa(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Gn(this.primaryColor,{h:64}),this.fillType3=Gn(this.secondaryColor,{h:64}),this.fillType4=Gn(this.primaryColor,{h:-64}),this.fillType5=Gn(this.secondaryColor,{h:-64}),this.fillType6=Gn(this.primaryColor,{h:128}),this.fillType7=Gn(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Gn(this.primaryColor,{l:-30}),this.pie5=this.pie5||Gn(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Gn(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Gn(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Gn(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Gn(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Gn(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Gn(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Gn(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Gn(this.primaryColor,{h:-30}),this.git4=this.git4||Gn(this.primaryColor,{h:-60}),this.git5=this.git5||Gn(this.primaryColor,{h:-90}),this.git6=this.git6||Gn(this.primaryColor,{h:60}),this.git7=this.git7||Gn(this.primaryColor,{h:120}),this.darkMode?(this.git0=Qs(this.git0,25),this.git1=Qs(this.git1,25),this.git2=Qs(this.git2,25),this.git3=Qs(this.git3,25),this.git4=Qs(this.git4,25),this.git5=Qs(this.git5,25),this.git6=Qs(this.git6,25),this.git7=Qs(this.git7,25)):(this.git0=Sa(this.git0,25),this.git1=Sa(this.git1,25),this.git2=Sa(this.git2,25),this.git3=Sa(this.git3,25),this.git4=Sa(this.git4,25),this.git5=Sa(this.git5,25),this.git6=Sa(this.git6,25),this.git7=Sa(this.git7,25)),this.gitInv0=this.gitInv0||$i(this.git0),this.gitInv1=this.gitInv1||$i(this.git1),this.gitInv2=this.gitInv2||$i(this.git2),this.gitInv3=this.gitInv3||$i(this.git3),this.gitInv4=this.gitInv4||$i(this.git4),this.gitInv5=this.gitInv5||$i(this.git5),this.gitInv6=this.gitInv6||$i(this.git6),this.gitInv7=this.gitInv7||$i(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||jU,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$U}calculate(o){if(typeof o!="object"){this.updateColors();return}const f=Object.keys(o);f.forEach(p=>{this[p]=o[p]}),this.updateColors(),f.forEach(p=>{this[p]=o[p]})}};const pEt=s=>{const o=new gEt;return o.calculate(s),o};class bEt{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Qs(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Gn(this.primaryColor,{h:-160}),this.primaryBorderColor=rg(this.primaryColor,this.darkMode),this.secondaryBorderColor=rg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=rg(this.tertiaryColor,this.darkMode),this.primaryTextColor=$i(this.primaryColor),this.secondaryTextColor=$i(this.secondaryColor),this.tertiaryTextColor=$i(this.tertiaryColor),this.lineColor=$i(this.background),this.textColor=$i(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Qs(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleInv"+o]=this["cScaleInv"+o]||$i(this["cScale"+o]);for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this.darkMode?this["cScalePeer"+o]=this["cScalePeer"+o]||Qs(this["cScale"+o],10):this["cScalePeer"+o]=this["cScalePeer"+o]||Sa(this["cScale"+o],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["cScaleLabel"+o]=this["cScaleLabel"+o]||this.scaleLabelColor;for(let o=0;o<5;o++)this["surface"+o]=this["surface"+o]||Gn(this.mainBkg,{l:-(5+o*5)}),this["surfacePeer"+o]=this["surfacePeer"+o]||Gn(this.mainBkg,{l:-(8+o*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=Qs(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=Qs(this.contrast,30),this.sectionBkgColor2=Qs(this.contrast,30),this.taskBorderColor=Sa(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Qs(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Sa(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Gn(this.primaryColor,{h:64}),this.fillType3=Gn(this.secondaryColor,{h:64}),this.fillType4=Gn(this.primaryColor,{h:-64}),this.fillType5=Gn(this.secondaryColor,{h:-64}),this.fillType6=Gn(this.primaryColor,{h:128}),this.fillType7=Gn(this.secondaryColor,{h:128});for(let o=0;o<this.THEME_COLOR_LIMIT;o++)this["pie"+o]=this["cScale"+o];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Sa(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Gn(this.primaryColor,{h:-30}),this.git4=this.pie5||Gn(this.primaryColor,{h:-60}),this.git5=this.pie6||Gn(this.primaryColor,{h:-90}),this.git6=this.pie7||Gn(this.primaryColor,{h:60}),this.git7=this.pie8||Gn(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||$i(this.git0),this.gitInv1=this.gitInv1||$i(this.git1),this.gitInv2=this.gitInv2||$i(this.git2),this.gitInv3=this.gitInv3||$i(this.git3),this.gitInv4=this.gitInv4||$i(this.git4),this.gitInv5=this.gitInv5||$i(this.git5),this.gitInv6=this.gitInv6||$i(this.git6),this.gitInv7=this.gitInv7||$i(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||jU,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$U}calculate(o){if(typeof o!="object"){this.updateColors();return}const f=Object.keys(o);f.forEach(p=>{this[p]=o[p]}),this.updateColors(),f.forEach(p=>{this[p]=o[p]})}}const f5={base:{getThemeVariables:uEt},dark:{getThemeVariables:hEt},default:{getThemeVariables:dEt},forest:{getThemeVariables:pEt},neutral:{getThemeVariables:s=>{const o=new bEt;return o.calculate(s),o}}},Wk={theme:"default",themeVariables:f5.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},timeline:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};Wk.class&&(Wk.class.arrowMarkerAbsolute=Wk.arrowMarkerAbsolute),Wk.gitGraph&&(Wk.gitGraph.arrowMarkerAbsolute=Wk.arrowMarkerAbsolute);const hDe=(s,o="")=>Object.keys(s).reduce((f,p)=>Array.isArray(s[p])?f:typeof s[p]=="object"&&s[p]!==null?[...f,o+p,...hDe(s[p],"")]:[...f,o+p],[]),vEt=hDe(Wk,""),wEt=Wk;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function fDe(s){return typeof s>"u"||s===null}function mEt(s){return typeof s=="object"&&s!==null}function yEt(s){return Array.isArray(s)?s:fDe(s)?[]:[s]}function kEt(s,o){var f,p,w,k;if(o)for(k=Object.keys(o),f=0,p=k.length;f<p;f+=1)w=k[f],s[w]=o[w];return s}function xEt(s,o){var f="",p;for(p=0;p<o;p+=1)f+=s;return f}function EEt(s){return s===0&&Number.NEGATIVE_INFINITY===1/s}var TEt=fDe,_Et=mEt,CEt=yEt,SEt=xEt,AEt=EEt,LEt=kEt,ig={isNothing:TEt,isObject:_Et,toArray:CEt,repeat:SEt,isNegativeZero:AEt,extend:LEt};function dDe(s,o){var f="",p=s.reason||"(unknown reason)";return s.mark?(s.mark.name&&(f+='in "'+s.mark.name+'" '),f+="("+(s.mark.line+1)+":"+(s.mark.column+1)+")",!o&&s.mark.snippet&&(f+=`

`+s.mark.snippet),p+" "+f):p}function yN(s,o){Error.call(this),this.name="YAMLException",this.reason=s,this.mark=o,this.message=dDe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}yN.prototype=Object.create(Error.prototype),yN.prototype.constructor=yN,yN.prototype.toString=function(o){return this.name+": "+dDe(this,o)};var d5=yN;function k1e(s,o,f,p,w){var k="",b="",_=Math.floor(w/2)-1;return p-o>_&&(k=" ... ",o=p-_+k.length),f-p>_&&(b=" ...",f=p+_-b.length),{str:k+s.slice(o,f).replace(/\t/g,"→")+b,pos:p-o+k.length}}function x1e(s,o){return ig.repeat(" ",o-s.length)+s}function MEt(s,o){if(o=Object.create(o||null),!s.buffer)return null;o.maxLength||(o.maxLength=79),typeof o.indent!="number"&&(o.indent=1),typeof o.linesBefore!="number"&&(o.linesBefore=3),typeof o.linesAfter!="number"&&(o.linesAfter=2);for(var f=/\r?\n|\r|\0/g,p=[0],w=[],k,b=-1;k=f.exec(s.buffer);)w.push(k.index),p.push(k.index+k[0].length),s.position<=k.index&&b<0&&(b=p.length-2);b<0&&(b=p.length-1);var _="",A,N,B=Math.min(s.line+o.linesAfter,w.length).toString().length,F=o.maxLength-(o.indent+B+3);for(A=1;A<=o.linesBefore&&!(b-A<0);A++)N=k1e(s.buffer,p[b-A],w[b-A],s.position-(p[b]-p[b-A]),F),_=ig.repeat(" ",o.indent)+x1e((s.line-A+1).toString(),B)+" | "+N.str+`
`+_;for(N=k1e(s.buffer,p[b],w[b],s.position,F),_+=ig.repeat(" ",o.indent)+x1e((s.line+1).toString(),B)+" | "+N.str+`
`,_+=ig.repeat("-",o.indent+B+3+N.pos)+`^
`,A=1;A<=o.linesAfter&&!(b+A>=w.length);A++)N=k1e(s.buffer,p[b+A],w[b+A],s.position-(p[b]-p[b+A]),F),_+=ig.repeat(" ",o.indent)+x1e((s.line+A+1).toString(),B)+" | "+N.str+`
`;return _.replace(/\n$/,"")}var DEt=MEt,IEt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],OEt=["scalar","sequence","mapping"];function NEt(s){var o={};return s!==null&&Object.keys(s).forEach(function(f){s[f].forEach(function(p){o[String(p)]=f})}),o}function PEt(s,o){if(o=o||{},Object.keys(o).forEach(function(f){if(IEt.indexOf(f)===-1)throw new d5('Unknown option "'+f+'" is met in definition of "'+s+'" YAML type.')}),this.options=o,this.tag=s,this.kind=o.kind||null,this.resolve=o.resolve||function(){return!0},this.construct=o.construct||function(f){return f},this.instanceOf=o.instanceOf||null,this.predicate=o.predicate||null,this.represent=o.represent||null,this.representName=o.representName||null,this.defaultStyle=o.defaultStyle||null,this.multi=o.multi||!1,this.styleAliases=NEt(o.styleAliases||null),OEt.indexOf(this.kind)===-1)throw new d5('Unknown kind "'+this.kind+'" is specified for "'+s+'" YAML type.')}var m0=PEt;function gDe(s,o){var f=[];return s[o].forEach(function(p){var w=f.length;f.forEach(function(k,b){k.tag===p.tag&&k.kind===p.kind&&k.multi===p.multi&&(w=b)}),f[w]=p}),f}function BEt(){var s={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},o,f;function p(w){w.multi?(s.multi[w.kind].push(w),s.multi.fallback.push(w)):s[w.kind][w.tag]=s.fallback[w.tag]=w}for(o=0,f=arguments.length;o<f;o+=1)arguments[o].forEach(p);return s}function E1e(s){return this.extend(s)}E1e.prototype.extend=function(o){var f=[],p=[];if(o instanceof m0)p.push(o);else if(Array.isArray(o))p=p.concat(o);else if(o&&(Array.isArray(o.implicit)||Array.isArray(o.explicit)))o.implicit&&(f=f.concat(o.implicit)),o.explicit&&(p=p.concat(o.explicit));else throw new d5("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");f.forEach(function(k){if(!(k instanceof m0))throw new d5("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(k.loadKind&&k.loadKind!=="scalar")throw new d5("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(k.multi)throw new d5("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),p.forEach(function(k){if(!(k instanceof m0))throw new d5("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var w=Object.create(E1e.prototype);return w.implicit=(this.implicit||[]).concat(f),w.explicit=(this.explicit||[]).concat(p),w.compiledImplicit=gDe(w,"implicit"),w.compiledExplicit=gDe(w,"explicit"),w.compiledTypeMap=BEt(w.compiledImplicit,w.compiledExplicit),w};var FEt=E1e,REt=new m0("tag:yaml.org,2002:str",{kind:"scalar",construct:function(s){return s!==null?s:""}}),jEt=new m0("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(s){return s!==null?s:[]}}),$Et=new m0("tag:yaml.org,2002:map",{kind:"mapping",construct:function(s){return s!==null?s:{}}}),pDe=new FEt({explicit:[REt,jEt,$Et]});function HEt(s){if(s===null)return!0;var o=s.length;return o===1&&s==="~"||o===4&&(s==="null"||s==="Null"||s==="NULL")}function zEt(){return null}function GEt(s){return s===null}var qEt=new m0("tag:yaml.org,2002:null",{kind:"scalar",resolve:HEt,construct:zEt,predicate:GEt,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function VEt(s){if(s===null)return!1;var o=s.length;return o===4&&(s==="true"||s==="True"||s==="TRUE")||o===5&&(s==="false"||s==="False"||s==="FALSE")}function UEt(s){return s==="true"||s==="True"||s==="TRUE"}function KEt(s){return Object.prototype.toString.call(s)==="[object Boolean]"}var WEt=new m0("tag:yaml.org,2002:bool",{kind:"scalar",resolve:VEt,construct:UEt,predicate:KEt,represent:{lowercase:function(s){return s?"true":"false"},uppercase:function(s){return s?"TRUE":"FALSE"},camelcase:function(s){return s?"True":"False"}},defaultStyle:"lowercase"});function YEt(s){return 48<=s&&s<=57||65<=s&&s<=70||97<=s&&s<=102}function XEt(s){return 48<=s&&s<=55}function QEt(s){return 48<=s&&s<=57}function ZEt(s){if(s===null)return!1;var o=s.length,f=0,p=!1,w;if(!o)return!1;if(w=s[f],(w==="-"||w==="+")&&(w=s[++f]),w==="0"){if(f+1===o)return!0;if(w=s[++f],w==="b"){for(f++;f<o;f++)if(w=s[f],w!=="_"){if(w!=="0"&&w!=="1")return!1;p=!0}return p&&w!=="_"}if(w==="x"){for(f++;f<o;f++)if(w=s[f],w!=="_"){if(!YEt(s.charCodeAt(f)))return!1;p=!0}return p&&w!=="_"}if(w==="o"){for(f++;f<o;f++)if(w=s[f],w!=="_"){if(!XEt(s.charCodeAt(f)))return!1;p=!0}return p&&w!=="_"}}if(w==="_")return!1;for(;f<o;f++)if(w=s[f],w!=="_"){if(!QEt(s.charCodeAt(f)))return!1;p=!0}return!(!p||w==="_")}function JEt(s){var o=s,f=1,p;if(o.indexOf("_")!==-1&&(o=o.replace(/_/g,"")),p=o[0],(p==="-"||p==="+")&&(p==="-"&&(f=-1),o=o.slice(1),p=o[0]),o==="0")return 0;if(p==="0"){if(o[1]==="b")return f*parseInt(o.slice(2),2);if(o[1]==="x")return f*parseInt(o.slice(2),16);if(o[1]==="o")return f*parseInt(o.slice(2),8)}return f*parseInt(o,10)}function e9t(s){return Object.prototype.toString.call(s)==="[object Number]"&&s%1===0&&!ig.isNegativeZero(s)}var t9t=new m0("tag:yaml.org,2002:int",{kind:"scalar",resolve:ZEt,construct:JEt,predicate:e9t,represent:{binary:function(s){return s>=0?"0b"+s.toString(2):"-0b"+s.toString(2).slice(1)},octal:function(s){return s>=0?"0o"+s.toString(8):"-0o"+s.toString(8).slice(1)},decimal:function(s){return s.toString(10)},hexadecimal:function(s){return s>=0?"0x"+s.toString(16).toUpperCase():"-0x"+s.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),n9t=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function r9t(s){return!(s===null||!n9t.test(s)||s[s.length-1]==="_")}function i9t(s){var o,f;return o=s.replace(/_/g,"").toLowerCase(),f=o[0]==="-"?-1:1,"+-".indexOf(o[0])>=0&&(o=o.slice(1)),o===".inf"?f===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:o===".nan"?NaN:f*parseFloat(o,10)}var s9t=/^[-+]?[0-9]+e/;function a9t(s,o){var f;if(isNaN(s))switch(o){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===s)switch(o){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===s)switch(o){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ig.isNegativeZero(s))return"-0.0";return f=s.toString(10),s9t.test(f)?f.replace("e",".e"):f}function o9t(s){return Object.prototype.toString.call(s)==="[object Number]"&&(s%1!==0||ig.isNegativeZero(s))}var c9t=new m0("tag:yaml.org,2002:float",{kind:"scalar",resolve:r9t,construct:i9t,predicate:o9t,represent:a9t,defaultStyle:"lowercase"}),u9t=pDe.extend({implicit:[qEt,WEt,t9t,c9t]}),l9t=u9t,bDe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),vDe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function h9t(s){return s===null?!1:bDe.exec(s)!==null||vDe.exec(s)!==null}function f9t(s){var o,f,p,w,k,b,_,A=0,N=null,B,F,H;if(o=bDe.exec(s),o===null&&(o=vDe.exec(s)),o===null)throw new Error("Date resolve error");if(f=+o[1],p=+o[2]-1,w=+o[3],!o[4])return new Date(Date.UTC(f,p,w));if(k=+o[4],b=+o[5],_=+o[6],o[7]){for(A=o[7].slice(0,3);A.length<3;)A+="0";A=+A}return o[9]&&(B=+o[10],F=+(o[11]||0),N=(B*60+F)*6e4,o[9]==="-"&&(N=-N)),H=new Date(Date.UTC(f,p,w,k,b,_,A)),N&&H.setTime(H.getTime()-N),H}function d9t(s){return s.toISOString()}var g9t=new m0("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:h9t,construct:f9t,instanceOf:Date,represent:d9t});function p9t(s){return s==="<<"||s===null}var b9t=new m0("tag:yaml.org,2002:merge",{kind:"scalar",resolve:p9t}),T1e=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function v9t(s){if(s===null)return!1;var o,f,p=0,w=s.length,k=T1e;for(f=0;f<w;f++)if(o=k.indexOf(s.charAt(f)),!(o>64)){if(o<0)return!1;p+=6}return p%8===0}function w9t(s){var o,f,p=s.replace(/[\r\n=]/g,""),w=p.length,k=T1e,b=0,_=[];for(o=0;o<w;o++)o%4===0&&o&&(_.push(b>>16&255),_.push(b>>8&255),_.push(b&255)),b=b<<6|k.indexOf(p.charAt(o));return f=w%4*6,f===0?(_.push(b>>16&255),_.push(b>>8&255),_.push(b&255)):f===18?(_.push(b>>10&255),_.push(b>>2&255)):f===12&&_.push(b>>4&255),new Uint8Array(_)}function m9t(s){var o="",f=0,p,w,k=s.length,b=T1e;for(p=0;p<k;p++)p%3===0&&p&&(o+=b[f>>18&63],o+=b[f>>12&63],o+=b[f>>6&63],o+=b[f&63]),f=(f<<8)+s[p];return w=k%3,w===0?(o+=b[f>>18&63],o+=b[f>>12&63],o+=b[f>>6&63],o+=b[f&63]):w===2?(o+=b[f>>10&63],o+=b[f>>4&63],o+=b[f<<2&63],o+=b[64]):w===1&&(o+=b[f>>2&63],o+=b[f<<4&63],o+=b[64],o+=b[64]),o}function y9t(s){return Object.prototype.toString.call(s)==="[object Uint8Array]"}var k9t=new m0("tag:yaml.org,2002:binary",{kind:"scalar",resolve:v9t,construct:w9t,predicate:y9t,represent:m9t}),x9t=Object.prototype.hasOwnProperty,E9t=Object.prototype.toString;function T9t(s){if(s===null)return!0;var o=[],f,p,w,k,b,_=s;for(f=0,p=_.length;f<p;f+=1){if(w=_[f],b=!1,E9t.call(w)!=="[object Object]")return!1;for(k in w)if(x9t.call(w,k))if(!b)b=!0;else return!1;if(!b)return!1;if(o.indexOf(k)===-1)o.push(k);else return!1}return!0}function _9t(s){return s!==null?s:[]}var C9t=new m0("tag:yaml.org,2002:omap",{kind:"sequence",resolve:T9t,construct:_9t}),S9t=Object.prototype.toString;function A9t(s){if(s===null)return!0;var o,f,p,w,k,b=s;for(k=new Array(b.length),o=0,f=b.length;o<f;o+=1){if(p=b[o],S9t.call(p)!=="[object Object]"||(w=Object.keys(p),w.length!==1))return!1;k[o]=[w[0],p[w[0]]]}return!0}function L9t(s){if(s===null)return[];var o,f,p,w,k,b=s;for(k=new Array(b.length),o=0,f=b.length;o<f;o+=1)p=b[o],w=Object.keys(p),k[o]=[w[0],p[w[0]]];return k}var M9t=new m0("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:A9t,construct:L9t}),D9t=Object.prototype.hasOwnProperty;function I9t(s){if(s===null)return!0;var o,f=s;for(o in f)if(D9t.call(f,o)&&f[o]!==null)return!1;return!0}function O9t(s){return s!==null?s:{}}var N9t=new m0("tag:yaml.org,2002:set",{kind:"mapping",resolve:I9t,construct:O9t}),P9t=l9t.extend({implicit:[g9t,b9t],explicit:[k9t,C9t,M9t,N9t]}),Yk=Object.prototype.hasOwnProperty,HU=1,wDe=2,mDe=3,zU=4,_1e=1,B9t=2,yDe=3,F9t=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,R9t=/[\x85\u2028\u2029]/,j9t=/[,\[\]\{\}]/,kDe=/^(?:!|!!|![a-z\-]+!)$/i,xDe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function EDe(s){return Object.prototype.toString.call(s)}function t3(s){return s===10||s===13}function $E(s){return s===9||s===32}function Zg(s){return s===9||s===32||s===10||s===13}function bA(s){return s===44||s===91||s===93||s===123||s===125}function $9t(s){var o;return 48<=s&&s<=57?s-48:(o=s|32,97<=o&&o<=102?o-97+10:-1)}function H9t(s){return s===120?2:s===117?4:s===85?8:0}function z9t(s){return 48<=s&&s<=57?s-48:-1}function TDe(s){return s===48?"\0":s===97?"\x07":s===98?"\b":s===116||s===9?"	":s===110?`
`:s===118?"\v":s===102?"\f":s===114?"\r":s===101?"\x1B":s===32?" ":s===34?'"':s===47?"/":s===92?"\\":s===78?"":s===95?" ":s===76?"\u2028":s===80?"\u2029":""}function G9t(s){return s<=65535?String.fromCharCode(s):String.fromCharCode((s-65536>>10)+55296,(s-65536&1023)+56320)}for(var _De=new Array(256),CDe=new Array(256),vA=0;vA<256;vA++)_De[vA]=TDe(vA)?1:0,CDe[vA]=TDe(vA);function q9t(s,o){this.input=s,this.filename=o.filename||null,this.schema=o.schema||P9t,this.onWarning=o.onWarning||null,this.legacy=o.legacy||!1,this.json=o.json||!1,this.listener=o.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=s.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function SDe(s,o){var f={name:s.filename,buffer:s.input.slice(0,-1),position:s.position,line:s.line,column:s.position-s.lineStart};return f.snippet=DEt(f),new d5(o,f)}function Os(s,o){throw SDe(s,o)}function GU(s,o){s.onWarning&&s.onWarning.call(null,SDe(s,o))}var ADe={YAML:function(o,f,p){var w,k,b;o.version!==null&&Os(o,"duplication of %YAML directive"),p.length!==1&&Os(o,"YAML directive accepts exactly one argument"),w=/^([0-9]+)\.([0-9]+)$/.exec(p[0]),w===null&&Os(o,"ill-formed argument of the YAML directive"),k=parseInt(w[1],10),b=parseInt(w[2],10),k!==1&&Os(o,"unacceptable YAML version of the document"),o.version=p[0],o.checkLineBreaks=b<2,b!==1&&b!==2&&GU(o,"unsupported YAML version of the document")},TAG:function(o,f,p){var w,k;p.length!==2&&Os(o,"TAG directive accepts exactly two arguments"),w=p[0],k=p[1],kDe.test(w)||Os(o,"ill-formed tag handle (first argument) of the TAG directive"),Yk.call(o.tagMap,w)&&Os(o,'there is a previously declared suffix for "'+w+'" tag handle'),xDe.test(k)||Os(o,"ill-formed tag prefix (second argument) of the TAG directive");try{k=decodeURIComponent(k)}catch{Os(o,"tag prefix is malformed: "+k)}o.tagMap[w]=k}};function Xk(s,o,f,p){var w,k,b,_;if(o<f){if(_=s.input.slice(o,f),p)for(w=0,k=_.length;w<k;w+=1)b=_.charCodeAt(w),b===9||32<=b&&b<=1114111||Os(s,"expected valid JSON character");else F9t.test(_)&&Os(s,"the stream contains non-printable characters");s.result+=_}}function LDe(s,o,f,p){var w,k,b,_;for(ig.isObject(f)||Os(s,"cannot merge mappings; the provided source object is unacceptable"),w=Object.keys(f),b=0,_=w.length;b<_;b+=1)k=w[b],Yk.call(o,k)||(o[k]=f[k],p[k]=!0)}function wA(s,o,f,p,w,k,b,_,A){var N,B;if(Array.isArray(w))for(w=Array.prototype.slice.call(w),N=0,B=w.length;N<B;N+=1)Array.isArray(w[N])&&Os(s,"nested arrays are not supported inside keys"),typeof w=="object"&&EDe(w[N])==="[object Object]"&&(w[N]="[object Object]");if(typeof w=="object"&&EDe(w)==="[object Object]"&&(w="[object Object]"),w=String(w),o===null&&(o={}),p==="tag:yaml.org,2002:merge")if(Array.isArray(k))for(N=0,B=k.length;N<B;N+=1)LDe(s,o,k[N],f);else LDe(s,o,k,f);else!s.json&&!Yk.call(f,w)&&Yk.call(o,w)&&(s.line=b||s.line,s.lineStart=_||s.lineStart,s.position=A||s.position,Os(s,"duplicated mapping key")),w==="__proto__"?Object.defineProperty(o,w,{configurable:!0,enumerable:!0,writable:!0,value:k}):o[w]=k,delete f[w];return o}function C1e(s){var o;o=s.input.charCodeAt(s.position),o===10?s.position++:o===13?(s.position++,s.input.charCodeAt(s.position)===10&&s.position++):Os(s,"a line break is expected"),s.line+=1,s.lineStart=s.position,s.firstTabInLine=-1}function Bf(s,o,f){for(var p=0,w=s.input.charCodeAt(s.position);w!==0;){for(;$E(w);)w===9&&s.firstTabInLine===-1&&(s.firstTabInLine=s.position),w=s.input.charCodeAt(++s.position);if(o&&w===35)do w=s.input.charCodeAt(++s.position);while(w!==10&&w!==13&&w!==0);if(t3(w))for(C1e(s),w=s.input.charCodeAt(s.position),p++,s.lineIndent=0;w===32;)s.lineIndent++,w=s.input.charCodeAt(++s.position);else break}return f!==-1&&p!==0&&s.lineIndent<f&&GU(s,"deficient indentation"),p}function qU(s){var o=s.position,f;return f=s.input.charCodeAt(o),!!((f===45||f===46)&&f===s.input.charCodeAt(o+1)&&f===s.input.charCodeAt(o+2)&&(o+=3,f=s.input.charCodeAt(o),f===0||Zg(f)))}function S1e(s,o){o===1?s.result+=" ":o>1&&(s.result+=ig.repeat(`
`,o-1))}function V9t(s,o,f){var p,w,k,b,_,A,N,B,F=s.kind,H=s.result,j;if(j=s.input.charCodeAt(s.position),Zg(j)||bA(j)||j===35||j===38||j===42||j===33||j===124||j===62||j===39||j===34||j===37||j===64||j===96||(j===63||j===45)&&(w=s.input.charCodeAt(s.position+1),Zg(w)||f&&bA(w)))return!1;for(s.kind="scalar",s.result="",k=b=s.position,_=!1;j!==0;){if(j===58){if(w=s.input.charCodeAt(s.position+1),Zg(w)||f&&bA(w))break}else if(j===35){if(p=s.input.charCodeAt(s.position-1),Zg(p))break}else{if(s.position===s.lineStart&&qU(s)||f&&bA(j))break;if(t3(j))if(A=s.line,N=s.lineStart,B=s.lineIndent,Bf(s,!1,-1),s.lineIndent>=o){_=!0,j=s.input.charCodeAt(s.position);continue}else{s.position=b,s.line=A,s.lineStart=N,s.lineIndent=B;break}}_&&(Xk(s,k,b,!1),S1e(s,s.line-A),k=b=s.position,_=!1),$E(j)||(b=s.position+1),j=s.input.charCodeAt(++s.position)}return Xk(s,k,b,!1),s.result?!0:(s.kind=F,s.result=H,!1)}function U9t(s,o){var f,p,w;if(f=s.input.charCodeAt(s.position),f!==39)return!1;for(s.kind="scalar",s.result="",s.position++,p=w=s.position;(f=s.input.charCodeAt(s.position))!==0;)if(f===39)if(Xk(s,p,s.position,!0),f=s.input.charCodeAt(++s.position),f===39)p=s.position,s.position++,w=s.position;else return!0;else t3(f)?(Xk(s,p,w,!0),S1e(s,Bf(s,!1,o)),p=w=s.position):s.position===s.lineStart&&qU(s)?Os(s,"unexpected end of the document within a single quoted scalar"):(s.position++,w=s.position);Os(s,"unexpected end of the stream within a single quoted scalar")}function K9t(s,o){var f,p,w,k,b,_;if(_=s.input.charCodeAt(s.position),_!==34)return!1;for(s.kind="scalar",s.result="",s.position++,f=p=s.position;(_=s.input.charCodeAt(s.position))!==0;){if(_===34)return Xk(s,f,s.position,!0),s.position++,!0;if(_===92){if(Xk(s,f,s.position,!0),_=s.input.charCodeAt(++s.position),t3(_))Bf(s,!1,o);else if(_<256&&_De[_])s.result+=CDe[_],s.position++;else if((b=H9t(_))>0){for(w=b,k=0;w>0;w--)_=s.input.charCodeAt(++s.position),(b=$9t(_))>=0?k=(k<<4)+b:Os(s,"expected hexadecimal character");s.result+=G9t(k),s.position++}else Os(s,"unknown escape sequence");f=p=s.position}else t3(_)?(Xk(s,f,p,!0),S1e(s,Bf(s,!1,o)),f=p=s.position):s.position===s.lineStart&&qU(s)?Os(s,"unexpected end of the document within a double quoted scalar"):(s.position++,p=s.position)}Os(s,"unexpected end of the stream within a double quoted scalar")}function W9t(s,o){var f=!0,p,w,k,b=s.tag,_,A=s.anchor,N,B,F,H,j,V=Object.create(null),Z,ae,le,ce;if(ce=s.input.charCodeAt(s.position),ce===91)B=93,j=!1,_=[];else if(ce===123)B=125,j=!0,_={};else return!1;for(s.anchor!==null&&(s.anchorMap[s.anchor]=_),ce=s.input.charCodeAt(++s.position);ce!==0;){if(Bf(s,!0,o),ce=s.input.charCodeAt(s.position),ce===B)return s.position++,s.tag=b,s.anchor=A,s.kind=j?"mapping":"sequence",s.result=_,!0;f?ce===44&&Os(s,"expected the node content, but found ','"):Os(s,"missed comma between flow collection entries"),ae=Z=le=null,F=H=!1,ce===63&&(N=s.input.charCodeAt(s.position+1),Zg(N)&&(F=H=!0,s.position++,Bf(s,!0,o))),p=s.line,w=s.lineStart,k=s.position,mA(s,o,HU,!1,!0),ae=s.tag,Z=s.result,Bf(s,!0,o),ce=s.input.charCodeAt(s.position),(H||s.line===p)&&ce===58&&(F=!0,ce=s.input.charCodeAt(++s.position),Bf(s,!0,o),mA(s,o,HU,!1,!0),le=s.result),j?wA(s,_,V,ae,Z,le,p,w,k):F?_.push(wA(s,null,V,ae,Z,le,p,w,k)):_.push(Z),Bf(s,!0,o),ce=s.input.charCodeAt(s.position),ce===44?(f=!0,ce=s.input.charCodeAt(++s.position)):f=!1}Os(s,"unexpected end of the stream within a flow collection")}function Y9t(s,o){var f,p,w=_1e,k=!1,b=!1,_=o,A=0,N=!1,B,F;if(F=s.input.charCodeAt(s.position),F===124)p=!1;else if(F===62)p=!0;else return!1;for(s.kind="scalar",s.result="";F!==0;)if(F=s.input.charCodeAt(++s.position),F===43||F===45)_1e===w?w=F===43?yDe:B9t:Os(s,"repeat of a chomping mode identifier");else if((B=z9t(F))>=0)B===0?Os(s,"bad explicit indentation width of a block scalar; it cannot be less than one"):b?Os(s,"repeat of an indentation width identifier"):(_=o+B-1,b=!0);else break;if($E(F)){do F=s.input.charCodeAt(++s.position);while($E(F));if(F===35)do F=s.input.charCodeAt(++s.position);while(!t3(F)&&F!==0)}for(;F!==0;){for(C1e(s),s.lineIndent=0,F=s.input.charCodeAt(s.position);(!b||s.lineIndent<_)&&F===32;)s.lineIndent++,F=s.input.charCodeAt(++s.position);if(!b&&s.lineIndent>_&&(_=s.lineIndent),t3(F)){A++;continue}if(s.lineIndent<_){w===yDe?s.result+=ig.repeat(`
`,k?1+A:A):w===_1e&&k&&(s.result+=`
`);break}for(p?$E(F)?(N=!0,s.result+=ig.repeat(`
`,k?1+A:A)):N?(N=!1,s.result+=ig.repeat(`
`,A+1)):A===0?k&&(s.result+=" "):s.result+=ig.repeat(`
`,A):s.result+=ig.repeat(`
`,k?1+A:A),k=!0,b=!0,A=0,f=s.position;!t3(F)&&F!==0;)F=s.input.charCodeAt(++s.position);Xk(s,f,s.position,!1)}return!0}function MDe(s,o){var f,p=s.tag,w=s.anchor,k=[],b,_=!1,A;if(s.firstTabInLine!==-1)return!1;for(s.anchor!==null&&(s.anchorMap[s.anchor]=k),A=s.input.charCodeAt(s.position);A!==0&&(s.firstTabInLine!==-1&&(s.position=s.firstTabInLine,Os(s,"tab characters must not be used in indentation")),!(A!==45||(b=s.input.charCodeAt(s.position+1),!Zg(b))));){if(_=!0,s.position++,Bf(s,!0,-1)&&s.lineIndent<=o){k.push(null),A=s.input.charCodeAt(s.position);continue}if(f=s.line,mA(s,o,mDe,!1,!0),k.push(s.result),Bf(s,!0,-1),A=s.input.charCodeAt(s.position),(s.line===f||s.lineIndent>o)&&A!==0)Os(s,"bad indentation of a sequence entry");else if(s.lineIndent<o)break}return _?(s.tag=p,s.anchor=w,s.kind="sequence",s.result=k,!0):!1}function X9t(s,o,f){var p,w,k,b,_,A,N=s.tag,B=s.anchor,F={},H=Object.create(null),j=null,V=null,Z=null,ae=!1,le=!1,ce;if(s.firstTabInLine!==-1)return!1;for(s.anchor!==null&&(s.anchorMap[s.anchor]=F),ce=s.input.charCodeAt(s.position);ce!==0;){if(!ae&&s.firstTabInLine!==-1&&(s.position=s.firstTabInLine,Os(s,"tab characters must not be used in indentation")),p=s.input.charCodeAt(s.position+1),k=s.line,(ce===63||ce===58)&&Zg(p))ce===63?(ae&&(wA(s,F,H,j,V,null,b,_,A),j=V=Z=null),le=!0,ae=!0,w=!0):ae?(ae=!1,w=!0):Os(s,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),s.position+=1,ce=p;else{if(b=s.line,_=s.lineStart,A=s.position,!mA(s,f,wDe,!1,!0))break;if(s.line===k){for(ce=s.input.charCodeAt(s.position);$E(ce);)ce=s.input.charCodeAt(++s.position);if(ce===58)ce=s.input.charCodeAt(++s.position),Zg(ce)||Os(s,"a whitespace character is expected after the key-value separator within a block mapping"),ae&&(wA(s,F,H,j,V,null,b,_,A),j=V=Z=null),le=!0,ae=!1,w=!1,j=s.tag,V=s.result;else if(le)Os(s,"can not read an implicit mapping pair; a colon is missed");else return s.tag=N,s.anchor=B,!0}else if(le)Os(s,"can not read a block mapping entry; a multiline key may not be an implicit key");else return s.tag=N,s.anchor=B,!0}if((s.line===k||s.lineIndent>o)&&(ae&&(b=s.line,_=s.lineStart,A=s.position),mA(s,o,zU,!0,w)&&(ae?V=s.result:Z=s.result),ae||(wA(s,F,H,j,V,Z,b,_,A),j=V=Z=null),Bf(s,!0,-1),ce=s.input.charCodeAt(s.position)),(s.line===k||s.lineIndent>o)&&ce!==0)Os(s,"bad indentation of a mapping entry");else if(s.lineIndent<o)break}return ae&&wA(s,F,H,j,V,null,b,_,A),le&&(s.tag=N,s.anchor=B,s.kind="mapping",s.result=F),le}function Q9t(s){var o,f=!1,p=!1,w,k,b;if(b=s.input.charCodeAt(s.position),b!==33)return!1;if(s.tag!==null&&Os(s,"duplication of a tag property"),b=s.input.charCodeAt(++s.position),b===60?(f=!0,b=s.input.charCodeAt(++s.position)):b===33?(p=!0,w="!!",b=s.input.charCodeAt(++s.position)):w="!",o=s.position,f){do b=s.input.charCodeAt(++s.position);while(b!==0&&b!==62);s.position<s.length?(k=s.input.slice(o,s.position),b=s.input.charCodeAt(++s.position)):Os(s,"unexpected end of the stream within a verbatim tag")}else{for(;b!==0&&!Zg(b);)b===33&&(p?Os(s,"tag suffix cannot contain exclamation marks"):(w=s.input.slice(o-1,s.position+1),kDe.test(w)||Os(s,"named tag handle cannot contain such characters"),p=!0,o=s.position+1)),b=s.input.charCodeAt(++s.position);k=s.input.slice(o,s.position),j9t.test(k)&&Os(s,"tag suffix cannot contain flow indicator characters")}k&&!xDe.test(k)&&Os(s,"tag name cannot contain such characters: "+k);try{k=decodeURIComponent(k)}catch{Os(s,"tag name is malformed: "+k)}return f?s.tag=k:Yk.call(s.tagMap,w)?s.tag=s.tagMap[w]+k:w==="!"?s.tag="!"+k:w==="!!"?s.tag="tag:yaml.org,2002:"+k:Os(s,'undeclared tag handle "'+w+'"'),!0}function Z9t(s){var o,f;if(f=s.input.charCodeAt(s.position),f!==38)return!1;for(s.anchor!==null&&Os(s,"duplication of an anchor property"),f=s.input.charCodeAt(++s.position),o=s.position;f!==0&&!Zg(f)&&!bA(f);)f=s.input.charCodeAt(++s.position);return s.position===o&&Os(s,"name of an anchor node must contain at least one character"),s.anchor=s.input.slice(o,s.position),!0}function J9t(s){var o,f,p;if(p=s.input.charCodeAt(s.position),p!==42)return!1;for(p=s.input.charCodeAt(++s.position),o=s.position;p!==0&&!Zg(p)&&!bA(p);)p=s.input.charCodeAt(++s.position);return s.position===o&&Os(s,"name of an alias node must contain at least one character"),f=s.input.slice(o,s.position),Yk.call(s.anchorMap,f)||Os(s,'unidentified alias "'+f+'"'),s.result=s.anchorMap[f],Bf(s,!0,-1),!0}function mA(s,o,f,p,w){var k,b,_,A=1,N=!1,B=!1,F,H,j,V,Z,ae;if(s.listener!==null&&s.listener("open",s),s.tag=null,s.anchor=null,s.kind=null,s.result=null,k=b=_=zU===f||mDe===f,p&&Bf(s,!0,-1)&&(N=!0,s.lineIndent>o?A=1:s.lineIndent===o?A=0:s.lineIndent<o&&(A=-1)),A===1)for(;Q9t(s)||Z9t(s);)Bf(s,!0,-1)?(N=!0,_=k,s.lineIndent>o?A=1:s.lineIndent===o?A=0:s.lineIndent<o&&(A=-1)):_=!1;if(_&&(_=N||w),(A===1||zU===f)&&(HU===f||wDe===f?Z=o:Z=o+1,ae=s.position-s.lineStart,A===1?_&&(MDe(s,ae)||X9t(s,ae,Z))||W9t(s,Z)?B=!0:(b&&Y9t(s,Z)||U9t(s,Z)||K9t(s,Z)?B=!0:J9t(s)?(B=!0,(s.tag!==null||s.anchor!==null)&&Os(s,"alias node should not have any properties")):V9t(s,Z,HU===f)&&(B=!0,s.tag===null&&(s.tag="?")),s.anchor!==null&&(s.anchorMap[s.anchor]=s.result)):A===0&&(B=_&&MDe(s,ae))),s.tag===null)s.anchor!==null&&(s.anchorMap[s.anchor]=s.result);else if(s.tag==="?"){for(s.result!==null&&s.kind!=="scalar"&&Os(s,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+s.kind+'"'),F=0,H=s.implicitTypes.length;F<H;F+=1)if(V=s.implicitTypes[F],V.resolve(s.result)){s.result=V.construct(s.result),s.tag=V.tag,s.anchor!==null&&(s.anchorMap[s.anchor]=s.result);break}}else if(s.tag!=="!"){if(Yk.call(s.typeMap[s.kind||"fallback"],s.tag))V=s.typeMap[s.kind||"fallback"][s.tag];else for(V=null,j=s.typeMap.multi[s.kind||"fallback"],F=0,H=j.length;F<H;F+=1)if(s.tag.slice(0,j[F].tag.length)===j[F].tag){V=j[F];break}V||Os(s,"unknown tag !<"+s.tag+">"),s.result!==null&&V.kind!==s.kind&&Os(s,"unacceptable node kind for !<"+s.tag+'> tag; it should be "'+V.kind+'", not "'+s.kind+'"'),V.resolve(s.result,s.tag)?(s.result=V.construct(s.result,s.tag),s.anchor!==null&&(s.anchorMap[s.anchor]=s.result)):Os(s,"cannot resolve a node with !<"+s.tag+"> explicit tag")}return s.listener!==null&&s.listener("close",s),s.tag!==null||s.anchor!==null||B}function eTt(s){var o=s.position,f,p,w,k=!1,b;for(s.version=null,s.checkLineBreaks=s.legacy,s.tagMap=Object.create(null),s.anchorMap=Object.create(null);(b=s.input.charCodeAt(s.position))!==0&&(Bf(s,!0,-1),b=s.input.charCodeAt(s.position),!(s.lineIndent>0||b!==37));){for(k=!0,b=s.input.charCodeAt(++s.position),f=s.position;b!==0&&!Zg(b);)b=s.input.charCodeAt(++s.position);for(p=s.input.slice(f,s.position),w=[],p.length<1&&Os(s,"directive name must not be less than one character in length");b!==0;){for(;$E(b);)b=s.input.charCodeAt(++s.position);if(b===35){do b=s.input.charCodeAt(++s.position);while(b!==0&&!t3(b));break}if(t3(b))break;for(f=s.position;b!==0&&!Zg(b);)b=s.input.charCodeAt(++s.position);w.push(s.input.slice(f,s.position))}b!==0&&C1e(s),Yk.call(ADe,p)?ADe[p](s,p,w):GU(s,'unknown document directive "'+p+'"')}if(Bf(s,!0,-1),s.lineIndent===0&&s.input.charCodeAt(s.position)===45&&s.input.charCodeAt(s.position+1)===45&&s.input.charCodeAt(s.position+2)===45?(s.position+=3,Bf(s,!0,-1)):k&&Os(s,"directives end mark is expected"),mA(s,s.lineIndent-1,zU,!1,!0),Bf(s,!0,-1),s.checkLineBreaks&&R9t.test(s.input.slice(o,s.position))&&GU(s,"non-ASCII line breaks are interpreted as content"),s.documents.push(s.result),s.position===s.lineStart&&qU(s)){s.input.charCodeAt(s.position)===46&&(s.position+=3,Bf(s,!0,-1));return}if(s.position<s.length-1)Os(s,"end of the stream or a document separator is expected");else return}function DDe(s,o){s=String(s),o=o||{},s.length!==0&&(s.charCodeAt(s.length-1)!==10&&s.charCodeAt(s.length-1)!==13&&(s+=`
`),s.charCodeAt(0)===65279&&(s=s.slice(1)));var f=new q9t(s,o),p=s.indexOf("\0");for(p!==-1&&(f.position=p,Os(f,"null byte is not allowed in input")),f.input+="\0";f.input.charCodeAt(f.position)===32;)f.lineIndent+=1,f.position+=1;for(;f.position<f.length-1;)eTt(f);return f.documents}function tTt(s,o,f){o!==null&&typeof o=="object"&&typeof f>"u"&&(f=o,o=null);var p=DDe(s,f);if(typeof o!="function")return p;for(var w=0,k=p.length;w<k;w+=1)o(p[w])}function nTt(s,o){var f=DDe(s,o);if(f.length!==0){if(f.length===1)return f[0];throw new d5("expected a single document in the stream, but found more")}}var rTt=tTt,iTt=nTt,sTt={loadAll:rTt,load:iTt},aTt=pDe,oTt=sTt.load;const IDe=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function cTt(s,o){var p;const f=s.match(IDe);if(f){const w=oTt(f[1],{schema:aTt});return w!=null&&w.title&&((p=o.setDiagramTitle)==null||p.call(o,w.title)),s.slice(f[0].length)}else return s}const uTt=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,lTt=/\s*%%.*\n/gm,VU={},A1e=function(s,o){s=s.replace(IDe,"").replace(uTt,"").replace(lTt,`
`);for(const[f,{detector:p}]of Object.entries(VU))if(p(s,o))return f;throw new Error(`No diagram type detected for text: ${s}`)},ODe=(...s)=>{for(const{id:o,detector:f,loader:p}of s)NDe(o,f,p)},NDe=(s,o,f)=>{VU[s]?je.error(`Detector with key ${s} already exists`):VU[s]={detector:o,loader:f},je.debug(`Detector with key ${s} added${f?" with loader":""}`)},hTt=s=>VU[s].loader,L1e=function(s,o,f){const{depth:p,clobber:w}=Object.assign({depth:2,clobber:!1},f);return Array.isArray(o)&&!Array.isArray(s)?(o.forEach(k=>L1e(s,k,f)),s):Array.isArray(o)&&Array.isArray(s)?(o.forEach(k=>{s.includes(k)||s.push(k)}),s):s===void 0||p<=0?s!=null&&typeof s=="object"&&typeof o=="object"?Object.assign(s,o):o:(o!==void 0&&typeof s=="object"&&typeof o=="object"&&Object.keys(o).forEach(k=>{typeof o[k]=="object"&&(s[k]===void 0||typeof s[k]=="object")?(s[k]===void 0&&(s[k]=Array.isArray(o[k])?[]:{}),s[k]=L1e(s[k],o[k],{depth:p-1,clobber:w})):(w||typeof s[k]!="object"&&typeof o[k]!="object")&&(s[k]=o[k])}),s)},nd=L1e;var fTt=typeof global=="object"&&global&&global.Object===Object&&global;const PDe=fTt;var dTt=typeof self=="object"&&self&&self.Object===Object&&self,gTt=PDe||dTt||Function("return this")();const Gw=gTt;var pTt=Gw.Symbol;const Gb=pTt;var BDe=Object.prototype,bTt=BDe.hasOwnProperty,vTt=BDe.toString,kN=Gb?Gb.toStringTag:void 0;function wTt(s){var o=bTt.call(s,kN),f=s[kN];try{s[kN]=void 0;var p=!0}catch{}var w=vTt.call(s);return p&&(o?s[kN]=f:delete s[kN]),w}var mTt=Object.prototype,yTt=mTt.toString;function kTt(s){return yTt.call(s)}var xTt="[object Null]",ETt="[object Undefined]",FDe=Gb?Gb.toStringTag:void 0;function HE(s){return s==null?s===void 0?ETt:xTt:FDe&&FDe in Object(s)?wTt(s):kTt(s)}function _2(s){var o=typeof s;return s!=null&&(o=="object"||o=="function")}var TTt="[object AsyncFunction]",_Tt="[object Function]",CTt="[object GeneratorFunction]",STt="[object Proxy]";function yA(s){if(!_2(s))return!1;var o=HE(s);return o==_Tt||o==CTt||o==TTt||o==STt}var ATt=Gw["__core-js_shared__"];const M1e=ATt;var RDe=function(){var s=/[^.]+$/.exec(M1e&&M1e.keys&&M1e.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function LTt(s){return!!RDe&&RDe in s}var MTt=Function.prototype,DTt=MTt.toString;function zE(s){if(s!=null){try{return DTt.call(s)}catch{}try{return s+""}catch{}}return""}var ITt=/[\\^$.*+?()[\]{}|]/g,OTt=/^\[object .+?Constructor\]$/,NTt=Function.prototype,PTt=Object.prototype,BTt=NTt.toString,FTt=PTt.hasOwnProperty,RTt=RegExp("^"+BTt.call(FTt).replace(ITt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jTt(s){if(!_2(s)||LTt(s))return!1;var o=yA(s)?RTt:OTt;return o.test(zE(s))}function $Tt(s,o){return s==null?void 0:s[o]}function GE(s,o){var f=$Tt(s,o);return jTt(f)?f:void 0}var HTt=GE(Object,"create");const xN=HTt;function zTt(){this.__data__=xN?xN(null):{},this.size=0}function GTt(s){var o=this.has(s)&&delete this.__data__[s];return this.size-=o?1:0,o}var qTt="__lodash_hash_undefined__",VTt=Object.prototype,UTt=VTt.hasOwnProperty;function KTt(s){var o=this.__data__;if(xN){var f=o[s];return f===qTt?void 0:f}return UTt.call(o,s)?o[s]:void 0}var WTt=Object.prototype,YTt=WTt.hasOwnProperty;function XTt(s){var o=this.__data__;return xN?o[s]!==void 0:YTt.call(o,s)}var QTt="__lodash_hash_undefined__";function ZTt(s,o){var f=this.__data__;return this.size+=this.has(s)?0:1,f[s]=xN&&o===void 0?QTt:o,this}function qE(s){var o=-1,f=s==null?0:s.length;for(this.clear();++o<f;){var p=s[o];this.set(p[0],p[1])}}qE.prototype.clear=zTt,qE.prototype.delete=GTt,qE.prototype.get=KTt,qE.prototype.has=XTt,qE.prototype.set=ZTt;function JTt(){this.__data__=[],this.size=0}function kA(s,o){return s===o||s!==s&&o!==o}function UU(s,o){for(var f=s.length;f--;)if(kA(s[f][0],o))return f;return-1}var e_t=Array.prototype,t_t=e_t.splice;function n_t(s){var o=this.__data__,f=UU(o,s);if(f<0)return!1;var p=o.length-1;return f==p?o.pop():t_t.call(o,f,1),--this.size,!0}function r_t(s){var o=this.__data__,f=UU(o,s);return f<0?void 0:o[f][1]}function i_t(s){return UU(this.__data__,s)>-1}function s_t(s,o){var f=this.__data__,p=UU(f,s);return p<0?(++this.size,f.push([s,o])):f[p][1]=o,this}function g5(s){var o=-1,f=s==null?0:s.length;for(this.clear();++o<f;){var p=s[o];this.set(p[0],p[1])}}g5.prototype.clear=JTt,g5.prototype.delete=n_t,g5.prototype.get=r_t,g5.prototype.has=i_t,g5.prototype.set=s_t;var a_t=GE(Gw,"Map");const EN=a_t;function o_t(){this.size=0,this.__data__={hash:new qE,map:new(EN||g5),string:new qE}}function c_t(s){var o=typeof s;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?s!=="__proto__":s===null}function KU(s,o){var f=s.__data__;return c_t(o)?f[typeof o=="string"?"string":"hash"]:f.map}function u_t(s){var o=KU(this,s).delete(s);return this.size-=o?1:0,o}function l_t(s){return KU(this,s).get(s)}function h_t(s){return KU(this,s).has(s)}function f_t(s,o){var f=KU(this,s),p=f.size;return f.set(s,o),this.size+=f.size==p?0:1,this}function p5(s){var o=-1,f=s==null?0:s.length;for(this.clear();++o<f;){var p=s[o];this.set(p[0],p[1])}}p5.prototype.clear=o_t,p5.prototype.delete=u_t,p5.prototype.get=l_t,p5.prototype.has=h_t,p5.prototype.set=f_t;var d_t="Expected a function";function xA(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError(d_t);var f=function(){var p=arguments,w=o?o.apply(this,p):p[0],k=f.cache;if(k.has(w))return k.get(w);var b=s.apply(this,p);return f.cache=k.set(w,b)||k,b};return f.cache=new(xA.Cache||p5),f}xA.Cache=p5;const g_t={curveBasis:pA,curveBasisClosed:s7t,curveBasisOpen:a7t,curveBumpX:r7t,curveBumpY:i7t,curveBundle:o7t,curveCardinalClosed:u7t,curveCardinalOpen:l7t,curveCardinal:c7t,curveCatmullRomClosed:f7t,curveCatmullRomOpen:d7t,curveCatmullRom:h7t,curveLinear:Pd,curveLinearClosed:g7t,curveMonotoneX:p7t,curveMonotoneY:b7t,curveNatural:v7t,curveStep:w7t,curveStepAfter:y7t,curveStepBefore:m7t},D1e=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,p_t=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,b_t=function(s,o){const f=jDe(s,/(?:init\b)|(?:initialize\b)/);let p={};if(Array.isArray(f)){const w=f.map(k=>k.args);VE(w),p=nd(p,[...w])}else p=f.args;if(p){let w=A1e(s,o);["config"].forEach(k=>{p[k]!==void 0&&(w==="flowchart-v2"&&(w="flowchart"),p[w]=p[k],delete p[k])})}return p},jDe=function(s,o=null){try{const f=new RegExp(`[%]{2}(?![{]${p_t.source})(?=[}][%]{2}).*
`,"ig");s=s.trim().replace(f,"").replace(/'/gm,'"'),je.debug(`Detecting diagram directive${o!==null?" type:"+o:""} based on the text:${s}`);let p;const w=[];for(;(p=D1e.exec(s))!==null;)if(p.index===D1e.lastIndex&&D1e.lastIndex++,p&&!o||o&&p[1]&&p[1].match(o)||o&&p[2]&&p[2].match(o)){const k=p[1]?p[1]:p[2],b=p[3]?p[3].trim():p[4]?JSON.parse(p[4].trim()):null;w.push({type:k,args:b})}return w.length===0&&w.push({type:s,args:null}),w.length===1?w[0]:w}catch(f){return je.error(`ERROR: ${f.message} - Unable to parse directive
      ${o!==null?" type:"+o:""} based on the text:${s}`),{type:null,args:null}}},v_t=function(s,o){for(const[f,p]of o.entries())if(p.match(s))return f;return-1};function Jg(s,o){if(!s)return o;const f=`curve${s.charAt(0).toUpperCase()+s.slice(1)}`;return g_t[f]||o}function w_t(s,o){const f=s.trim();if(f)return o.securityLevel!=="loose"?a5(f):f}const m_t=(s,...o)=>{const f=s.split("."),p=f.length-1,w=f[p];let k=window;for(let b=0;b<p;b++)if(k=k[f[b]],!k)return;k[w](...o)};function WU(s,o){return s&&o?Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)):0}function y_t(s){let o,f=0;s.forEach(k=>{f+=WU(k,o),o=k});let p=f/2,w;return o=void 0,s.forEach(k=>{if(o&&!w){const b=WU(k,o);if(b<p)p-=b;else{const _=p/b;_<=0&&(w=o),_>=1&&(w={x:k.x,y:k.y}),_>0&&_<1&&(w={x:(1-_)*o.x+_*k.x,y:(1-_)*o.y+_*k.y})}}o=k}),w}function k_t(s){return s.length===1?s[0]:y_t(s)}const x_t=(s,o,f)=>{let p;je.info(`our points ${JSON.stringify(o)}`),o[0]!==f&&(o=o.reverse());let k=25,b;p=void 0,o.forEach(B=>{if(p&&!b){const F=WU(B,p);if(F<k)k-=F;else{const H=k/F;H<=0&&(b=p),H>=1&&(b={x:B.x,y:B.y}),H>0&&H<1&&(b={x:(1-H)*p.x+H*B.x,y:(1-H)*p.y+H*B.y})}}p=B});const _=s?10:5,A=Math.atan2(o[0].y-b.y,o[0].x-b.x),N={x:0,y:0};return N.x=Math.sin(A)*_+(o[0].x+b.x)/2,N.y=-Math.cos(A)*_+(o[0].y+b.y)/2,N};function E_t(s,o,f){let p=JSON.parse(JSON.stringify(f)),w;je.info("our points",p),o!=="start_left"&&o!=="start_right"&&(p=p.reverse()),p.forEach(F=>{w=F});let b=25+s,_;w=void 0,p.forEach(F=>{if(w&&!_){const H=WU(F,w);if(H<b)b-=H;else{const j=b/H;j<=0&&(_=w),j>=1&&(_={x:F.x,y:F.y}),j>0&&j<1&&(_={x:(1-j)*w.x+j*F.x,y:(1-j)*w.y+j*F.y})}}w=F});const A=10+s*.5,N=Math.atan2(p[0].y-_.y,p[0].x-_.x),B={x:0,y:0};return B.x=Math.sin(N)*A+(p[0].x+_.x)/2,B.y=-Math.cos(N)*A+(p[0].y+_.y)/2,o==="start_left"&&(B.x=Math.sin(N+Math.PI)*A+(p[0].x+_.x)/2,B.y=-Math.cos(N+Math.PI)*A+(p[0].y+_.y)/2),o==="end_right"&&(B.x=Math.sin(N-Math.PI)*A+(p[0].x+_.x)/2-5,B.y=-Math.cos(N-Math.PI)*A+(p[0].y+_.y)/2-5),o==="end_left"&&(B.x=Math.sin(N)*A+(p[0].x+_.x)/2-5,B.y=-Math.cos(N)*A+(p[0].y+_.y)/2-5),B}function qw(s){let o="",f="";for(const p of s)p!==void 0&&(p.startsWith("color:")||p.startsWith("text-align:")?f=f+p+";":o=o+p+";");return{style:o,labelStyle:f}}let $De=0;const HDe=()=>($De++,"id-"+Math.random().toString(36).substr(2,12)+"-"+$De);function T_t(s){let o="";const f="0123456789abcdef",p=f.length;for(let w=0;w<s;w++)o+=f.charAt(Math.floor(Math.random()*p));return o}const zDe=s=>T_t(s.length),__t=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},C_t=function(s,o){const f=o.text.replace(xa.lineBreakRegex," "),[,p]=TN(o.fontSize),w=s.append("text");w.attr("x",o.x),w.attr("y",o.y),w.style("text-anchor",o.anchor),w.style("font-family",o.fontFamily),w.style("font-size",p),w.style("font-weight",o.fontWeight),w.attr("fill",o.fill),o.class!==void 0&&w.attr("class",o.class);const k=w.append("tspan");return k.attr("x",o.x+o.textMargin*2),k.attr("fill",o.fill),k.text(f),w},GDe=xA((s,o,f)=>{if(!s||(f=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},f),xa.lineBreakRegex.test(s)))return s;const p=s.split(" "),w=[];let k="";return p.forEach((b,_)=>{const A=n3(`${b} `,f),N=n3(k,f);if(A>o){const{hyphenatedStrings:H,remainingWord:j}=S_t(b,o,"-",f);w.push(k,...H),k=j}else N+A>=o?(w.push(k),k=b):k=[k,b].filter(Boolean).join(" ");_+1===p.length&&w.push(k)}),w.filter(b=>b!=="").join(f.joinWith)},(s,o,f)=>`${s}${o}${f.fontSize}${f.fontWeight}${f.fontFamily}${f.joinWith}`),S_t=xA((s,o,f="-",p)=>{p=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},p);const w=[...s],k=[];let b="";return w.forEach((_,A)=>{const N=`${b}${_}`;if(n3(N,p)>=o){const F=A+1,H=w.length===F,j=`${N}${f}`;k.push(H?N:j),b=""}else b=N}),{hyphenatedStrings:k,remainingWord:b}},(s,o,f="-",p)=>`${s}${o}${f}${p.fontSize}${p.fontWeight}${p.fontFamily}`);function I1e(s,o){return o=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},o),O1e(s,o).height}function n3(s,o){return o=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},o),O1e(s,o).width}const O1e=xA((s,o)=>{o=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},o);const{fontSize:f,fontFamily:p,fontWeight:w}=o;if(!s)return{width:0,height:0};const[,k]=TN(f),b=["sans-serif",p],_=s.split(xa.lineBreakRegex),A=[],N=sr("body");if(!N.remove)return{width:0,height:0,lineHeight:0};const B=N.append("svg");for(const H of b){let j=0;const V={width:0,height:0,lineHeight:0};for(const Z of _){const ae=__t();ae.text=Z;const le=C_t(B,ae).style("font-size",k).style("font-weight",w).style("font-family",H),ce=(le._groups||le)[0][0].getBBox();V.width=Math.round(Math.max(V.width,ce.width)),j=Math.round(ce.height),V.height+=j,V.lineHeight=Math.round(Math.max(V.lineHeight,j))}A.push(V)}B.remove();const F=isNaN(A[1].height)||isNaN(A[1].width)||isNaN(A[1].lineHeight)||A[0].height>A[1].height&&A[0].width>A[1].width&&A[0].lineHeight>A[1].lineHeight?0:1;return A[F]},(s,o)=>`${s}${o.fontSize}${o.fontWeight}${o.fontFamily}`),A_t=class{constructor(o,f){this.deterministic=o,this.seed=f,this.count=f?f.length:0}next(){return this.deterministic?this.count++:Date.now()}};let YU;const L_t=function(s){return YU=YU||document.createElement("div"),s=escape(s).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),YU.innerHTML=s,unescape(YU.textContent)},VE=s=>{if(je.debug("directiveSanitizer called with",s),typeof s=="object"&&(s.length?s.forEach(o=>VE(o)):Object.keys(s).forEach(o=>{je.debug("Checking key",o),o.startsWith("__")&&(je.debug("sanitize deleting __ option",o),delete s[o]),o.includes("proto")&&(je.debug("sanitize deleting proto option",o),delete s[o]),o.includes("constr")&&(je.debug("sanitize deleting constr option",o),delete s[o]),o.includes("themeCSS")&&(je.debug("sanitizing themeCss option"),s[o]=XU(s[o])),o.includes("fontFamily")&&(je.debug("sanitizing fontFamily option"),s[o]=XU(s[o])),o.includes("altFontFamily")&&(je.debug("sanitizing altFontFamily option"),s[o]=XU(s[o])),vEt.includes(o)?typeof s[o]=="object"&&(je.debug("sanitize deleting object",o),VE(s[o])):(je.debug("sanitize deleting option",o),delete s[o])})),s.themeVariables){const o=Object.keys(s.themeVariables);for(const f of o){const p=s.themeVariables[f];p&&p.match&&!p.match(/^[\d "#%(),.;A-Za-z]+$/)&&(s.themeVariables[f]="")}}je.debug("After sanitization",s)},XU=s=>{let o=0,f=0;for(const p of s){if(o<f)return"{ /* ERROR: Unbalanced CSS */ }";p==="{"?o++:p==="}"&&f++}return o!==f?"{ /* ERROR: Unbalanced CSS */ }":s};function N1e(s){return"str"in s}function M_t(s){return s instanceof Error?s.message:String(s)}const D_t=(s,o,f,p)=>{if(!p)return;const w=s.node().getBBox();s.append("text").text(p).attr("x",w.x+w.width/2).attr("y",-f).attr("class",o)},TN=s=>{if(typeof s=="number")return[s,s+"px"];const o=parseInt(s,10);return Number.isNaN(o)?[void 0,void 0]:s===String(o)?[o,s+"px"]:[o,s]},Pa={assignWithDepth:nd,wrapLabel:GDe,calculateTextHeight:I1e,calculateTextWidth:n3,calculateTextDimensions:O1e,detectInit:b_t,detectDirective:jDe,isSubstringInArray:v_t,interpolateToCurve:Jg,calcLabelPosition:k_t,calcCardinalityPosition:x_t,calcTerminalLabelPosition:E_t,formatUrl:w_t,getStylesFromArray:qw,generateId:HDe,random:zDe,runFunc:m_t,entityDecode:L_t,initIdGenerator:A_t,directiveSanitizer:VE,sanitizeCss:XU,insertTitle:D_t,parseFontSize:TN};var qDe="comm",VDe="rule",UDe="decl",I_t="@import",O_t="@keyframes",N_t=Math.abs,P1e=String.fromCharCode;function KDe(s){return s.trim()}function B1e(s,o,f){return s.replace(o,f)}function P_t(s,o){return s.indexOf(o)}function QU(s,o){return s.charCodeAt(o)|0}function _N(s,o,f){return s.slice(o,f)}function Qk(s){return s.length}function WDe(s){return s.length}function ZU(s,o){return o.push(s),s}var JU=1,EA=1,YDe=0,qb=0,Ff=0,TA="";function F1e(s,o,f,p,w,k,b){return{value:s,root:o,parent:f,type:p,props:w,children:k,line:JU,column:EA,length:b,return:""}}function B_t(){return Ff}function F_t(){return Ff=qb>0?QU(TA,--qb):0,EA--,Ff===10&&(EA=1,JU--),Ff}function Vw(){return Ff=qb<YDe?QU(TA,qb++):0,EA++,Ff===10&&(EA=1,JU++),Ff}function UE(){return QU(TA,qb)}function eK(){return qb}function tK(s,o){return _N(TA,s,o)}function R1e(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R_t(s){return JU=EA=1,YDe=Qk(TA=s),qb=0,[]}function j_t(s){return TA="",s}function j1e(s){return KDe(tK(qb-1,$1e(s===91?s+2:s===40?s+1:s)))}function $_t(s){for(;(Ff=UE())&&Ff<33;)Vw();return R1e(s)>2||R1e(Ff)>3?"":" "}function H_t(s,o){for(;--o&&Vw()&&!(Ff<48||Ff>102||Ff>57&&Ff<65||Ff>70&&Ff<97););return tK(s,eK()+(o<6&&UE()==32&&Vw()==32))}function $1e(s){for(;Vw();)switch(Ff){case s:return qb;case 34:case 39:s!==34&&s!==39&&$1e(Ff);break;case 40:s===41&&$1e(s);break;case 92:Vw();break}return qb}function z_t(s,o){for(;Vw()&&s+Ff!==47+10;)if(s+Ff===42+42&&UE()===47)break;return"/*"+tK(o,qb-1)+"*"+P1e(s===47?s:Vw())}function G_t(s){for(;!R1e(UE());)Vw();return tK(s,qb)}function q_t(s){return j_t(nK("",null,null,null,[""],s=R_t(s),0,[0],s))}function nK(s,o,f,p,w,k,b,_,A){for(var N=0,B=0,F=b,H=0,j=0,V=0,Z=1,ae=1,le=1,ce=0,be="",xe=w,Ee=k,Me=p,fe=be;ae;)switch(V=ce,ce=Vw()){case 40:if(V!=108&&QU(fe,F-1)==58){P_t(fe+=B1e(j1e(ce),"&","&\f"),"&\f")!=-1&&(le=-1);break}case 34:case 39:case 91:fe+=j1e(ce);break;case 9:case 10:case 13:case 32:fe+=$_t(V);break;case 92:fe+=H_t(eK()-1,7);continue;case 47:switch(UE()){case 42:case 47:ZU(V_t(z_t(Vw(),eK()),o,f),A);break;default:fe+="/"}break;case 123*Z:_[N++]=Qk(fe)*le;case 125*Z:case 59:case 0:switch(ce){case 0:case 125:ae=0;case 59+B:j>0&&Qk(fe)-F&&ZU(j>32?QDe(fe+";",p,f,F-1):QDe(B1e(fe," ","")+";",p,f,F-2),A);break;case 59:fe+=";";default:if(ZU(Me=XDe(fe,o,f,N,B,w,_,be,xe=[],Ee=[],F),k),ce===123)if(B===0)nK(fe,o,Me,Me,xe,k,F,_,Ee);else switch(H){case 100:case 109:case 115:nK(s,Me,Me,p&&ZU(XDe(s,Me,Me,0,0,w,_,be,w,xe=[],F),Ee),w,Ee,F,_,p?xe:Ee);break;default:nK(fe,Me,Me,Me,[""],Ee,0,_,Ee)}}N=B=j=0,Z=le=1,be=fe="",F=b;break;case 58:F=1+Qk(fe),j=V;default:if(Z<1){if(ce==123)--Z;else if(ce==125&&Z++==0&&F_t()==125)continue}switch(fe+=P1e(ce),ce*Z){case 38:le=B>0?1:(fe+="\f",-1);break;case 44:_[N++]=(Qk(fe)-1)*le,le=1;break;case 64:UE()===45&&(fe+=j1e(Vw())),H=UE(),B=F=Qk(be=fe+=G_t(eK())),ce++;break;case 45:V===45&&Qk(fe)==2&&(Z=0)}}return k}function XDe(s,o,f,p,w,k,b,_,A,N,B){for(var F=w-1,H=w===0?k:[""],j=WDe(H),V=0,Z=0,ae=0;V<p;++V)for(var le=0,ce=_N(s,F+1,F=N_t(Z=b[V])),be=s;le<j;++le)(be=KDe(Z>0?H[le]+" "+ce:B1e(ce,/&\f/g,H[le])))&&(A[ae++]=be);return F1e(s,o,f,w===0?VDe:_,A,N,B)}function V_t(s,o,f){return F1e(s,o,f,qDe,P1e(B_t()),_N(s,2,-2),0)}function QDe(s,o,f,p){return F1e(s,o,f,UDe,_N(s,0,p),_N(s,p+1,-1),p)}function H1e(s,o){for(var f="",p=WDe(s),w=0;w<p;w++)f+=o(s[w],w,s,o)||"";return f}function U_t(s,o,f,p){switch(s.type){case I_t:case UDe:return s.return=s.return||s.value;case qDe:return"";case O_t:return s.return=s.value+"{"+H1e(s.children,p)+"}";case VDe:s.value=s.props.join(",")}return Qk(f=H1e(s.children,p))?s.return=s.value+"{"+f+"}":""}const rK="9.4.3",_A=Object.freeze(wEt);let ep=nd({},_A),ZDe,CA=[],CN=nd({},_A);const iK=(s,o)=>{let f=nd({},s),p={};for(const w of o)tIe(w),p=nd(p,w);if(f=nd(f,p),p.theme&&p.theme in f5){const w=nd({},ZDe),k=nd(w.themeVariables||{},p.themeVariables);f.theme&&f.theme in f5&&(f.themeVariables=f5[f.theme].getThemeVariables(k))}return CN=f,iIe(CN),CN},K_t=s=>(ep=nd({},_A),ep=nd(ep,s),s.theme&&f5[s.theme]&&(ep.themeVariables=f5[s.theme].getThemeVariables(s.themeVariables)),iK(ep,CA),ep),W_t=s=>{ZDe=nd({},s)},Y_t=s=>(ep=nd(ep,s),iK(ep,CA),ep),JDe=()=>nd({},ep),eIe=s=>(iIe(s),nd(CN,s),Pt()),Pt=()=>nd({},CN),tIe=s=>{["secure",...ep.secure??[]].forEach(o=>{s[o]!==void 0&&(je.debug(`Denied attempt to modify a secure key ${o}`,s[o]),delete s[o])}),Object.keys(s).forEach(o=>{o.indexOf("__")===0&&delete s[o]}),Object.keys(s).forEach(o=>{typeof s[o]=="string"&&(s[o].includes("<")||s[o].includes(">")||s[o].includes("url(data:"))&&delete s[o],typeof s[o]=="object"&&tIe(s[o])})},z1e=s=>{s.fontFamily&&(s.themeVariables?s.themeVariables.fontFamily||(s.themeVariables={fontFamily:s.fontFamily}):s.themeVariables={fontFamily:s.fontFamily}),CA.push(s),iK(ep,CA)},SN=(s=ep)=>{CA=[],iK(s,CA)};var nIe=(s=>(s.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",s))(nIe||{});const rIe={},X_t=s=>{rIe[s]||(je.warn(nIe[s]),rIe[s]=!0)},iIe=s=>{s&&(s.lazyLoadedDiagrams||s.loadExternalDiagramsAtStartup)&&X_t("LAZY_LOAD_DEPRECATED")},Q_t=function(s,o){for(let f of o)s.attr(f[0],f[1])},Z_t=function(s,o,f){let p=new Map;return f?(p.set("width","100%"),p.set("style",`max-width: ${o}px;`)):(p.set("height",s),p.set("width",o)),p},Uw=function(s,o,f,p){const w=Z_t(o,f,p);Q_t(s,w)},KE=function(s,o,f,p){const w=o.node().getBBox(),k=w.width,b=w.height;je.info(`SVG bounds: ${k}x${b}`,w);let _=0,A=0;je.info(`Graph bounds: ${_}x${A}`,s),_=k+f*2,A=b+f*2,je.info(`Calculated bounds: ${_}x${A}`),Uw(o,A,_,p);const N=`${w.x-f} ${w.y-f} ${w.width+2*f} ${w.height+2*f}`;o.attr("viewBox",N)},AN=s=>`g.classGroup text {
  fill: ${s.nodeBorder};
  fill: ${s.classText};
  stroke: none;
  font-family: ${s.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${s.classText};
}
.edgeLabel .label rect {
  fill: ${s.mainBkg};
}
.label text {
  fill: ${s.classText};
}
.edgeLabel .label span {
  background: ${s.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${s.mainBkg};
    stroke: ${s.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${s.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${s.mainBkg};
  stroke: ${s.nodeBorder};
}

g.classGroup line {
  stroke: ${s.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${s.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${s.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${s.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${s.lineColor} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${s.lineColor} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${s.lineColor} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${s.lineColor} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${s.mainBkg} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${s.mainBkg} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${s.mainBkg} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${s.mainBkg} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${s.mainBkg} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${s.mainBkg} !important;
  stroke: ${s.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${s.textColor};
}
`,sIe=s=>`
  .entityBox {
    fill: ${s.mainBkg};
    stroke: ${s.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${s.attributeBackgroundColorOdd};
    stroke: ${s.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${s.attributeBackgroundColorEven};
    stroke: ${s.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${s.tertiaryColor};
    opacity: 0.7;
    background-color: ${s.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${s.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${s.textColor};
  }    
`,G1e=()=>"",sK=s=>`.label {
    font-family: ${s.fontFamily};
    color: ${s.nodeTextColor||s.textColor};
  }
  .cluster-label text {
    fill: ${s.titleColor};
  }
  .cluster-label span {
    color: ${s.titleColor};
  }

  .label text,span {
    fill: ${s.nodeTextColor||s.textColor};
    color: ${s.nodeTextColor||s.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${s.mainBkg};
    stroke: ${s.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${s.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${s.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${s.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${s.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${s.edgeLabelBackground};
      fill: ${s.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${s.clusterBkg};
    stroke: ${s.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${s.titleColor};
  }

  .cluster span {
    color: ${s.titleColor};
  }
  /* .cluster div {
    color: ${s.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${s.fontFamily};
    font-size: 12px;
    background: ${s.tertiaryColor};
    border: 1px solid ${s.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${s.textColor};
  }
`,aIe=s=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${s.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${s.sectionBkgColor};
  }

  .section2 {
    fill: ${s.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${s.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${s.titleColor};
  }

  .sectionTitle1 {
    fill: ${s.titleColor};
  }

  .sectionTitle2 {
    fill: ${s.titleColor};
  }

  .sectionTitle3 {
    fill: ${s.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${s.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${s.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${s.fontFamily};
      fill: ${s.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${s.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${s.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${s.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${s.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${s.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${s.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${s.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${s.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${s.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${s.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${s.taskBkgColor};
    stroke: ${s.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${s.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${s.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${s.activeTaskBkgColor};
    stroke: ${s.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${s.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${s.doneTaskBorderColor};
    fill: ${s.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${s.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${s.critBorderColor};
    fill: ${s.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${s.critBorderColor};
    fill: ${s.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${s.critBorderColor};
    fill: ${s.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${s.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${s.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${s.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,oIe=()=>"",cIe=s=>`
  .pieCircle{
    stroke: ${s.pieStrokeColor};
    stroke-width : ${s.pieStrokeWidth};
    opacity : ${s.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${s.pieTitleTextSize};
    fill: ${s.pieTitleTextColor};
    font-family: ${s.fontFamily};
  }
  .slice {
    font-family: ${s.fontFamily};
    fill: ${s.pieSectionTextColor};
    font-size:${s.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${s.pieLegendTextColor};
    font-family: ${s.fontFamily};
    font-size: ${s.pieLegendTextSize};
  }
`,uIe=s=>`

  marker {
    fill: ${s.relationColor};
    stroke: ${s.relationColor};
  }

  marker.cross {
    stroke: ${s.lineColor};
  }

  svg {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
  }

  .reqBox {
    fill: ${s.requirementBackground};
    fill-opacity: 100%;
    stroke: ${s.requirementBorderColor};
    stroke-width: ${s.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${s.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${s.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${s.requirementBorderColor};
    stroke-width: ${s.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${s.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${s.relationLabelColor};
  }

`,lIe=s=>`.actor {
    stroke: ${s.actorBorder};
    fill: ${s.actorBkg};
  }

  text.actor > tspan {
    fill: ${s.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${s.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${s.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${s.signalColor};
  }

  #arrowhead path {
    fill: ${s.signalColor};
    stroke: ${s.signalColor};
  }

  .sequenceNumber {
    fill: ${s.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${s.signalColor};
  }

  #crosshead path {
    fill: ${s.signalColor};
    stroke: ${s.signalColor};
  }

  .messageText {
    fill: ${s.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${s.labelBoxBorderColor};
    fill: ${s.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${s.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${s.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${s.labelBoxBorderColor};
    fill: ${s.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${s.noteBorderColor};
    fill: ${s.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${s.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${s.activationBkgColor};
    stroke: ${s.activationBorderColor};
  }

  .activation1 {
    fill: ${s.activationBkgColor};
    stroke: ${s.activationBorderColor};
  }

  .activation2 {
    fill: ${s.activationBkgColor};
    stroke: ${s.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${s.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${s.actorBorder};
    fill: ${s.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${s.actorBorder};
    fill: ${s.actorBkg};
    stroke-width: 2px;
  }
`,aK=s=>`
defs #statediagram-barbEnd {
    fill: ${s.transitionColor};
    stroke: ${s.transitionColor};
  }
g.stateGroup text {
  fill: ${s.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${s.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${s.stateLabelColor};
}

g.stateGroup rect {
  fill: ${s.mainBkg};
  stroke: ${s.nodeBorder};
}

g.stateGroup line {
  stroke: ${s.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${s.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${s.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${s.noteBorderColor};
  fill: ${s.noteBkgColor};

  text {
    fill: ${s.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${s.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${s.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${s.transitionLabelColor||s.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${s.transitionLabelColor||s.tertiaryTextColor};
}

.stateLabel text {
  fill: ${s.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${s.specialStateColor};
  stroke: ${s.specialStateColor};
}

.node .fork-join {
  fill: ${s.specialStateColor};
  stroke: ${s.specialStateColor};
}

.node circle.state-end {
  fill: ${s.innerEndBackground};
  stroke: ${s.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${s.compositeBackground||s.background};
  // stroke: ${s.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${s.stateBkg||s.mainBkg};
  stroke: ${s.stateBorder||s.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${s.mainBkg};
  stroke: ${s.stateBorder||s.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${s.lineColor};
}

.statediagram-cluster rect {
  fill: ${s.compositeTitleBackground};
  stroke: ${s.stateBorder||s.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${s.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${s.stateBorder||s.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${s.compositeBackground||s.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${s.altBackground?s.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${s.altBackground?s.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${s.noteBkgColor};
  stroke: ${s.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${s.noteBkgColor};
  stroke: ${s.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${s.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${s.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${s.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${s.lineColor};
  stroke: ${s.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${s.textColor};
}
`,hIe=s=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${s.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${s.textColor}
  }

  .legend {
    fill: ${s.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${s.textColor}
  }

  .face {
    ${s.faceColor?`fill: ${s.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${s.mainBkg};
    stroke: ${s.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${s.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${s.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${s.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${s.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${s.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${s.tertiaryColor};
    border: 1px solid ${s.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${s.fillType0?`fill: ${s.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${s.fillType0?`fill: ${s.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${s.fillType0?`fill: ${s.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${s.fillType0?`fill: ${s.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${s.fillType0?`fill: ${s.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${s.fillType0?`fill: ${s.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${s.fillType0?`fill: ${s.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${s.fillType0?`fill: ${s.fillType7}`:""};
  }

  .actor-0 {
    ${s.actor0?`fill: ${s.actor0}`:""};
  }
  .actor-1 {
    ${s.actor1?`fill: ${s.actor1}`:""};
  }
  .actor-2 {
    ${s.actor2?`fill: ${s.actor2}`:""};
  }
  .actor-3 {
    ${s.actor3?`fill: ${s.actor3}`:""};
  }
  .actor-4 {
    ${s.actor4?`fill: ${s.actor4}`:""};
  }
  .actor-5 {
    ${s.actor5?`fill: ${s.actor5}`:""};
  }
`,fIe=s=>`.person {
    stroke: ${s.personBorder};
    fill: ${s.personBkg};
  }
`,oK={flowchart:sK,"flowchart-v2":sK,sequence:lIe,gantt:aIe,classDiagram:AN,"classDiagram-v2":AN,class:AN,stateDiagram:aK,state:aK,info:oIe,pie:cIe,er:sIe,error:G1e,journey:hIe,requirement:uIe,c4:fIe},J_t=(s,o,f)=>{let p="";return s in oK&&oK[s]?p=oK[s](f):je.warn(`No theme found for ${s}`),` & {
    font-family: ${f.fontFamily};
    font-size: ${f.fontSize};
    fill: ${f.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${f.errorBkgColor};
  }
  & .error-text {
    fill: ${f.errorTextColor};
    stroke: ${f.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${f.lineColor};
    stroke: ${f.lineColor};
  }
  & .marker.cross {
    stroke: ${f.lineColor};
  }

  & svg {
    font-family: ${f.fontFamily};
    font-size: ${f.fontSize};
  }

  ${p}

  ${o}
`},eCt=(s,o)=>{oK[s]=o},tCt=J_t;let q1e="",cK="",V1e="";const U1e=s=>T2(s,Pt()),tp=function(){q1e="",V1e="",cK=""},np=function(s){q1e=U1e(s).replace(/^\s+/g,"")},C2=function(){return q1e||cK},S2=function(s){V1e=U1e(s).replace(/\n\s+/g,`
`)},A2=function(){return V1e},Kw=function(s){cK=U1e(s)},Ww=function(){return cK},dIe=Object.freeze(Object.defineProperty({__proto__:null,clear:tp,default:{setAccTitle:np,getAccTitle:C2,setDiagramTitle:Kw,getDiagramTitle:Ww,getAccDescription:A2,setAccDescription:S2,clear:tp},getAccDescription:A2,getAccTitle:C2,getDiagramTitle:Ww,setAccDescription:S2,setAccTitle:np,setDiagramTitle:Kw},Symbol.toStringTag,{value:"Module"}));let WE={};const K1e=function(s,o,f,p){je.debug("parseDirective is being called",o,f,p);try{if(o!==void 0)switch(o=o.trim(),f){case"open_directive":WE={};break;case"type_directive":if(!WE)throw new Error("currentDirective is undefined");WE.type=o.toLowerCase();break;case"arg_directive":if(!WE)throw new Error("currentDirective is undefined");WE.args=JSON.parse(o);break;case"close_directive":nCt(s,WE,p),WE=void 0;break}}catch(w){je.error(`Error while rendering sequenceDiagram directive: ${o} jison context: ${f}`),je.error(w.message)}},nCt=function(s,o,f){switch(je.info(`Directive type=${o.type} with args:`,o.args),o.type){case"init":case"initialize":{["config"].forEach(p=>{o.args[p]!==void 0&&(f==="flowchart-v2"&&(f="flowchart"),o.args[f]=o.args[p],delete o.args[p])}),je.info("sanitize in handleDirective",o.args),VE(o.args),je.info("sanitize in handleDirective (done)",o.args),z1e(o.args);break}case"wrap":case"nowrap":s&&s.setWrap&&s.setWrap(o.type==="wrap");break;case"themeCss":je.warn("themeCss encountered");break;default:je.warn(`Unhandled directive: source: '%%{${o.type}: ${JSON.stringify(o.args?o.args:{})}}%%`,o);break}},rCt=je,iCt=ffe,LN=Pt,sCt=s=>T2(s,LN()),gIe=KE,aCt=()=>dIe,oCt=(s,o,f,p)=>K1e(s,o,f,p),uK={},h1=(s,o,f)=>{if(uK[s])throw new Error(`Diagram ${s} already registered.`);uK[s]=o,f&&NDe(s,f),eCt(s,o.styles),o.injectUtils&&o.injectUtils(rCt,iCt,LN,sCt,gIe,aCt(),oCt)},pIe=s=>{if(s in uK)return uK[s];throw new Error(`Diagram ${s} not found.`)};var W1e=function(){var s=function(ye,re,we,ke){for(we=we||{},ke=ye.length;ke--;we[ye[ke]]=re);return we},o=[1,4],f=[1,7],p=[1,5],w=[1,9],k=[1,6],b=[2,6],_=[1,16],A=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],N=[8,14,20,22,24,25,27,29,32,37,40],B=[8,13,14,20,22,24,25,27,29,32,37,40],F=[1,26],H=[6,8,14,50,55],j=[8,14,55],V=[1,53],Z=[1,52],ae=[8,14,30,33,35,38,55],le=[1,67],ce=[1,68],be=[1,69],xe=[8,14,33,35,42,55],Ee={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(re,we,ke,he,De,X,Re){var pe=X.length-1;switch(De){case 3:return X[pe];case 4:return X[pe-1];case 5:return he.setDirection(X[pe-3]),X[pe-1];case 7:he.setOptions(X[pe-1]),this.$=X[pe];break;case 8:X[pe-1]+=X[pe],this.$=X[pe-1];break;case 10:this.$=[];break;case 11:X[pe-1].push(X[pe]),this.$=X[pe-1];break;case 12:this.$=X[pe-1];break;case 17:this.$=X[pe].trim(),he.setAccTitle(this.$);break;case 18:case 19:this.$=X[pe].trim(),he.setAccDescription(this.$);break;case 20:he.addSection(X[pe].substr(8)),this.$=X[pe].substr(8);break;case 22:he.checkout(X[pe]);break;case 23:he.branch(X[pe]);break;case 24:he.branch(X[pe-2],X[pe]);break;case 25:he.cherryPick(X[pe],"",void 0);break;case 26:he.cherryPick(X[pe-2],"",X[pe]);break;case 27:case 29:he.cherryPick(X[pe-2],"","");break;case 28:he.cherryPick(X[pe],"",X[pe-2]);break;case 30:he.merge(X[pe],"","","");break;case 31:he.merge(X[pe-2],X[pe],"","");break;case 32:he.merge(X[pe-2],"",X[pe],"");break;case 33:he.merge(X[pe-2],"","",X[pe]);break;case 34:he.merge(X[pe-4],X[pe],"",X[pe-2]);break;case 35:he.merge(X[pe-4],"",X[pe],X[pe-2]);break;case 36:he.merge(X[pe-4],"",X[pe-2],X[pe]);break;case 37:he.merge(X[pe-4],X[pe-2],X[pe],"");break;case 38:he.merge(X[pe-4],X[pe-2],"",X[pe]);break;case 39:he.merge(X[pe-4],X[pe],X[pe-2],"");break;case 40:he.merge(X[pe-6],X[pe-4],X[pe-2],X[pe]);break;case 41:he.merge(X[pe-6],X[pe],X[pe-4],X[pe-2]);break;case 42:he.merge(X[pe-6],X[pe-4],X[pe],X[pe-2]);break;case 43:he.merge(X[pe-6],X[pe-2],X[pe-4],X[pe]);break;case 44:he.merge(X[pe-6],X[pe],X[pe-2],X[pe-4]);break;case 45:he.merge(X[pe-6],X[pe-2],X[pe],X[pe-4]);break;case 46:he.commit(X[pe]);break;case 47:he.commit("","",he.commitType.NORMAL,X[pe]);break;case 48:he.commit("","",X[pe],"");break;case 49:he.commit("","",X[pe],X[pe-2]);break;case 50:he.commit("","",X[pe-2],X[pe]);break;case 51:he.commit("",X[pe],he.commitType.NORMAL,"");break;case 52:he.commit("",X[pe-2],he.commitType.NORMAL,X[pe]);break;case 53:he.commit("",X[pe],he.commitType.NORMAL,X[pe-2]);break;case 54:he.commit("",X[pe-2],X[pe],"");break;case 55:he.commit("",X[pe],X[pe-2],"");break;case 56:he.commit("",X[pe-4],X[pe-2],X[pe]);break;case 57:he.commit("",X[pe-4],X[pe],X[pe-2]);break;case 58:he.commit("",X[pe-2],X[pe-4],X[pe]);break;case 59:he.commit("",X[pe],X[pe-4],X[pe-2]);break;case 60:he.commit("",X[pe],X[pe-2],X[pe-4]);break;case 61:he.commit("",X[pe-2],X[pe],X[pe-4]);break;case 62:he.commit(X[pe],"",he.commitType.NORMAL,"");break;case 63:he.commit(X[pe],"",he.commitType.NORMAL,X[pe-2]);break;case 64:he.commit(X[pe-2],"",he.commitType.NORMAL,X[pe]);break;case 65:he.commit(X[pe-2],"",X[pe],"");break;case 66:he.commit(X[pe],"",X[pe-2],"");break;case 67:he.commit(X[pe],X[pe-2],he.commitType.NORMAL,"");break;case 68:he.commit(X[pe-2],X[pe],he.commitType.NORMAL,"");break;case 69:he.commit(X[pe-4],"",X[pe-2],X[pe]);break;case 70:he.commit(X[pe-4],"",X[pe],X[pe-2]);break;case 71:he.commit(X[pe-2],"",X[pe-4],X[pe]);break;case 72:he.commit(X[pe],"",X[pe-4],X[pe-2]);break;case 73:he.commit(X[pe],"",X[pe-2],X[pe-4]);break;case 74:he.commit(X[pe-2],"",X[pe],X[pe-4]);break;case 75:he.commit(X[pe-4],X[pe],X[pe-2],"");break;case 76:he.commit(X[pe-4],X[pe-2],X[pe],"");break;case 77:he.commit(X[pe-2],X[pe],X[pe-4],"");break;case 78:he.commit(X[pe],X[pe-2],X[pe-4],"");break;case 79:he.commit(X[pe],X[pe-4],X[pe-2],"");break;case 80:he.commit(X[pe-2],X[pe-4],X[pe],"");break;case 81:he.commit(X[pe-4],X[pe],he.commitType.NORMAL,X[pe-2]);break;case 82:he.commit(X[pe-4],X[pe-2],he.commitType.NORMAL,X[pe]);break;case 83:he.commit(X[pe-2],X[pe],he.commitType.NORMAL,X[pe-4]);break;case 84:he.commit(X[pe],X[pe-2],he.commitType.NORMAL,X[pe-4]);break;case 85:he.commit(X[pe],X[pe-4],he.commitType.NORMAL,X[pe-2]);break;case 86:he.commit(X[pe-2],X[pe-4],he.commitType.NORMAL,X[pe]);break;case 87:he.commit(X[pe-6],X[pe-4],X[pe-2],X[pe]);break;case 88:he.commit(X[pe-6],X[pe-4],X[pe],X[pe-2]);break;case 89:he.commit(X[pe-6],X[pe-2],X[pe-4],X[pe]);break;case 90:he.commit(X[pe-6],X[pe],X[pe-4],X[pe-2]);break;case 91:he.commit(X[pe-6],X[pe-2],X[pe],X[pe-4]);break;case 92:he.commit(X[pe-6],X[pe],X[pe-2],X[pe-4]);break;case 93:he.commit(X[pe-4],X[pe-6],X[pe-2],X[pe]);break;case 94:he.commit(X[pe-4],X[pe-6],X[pe],X[pe-2]);break;case 95:he.commit(X[pe-2],X[pe-6],X[pe-4],X[pe]);break;case 96:he.commit(X[pe],X[pe-6],X[pe-4],X[pe-2]);break;case 97:he.commit(X[pe-2],X[pe-6],X[pe],X[pe-4]);break;case 98:he.commit(X[pe],X[pe-6],X[pe-2],X[pe-4]);break;case 99:he.commit(X[pe],X[pe-4],X[pe-2],X[pe-6]);break;case 100:he.commit(X[pe-2],X[pe-4],X[pe],X[pe-6]);break;case 101:he.commit(X[pe],X[pe-2],X[pe-4],X[pe-6]);break;case 102:he.commit(X[pe-2],X[pe],X[pe-4],X[pe-6]);break;case 103:he.commit(X[pe-4],X[pe-2],X[pe],X[pe-6]);break;case 104:he.commit(X[pe-4],X[pe],X[pe-2],X[pe-6]);break;case 105:he.commit(X[pe-2],X[pe-4],X[pe-6],X[pe]);break;case 106:he.commit(X[pe],X[pe-4],X[pe-6],X[pe-2]);break;case 107:he.commit(X[pe-2],X[pe],X[pe-6],X[pe-4]);break;case 108:he.commit(X[pe],X[pe-2],X[pe-6],X[pe-4]);break;case 109:he.commit(X[pe-4],X[pe-2],X[pe-6],X[pe]);break;case 110:he.commit(X[pe-4],X[pe],X[pe-6],X[pe-2]);break;case 111:this.$="";break;case 112:this.$=X[pe];break;case 113:this.$=he.commitType.NORMAL;break;case 114:this.$=he.commitType.REVERSE;break;case 115:this.$=he.commitType.HIGHLIGHT;break;case 118:he.parseDirective("%%{","open_directive");break;case 119:he.parseDirective(X[pe],"type_directive");break;case 120:X[pe]=X[pe].trim().replace(/'/g,'"'),he.parseDirective(X[pe],"arg_directive");break;case 121:he.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:o,8:f,14:p,46:8,50:w,55:k},{1:[3]},{3:10,4:2,5:3,6:o,8:f,14:p,46:8,50:w,55:k},{3:11,4:2,5:3,6:o,8:f,14:p,46:8,50:w,55:k},{7:12,8:b,9:[1,13],10:[1,14],11:15,14:_},s(A,[2,124]),s(A,[2,125]),s(A,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:b,11:15,14:_},{9:[1,21]},s(N,[2,10],{12:22,13:[1,23]}),s(B,[2,9]),{9:[1,25],48:24,53:F},s([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:b,11:15,14:_},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},s(B,[2,8]),s(H,[2,116]),{49:45,52:[1,46]},s(H,[2,121]),{1:[2,4]},{8:[1,47]},s(N,[2,11]),{4:48,8:f,14:p,55:k},s(N,[2,13]),s(j,[2,14]),s(j,[2,15]),s(j,[2,16]),{21:[1,49]},{23:[1,50]},s(j,[2,19]),s(j,[2,20]),s(j,[2,21]),{28:51,34:V,54:Z},s(j,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:V,54:Z},{33:[1,61],35:[1,62]},{28:63,34:V,54:Z},{48:64,53:F},{53:[2,120]},{1:[2,5]},s(N,[2,12]),s(j,[2,17]),s(j,[2,18]),s(j,[2,22]),s(ae,[2,122]),s(ae,[2,123]),s(j,[2,46]),{34:[1,65]},{39:66,43:le,44:ce,45:be},{34:[1,70]},{34:[1,71]},s(j,[2,112]),s(j,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},s(j,[2,23],{30:[1,78]}),s(H,[2,117]),s(j,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),s(j,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),s(xe,[2,113]),s(xe,[2,114]),s(xe,[2,115]),s(j,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),s(j,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:le,44:ce,45:be},{34:[1,93]},s(j,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:le,44:ce,45:be},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:le,44:ce,45:be},{34:[1,106]},{34:[1,107]},{39:108,43:le,44:ce,45:be},{34:[1,109]},s(j,[2,31],{35:[1,111],38:[1,110]}),s(j,[2,32],{33:[1,113],35:[1,112]}),s(j,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},s(j,[2,24]),s(j,[2,49],{33:[1,120],42:[1,121]}),s(j,[2,53],{38:[1,122],42:[1,123]}),s(j,[2,63],{33:[1,125],38:[1,124]}),s(j,[2,50],{33:[1,126],42:[1,127]}),s(j,[2,55],{35:[1,128],42:[1,129]}),s(j,[2,66],{33:[1,131],35:[1,130]}),s(j,[2,52],{38:[1,132],42:[1,133]}),s(j,[2,54],{35:[1,134],42:[1,135]}),s(j,[2,67],{35:[1,137],38:[1,136]}),s(j,[2,64],{33:[1,139],38:[1,138]}),s(j,[2,65],{33:[1,141],35:[1,140]}),s(j,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:le,44:ce,45:be},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:le,44:ce,45:be},s(j,[2,26]),s(j,[2,27]),s(j,[2,28]),s(j,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:le,44:ce,45:be},{34:[1,153]},{39:154,43:le,44:ce,45:be},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:le,44:ce,45:be},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:le,44:ce,45:be},{34:[1,167]},{39:168,43:le,44:ce,45:be},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:le,44:ce,45:be},{34:[1,173]},s(j,[2,37],{35:[1,174]}),s(j,[2,38],{38:[1,175]}),s(j,[2,36],{33:[1,176]}),s(j,[2,39],{35:[1,177]}),s(j,[2,34],{38:[1,178]}),s(j,[2,35],{33:[1,179]}),s(j,[2,60],{42:[1,180]}),s(j,[2,73],{33:[1,181]}),s(j,[2,61],{42:[1,182]}),s(j,[2,84],{38:[1,183]}),s(j,[2,74],{33:[1,184]}),s(j,[2,83],{38:[1,185]}),s(j,[2,59],{42:[1,186]}),s(j,[2,72],{33:[1,187]}),s(j,[2,58],{42:[1,188]}),s(j,[2,78],{35:[1,189]}),s(j,[2,71],{33:[1,190]}),s(j,[2,77],{35:[1,191]}),s(j,[2,57],{42:[1,192]}),s(j,[2,85],{38:[1,193]}),s(j,[2,56],{42:[1,194]}),s(j,[2,79],{35:[1,195]}),s(j,[2,80],{35:[1,196]}),s(j,[2,86],{38:[1,197]}),s(j,[2,70],{33:[1,198]}),s(j,[2,81],{38:[1,199]}),s(j,[2,69],{33:[1,200]}),s(j,[2,75],{35:[1,201]}),s(j,[2,76],{35:[1,202]}),s(j,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:le,44:ce,45:be},{34:[1,206]},{34:[1,207]},{39:208,43:le,44:ce,45:be},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:le,44:ce,45:be},{34:[1,214]},{39:215,43:le,44:ce,45:be},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:le,44:ce,45:be},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:le,44:ce,45:be},{34:[1,228]},{39:229,43:le,44:ce,45:be},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:le,44:ce,45:be},s(j,[2,40]),s(j,[2,42]),s(j,[2,41]),s(j,[2,43]),s(j,[2,45]),s(j,[2,44]),s(j,[2,101]),s(j,[2,102]),s(j,[2,99]),s(j,[2,100]),s(j,[2,104]),s(j,[2,103]),s(j,[2,108]),s(j,[2,107]),s(j,[2,106]),s(j,[2,105]),s(j,[2,110]),s(j,[2,109]),s(j,[2,98]),s(j,[2,97]),s(j,[2,96]),s(j,[2,95]),s(j,[2,93]),s(j,[2,94]),s(j,[2,92]),s(j,[2,91]),s(j,[2,90]),s(j,[2,89]),s(j,[2,87]),s(j,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(re,we){if(we.recoverable)this.trace(re);else{var ke=new Error(re);throw ke.hash=we,ke}},parse:function(re){var we=this,ke=[0],he=[],De=[null],X=[],Re=this.table,pe="",Ge=0,de=0,ct=2,bt=1,St=X.slice.call(arguments,1),yt=Object.create(this.lexer),Mt={yy:{}};for(var nn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,nn)&&(Mt.yy[nn]=this.yy[nn]);yt.setInput(re,Mt.yy),Mt.yy.lexer=yt,Mt.yy.parser=this,typeof yt.yylloc>"u"&&(yt.yylloc={});var dn=yt.yylloc;X.push(dn);var vt=yt.options&&yt.options.ranges;typeof Mt.yy.parseError=="function"?this.parseError=Mt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Lr(){var Di;return Di=he.pop()||yt.lex()||bt,typeof Di!="number"&&(Di instanceof Array&&(he=Di,Di=he.pop()),Di=we.symbols_[Di]||Di),Di}for(var xt,Tt,wt,At,He={},Ze,Lt,Ve,Mn;;){if(Tt=ke[ke.length-1],this.defaultActions[Tt]?wt=this.defaultActions[Tt]:((xt===null||typeof xt>"u")&&(xt=Lr()),wt=Re[Tt]&&Re[Tt][xt]),typeof wt>"u"||!wt.length||!wt[0]){var Oe="";Mn=[];for(Ze in Re[Tt])this.terminals_[Ze]&&Ze>ct&&Mn.push("'"+this.terminals_[Ze]+"'");yt.showPosition?Oe="Parse error on line "+(Ge+1)+`:
`+yt.showPosition()+`
Expecting `+Mn.join(", ")+", got '"+(this.terminals_[xt]||xt)+"'":Oe="Parse error on line "+(Ge+1)+": Unexpected "+(xt==bt?"end of input":"'"+(this.terminals_[xt]||xt)+"'"),this.parseError(Oe,{text:yt.match,token:this.terminals_[xt]||xt,line:yt.yylineno,loc:dn,expected:Mn})}if(wt[0]instanceof Array&&wt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Tt+", token: "+xt);switch(wt[0]){case 1:ke.push(xt),De.push(yt.yytext),X.push(yt.yylloc),ke.push(wt[1]),xt=null,de=yt.yyleng,pe=yt.yytext,Ge=yt.yylineno,dn=yt.yylloc;break;case 2:if(Lt=this.productions_[wt[1]][1],He.$=De[De.length-Lt],He._$={first_line:X[X.length-(Lt||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(Lt||1)].first_column,last_column:X[X.length-1].last_column},vt&&(He._$.range=[X[X.length-(Lt||1)].range[0],X[X.length-1].range[1]]),At=this.performAction.apply(He,[pe,de,Ge,Mt.yy,wt[1],De,X].concat(St)),typeof At<"u")return At;Lt&&(ke=ke.slice(0,-1*Lt*2),De=De.slice(0,-1*Lt),X=X.slice(0,-1*Lt)),ke.push(this.productions_[wt[1]][0]),De.push(He.$),X.push(He._$),Ve=Re[ke[ke.length-2]][ke[ke.length-1]],ke.push(Ve);break;case 3:return!0}}return!0}},Me=function(){var ye={EOF:1,parseError:function(we,ke){if(this.yy.parser)this.yy.parser.parseError(we,ke);else throw new Error(we)},setInput:function(re,we){return this.yy=we||this.yy||{},this._input=re,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var re=this._input[0];this.yytext+=re,this.yyleng++,this.offset++,this.match+=re,this.matched+=re;var we=re.match(/(?:\r\n?|\n).*/g);return we?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),re},unput:function(re){var we=re.length,ke=re.split(/(?:\r\n?|\n)/g);this._input=re+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-we),this.offset-=we;var he=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ke.length-1&&(this.yylineno-=ke.length-1);var De=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ke?(ke.length===he.length?this.yylloc.first_column:0)+he[he.length-ke.length].length-ke[0].length:this.yylloc.first_column-we},this.options.ranges&&(this.yylloc.range=[De[0],De[0]+this.yyleng-we]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(re){this.unput(this.match.slice(re))},pastInput:function(){var re=this.matched.substr(0,this.matched.length-this.match.length);return(re.length>20?"...":"")+re.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var re=this.match;return re.length<20&&(re+=this._input.substr(0,20-re.length)),(re.substr(0,20)+(re.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var re=this.pastInput(),we=new Array(re.length+1).join("-");return re+this.upcomingInput()+`
`+we+"^"},test_match:function(re,we){var ke,he,De;if(this.options.backtrack_lexer&&(De={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(De.yylloc.range=this.yylloc.range.slice(0))),he=re[0].match(/(?:\r\n?|\n).*/g),he&&(this.yylineno+=he.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:he?he[he.length-1].length-he[he.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+re[0].length},this.yytext+=re[0],this.match+=re[0],this.matches=re,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(re[0].length),this.matched+=re[0],ke=this.performAction.call(this,this.yy,this,we,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ke)return ke;if(this._backtrack){for(var X in De)this[X]=De[X];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var re,we,ke,he;this._more||(this.yytext="",this.match="");for(var De=this._currentRules(),X=0;X<De.length;X++)if(ke=this._input.match(this.rules[De[X]]),ke&&(!we||ke[0].length>we[0].length)){if(we=ke,he=X,this.options.backtrack_lexer){if(re=this.test_match(ke,De[X]),re!==!1)return re;if(this._backtrack){we=!1;continue}else return!1}else if(!this.options.flex)break}return we?(re=this.test_match(we,De[he]),re!==!1?re:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var we=this.next();return we||this.lex()},begin:function(we){this.conditionStack.push(we)},popState:function(){var we=this.conditionStack.length-1;return we>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(we){return we=this.conditionStack.length-1-Math.abs(we||0),we>=0?this.conditionStack[we]:"INITIAL"},pushState:function(we){this.begin(we)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(we,ke,he,De){switch(he){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return ye}();Ee.lexer=Me;function fe(){this.yy={}}return fe.prototype=Ee,Ee.Parser=fe,new fe}();W1e.parser=W1e;const cCt=W1e,uCt=s=>s.match(/^\s*gitGraph/)!==null;let lK=Pt().gitGraph.mainBranchName,lCt=Pt().gitGraph.mainBranchOrder,f1={},sg=null,MN={};MN[lK]={name:lK,order:lCt};let Rf={};Rf[lK]=sg;let rd=lK,bIe="LR",YE=0;function Y1e(){return zDe({length:7})}const hCt=function(s,o,f){Fl.parseDirective(this,s,o,f)};function fCt(s,o){const f=Object.create(null);return s.reduce((p,w)=>{const k=o(w);return f[k]||(f[k]=!0,p.push(w)),p},[])}const dCt=function(s){bIe=s};let vIe={};const gCt=function(s){je.debug("options str",s),s=s&&s.trim(),s=s||"{}";try{vIe=JSON.parse(s)}catch(o){je.error("error while parsing gitGraph options",o.message)}},pCt=function(){return vIe},bCt=function(s,o,f,p){je.debug("Entering commit:",s,o,f,p),o=xa.sanitizeText(o,Pt()),s=xa.sanitizeText(s,Pt()),p=xa.sanitizeText(p,Pt());const w={id:o||YE+"-"+Y1e(),message:s,seq:YE++,type:f||DN.NORMAL,tag:p||"",parents:sg==null?[]:[sg.id],branch:rd};sg=w,f1[w.id]=w,Rf[rd]=w.id,je.debug("in pushCommit "+w.id)},vCt=function(s,o){if(s=xa.sanitizeText(s,Pt()),Rf[s]===void 0)Rf[s]=sg!=null?sg.id:null,MN[s]={name:s,order:o?parseInt(o,10):null},wIe(s),je.debug("in createBranch");else{let f=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+s+'")');throw f.hash={text:"branch "+s,token:"branch "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+s+'"']},f}},wCt=function(s,o,f,p){s=xa.sanitizeText(s,Pt()),o=xa.sanitizeText(o,Pt());const w=f1[Rf[rd]],k=f1[Rf[s]];if(rd===s){let _=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw _.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},_}else if(w===void 0||!w){let _=new Error('Incorrect usage of "merge". Current branch ('+rd+")has no commits");throw _.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},_}else if(Rf[s]===void 0){let _=new Error('Incorrect usage of "merge". Branch to be merged ('+s+") does not exist");throw _.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+s]},_}else if(k===void 0||!k){let _=new Error('Incorrect usage of "merge". Branch to be merged ('+s+") has no commits");throw _.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},_}else if(w===k){let _=new Error('Incorrect usage of "merge". Both branches have same head');throw _.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},_}else if(o&&f1[o]!==void 0){let _=new Error('Incorrect usage of "merge". Commit with id:'+o+" already exists, use different custom Id");throw _.hash={text:"merge "+s+o+f+p,token:"merge "+s+o+f+p,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+s+" "+o+"_UNIQUE "+f+" "+p]},_}const b={id:o||YE+"-"+Y1e(),message:"merged branch "+s+" into "+rd,seq:YE++,parents:[sg==null?null:sg.id,Rf[s]],branch:rd,type:DN.MERGE,customType:f,customId:!!o,tag:p||""};sg=b,f1[b.id]=b,Rf[rd]=b.id,je.debug(Rf),je.debug("in mergeBranch")},mCt=function(s,o,f){if(je.debug("Entering cherryPick:",s,o,f),s=xa.sanitizeText(s,Pt()),o=xa.sanitizeText(o,Pt()),f=xa.sanitizeText(f,Pt()),!s||f1[s]===void 0){let k=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw k.hash={text:"cherryPick "+s+" "+o,token:"cherryPick "+s+" "+o,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},k}let p=f1[s],w=p.branch;if(p.type===DN.MERGE){let k=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw k.hash={text:"cherryPick "+s+" "+o,token:"cherryPick "+s+" "+o,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},k}if(!o||f1[o]===void 0){if(w===rd){let _=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw _.hash={text:"cherryPick "+s+" "+o,token:"cherryPick "+s+" "+o,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},_}const k=f1[Rf[rd]];if(k===void 0||!k){let _=new Error('Incorrect usage of "cherry-pick". Current branch ('+rd+")has no commits");throw _.hash={text:"cherryPick "+s+" "+o,token:"cherryPick "+s+" "+o,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},_}const b={id:YE+"-"+Y1e(),message:"cherry-picked "+p+" into "+rd,seq:YE++,parents:[sg==null?null:sg.id,p.id],branch:rd,type:DN.CHERRY_PICK,tag:f??"cherry-pick:"+p.id};sg=b,f1[b.id]=b,Rf[rd]=b.id,je.debug(Rf),je.debug("in cherryPick")}},wIe=function(s){if(s=xa.sanitizeText(s,Pt()),Rf[s]===void 0){let o=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+s+'")');throw o.hash={text:"checkout "+s,token:"checkout "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+s+'"']},o}else{rd=s;const o=Rf[rd];sg=f1[o]}};function mIe(s,o,f){const p=s.indexOf(o);p===-1?s.push(f):s.splice(p,1,f)}function yIe(s){const o=s.reduce((w,k)=>w.seq>k.seq?w:k,s[0]);let f="";s.forEach(function(w){w===o?f+="	*":f+="	|"});const p=[f,o.id,o.seq];for(let w in Rf)Rf[w]===o.id&&p.push(w);if(je.debug(p.join(" ")),o.parents&&o.parents.length==2){const w=f1[o.parents[0]];mIe(s,o,w),s.push(f1[o.parents[1]])}else{if(o.parents.length==0)return;{const w=f1[o.parents];mIe(s,o,w)}}s=fCt(s,w=>w.id),yIe(s)}const yCt=function(){je.debug(f1);const s=kIe()[0];yIe([s])},kCt=function(){f1={},sg=null;let s=Pt().gitGraph.mainBranchName,o=Pt().gitGraph.mainBranchOrder;Rf={},Rf[s]=null,MN={},MN[s]={name:s,order:o},rd=s,YE=0,tp()},xCt=function(){return Object.values(MN).map((o,f)=>o.order!==null?o:{...o,order:parseFloat(`0.${f}`,10)}).sort((o,f)=>o.order-f.order).map(({name:o})=>({name:o}))},ECt=function(){return Rf},TCt=function(){return f1},kIe=function(){const s=Object.keys(f1).map(function(o){return f1[o]});return s.forEach(function(o){je.debug(o.id)}),s.sort((o,f)=>o.seq-f.seq),s},_Ct=function(){return rd},CCt=function(){return bIe},SCt=function(){return sg},DN={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},ACt={parseDirective:hCt,getConfig:()=>Pt().gitGraph,setDirection:dCt,setOptions:gCt,getOptions:pCt,commit:bCt,branch:vCt,merge:wCt,cherryPick:mCt,checkout:wIe,prettyPrint:yCt,clear:kCt,getBranchesAsObjArray:xCt,getBranches:ECt,getCommits:TCt,getCommitsArray:kIe,getCurrentBranch:_Ct,getDirection:CCt,getHead:SCt,setAccTitle:np,getAccTitle:C2,getAccDescription:A2,setAccDescription:S2,setDiagramTitle:Kw,getDiagramTitle:Ww,commitType:DN};let IN={};const L2={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},XE=8;let rp={},hK={},fK=[],dK=0;const LCt=()=>{rp={},hK={},IN={},dK=0,fK=[]},MCt=s=>{const o=document.createElementNS("http://www.w3.org/2000/svg","text");let f=[];typeof s=="string"?f=s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?f=s:f=[];for(const p of f){const w=document.createElementNS("http://www.w3.org/2000/svg","tspan");w.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),w.setAttribute("dy","1em"),w.setAttribute("x","0"),w.setAttribute("class","row"),w.textContent=p.trim(),o.appendChild(w)}return o},xIe=(s,o,f)=>{const p=LN().gitGraph,w=s.append("g").attr("class","commit-bullets"),k=s.append("g").attr("class","commit-labels");let b=0;Object.keys(o).sort((N,B)=>o[N].seq-o[B].seq).forEach(N=>{const B=o[N],F=rp[B.branch].pos,H=b+10;if(f){let j,V=B.customType!==void 0&&B.customType!==""?B.customType:B.type;switch(V){case L2.NORMAL:j="commit-normal";break;case L2.REVERSE:j="commit-reverse";break;case L2.HIGHLIGHT:j="commit-highlight";break;case L2.MERGE:j="commit-merge";break;case L2.CHERRY_PICK:j="commit-cherry-pick";break;default:j="commit-normal"}if(V===L2.HIGHLIGHT){const Z=w.append("rect");Z.attr("x",H-10),Z.attr("y",F-10),Z.attr("height",20),Z.attr("width",20),Z.attr("class",`commit ${B.id} commit-highlight${rp[B.branch].index%XE} ${j}-outer`),w.append("rect").attr("x",H-6).attr("y",F-6).attr("height",12).attr("width",12).attr("class",`commit ${B.id} commit${rp[B.branch].index%XE} ${j}-inner`)}else if(V===L2.CHERRY_PICK)w.append("circle").attr("cx",H).attr("cy",F).attr("r",10).attr("class",`commit ${B.id} ${j}`),w.append("circle").attr("cx",H-3).attr("cy",F+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${B.id} ${j}`),w.append("circle").attr("cx",H+3).attr("cy",F+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${B.id} ${j}`),w.append("line").attr("x1",H+3).attr("y1",F+1).attr("x2",H).attr("y2",F-5).attr("stroke","#fff").attr("class",`commit ${B.id} ${j}`),w.append("line").attr("x1",H-3).attr("y1",F+1).attr("x2",H).attr("y2",F-5).attr("stroke","#fff").attr("class",`commit ${B.id} ${j}`);else{const Z=w.append("circle");if(Z.attr("cx",H),Z.attr("cy",F),Z.attr("r",B.type===L2.MERGE?9:10),Z.attr("class",`commit ${B.id} commit${rp[B.branch].index%XE}`),V===L2.MERGE){const ae=w.append("circle");ae.attr("cx",H),ae.attr("cy",F),ae.attr("r",6),ae.attr("class",`commit ${j} ${B.id} commit${rp[B.branch].index%XE}`)}V===L2.REVERSE&&w.append("path").attr("d",`M ${H-5},${F-5}L${H+5},${F+5}M${H-5},${F+5}L${H+5},${F-5}`).attr("class",`commit ${j} ${B.id} commit${rp[B.branch].index%XE}`)}}if(hK[B.id]={x:b+10,y:F},f){if(B.type!==L2.CHERRY_PICK&&(B.customId&&B.type===L2.MERGE||B.type!==L2.MERGE)&&p.showCommitLabel){const Z=k.append("g"),ae=Z.insert("rect").attr("class","commit-label-bkg"),le=Z.append("text").attr("x",b).attr("y",F+25).attr("class","commit-label").text(B.id);let ce=le.node().getBBox();if(ae.attr("x",b+10-ce.width/2-2).attr("y",F+13.5).attr("width",ce.width+2*2).attr("height",ce.height+2*2),le.attr("x",b+10-ce.width/2),p.rotateCommitLabel){let be=-7.5-(ce.width+10)/25*9.5,xe=10+ce.width/25*8.5;Z.attr("transform","translate("+be+", "+xe+") rotate("+-45+", "+b+", "+F+")")}}if(B.tag){const Z=k.insert("polygon"),ae=k.append("circle"),le=k.append("text").attr("y",F-16).attr("class","tag-label").text(B.tag);let ce=le.node().getBBox();le.attr("x",b+10-ce.width/2);const be=ce.height/2,xe=F-19.2;Z.attr("class","tag-label-bkg").attr("points",`
          ${b-ce.width/2-4/2},${xe+2}
          ${b-ce.width/2-4/2},${xe-2}
          ${b+10-ce.width/2-4},${xe-be-2}
          ${b+10+ce.width/2+4},${xe-be-2}
          ${b+10+ce.width/2+4},${xe+be+2}
          ${b+10-ce.width/2-4},${xe+be+2}`),ae.attr("cx",b-ce.width/2+4/2).attr("cy",xe).attr("r",1.5).attr("class","tag-hole")}}b+=50,b>dK&&(dK=b)})},DCt=(s,o,f)=>Object.keys(f).filter(k=>f[k].branch===o.branch&&f[k].seq>s.seq&&f[k].seq<o.seq).length>0,X1e=(s,o,f=0)=>{const p=s+Math.abs(s-o)/2;if(f>5)return p;if(fK.every(b=>Math.abs(b-p)>=10))return fK.push(p),p;const k=Math.abs(s-o);return X1e(s,o-k/5,f+1)},ICt=(s,o,f,p)=>{const w=hK[o.id],k=hK[f.id],b=DCt(o,f,p);let _="",A="",N=0,B=0,F=rp[f.branch].index,H;if(b){_="A 10 10, 0, 0, 0,",A="A 10 10, 0, 0, 1,",N=10,B=10,F=rp[f.branch].index;const j=w.y<k.y?X1e(w.y,k.y):X1e(k.y,w.y);w.y<k.y?H=`M ${w.x} ${w.y} L ${w.x} ${j-N} ${_} ${w.x+B} ${j} L ${k.x-N} ${j} ${A} ${k.x} ${j+B} L ${k.x} ${k.y}`:H=`M ${w.x} ${w.y} L ${w.x} ${j+N} ${A} ${w.x+B} ${j} L ${k.x-N} ${j} ${_} ${k.x} ${j-B} L ${k.x} ${k.y}`}else w.y<k.y&&(_="A 20 20, 0, 0, 0,",N=20,B=20,F=rp[f.branch].index,H=`M ${w.x} ${w.y} L ${w.x} ${k.y-N} ${_} ${w.x+B} ${k.y} L ${k.x} ${k.y}`),w.y>k.y&&(_="A 20 20, 0, 0, 0,",N=20,B=20,F=rp[o.branch].index,H=`M ${w.x} ${w.y} L ${k.x-N} ${w.y} ${_} ${k.x} ${w.y-B} L ${k.x} ${k.y}`),w.y===k.y&&(F=rp[o.branch].index,H=`M ${w.x} ${w.y} L ${w.x} ${k.y-N} ${_} ${w.x+B} ${k.y} L ${k.x} ${k.y}`);s.append("path").attr("d",H).attr("class","arrow arrow"+F%XE)},OCt=(s,o)=>{const f=s.append("g").attr("class","commit-arrows");Object.keys(o).forEach(p=>{const w=o[p];w.parents&&w.parents.length>0&&w.parents.forEach(k=>{ICt(f,o[k],w,o)})})},NCt=(s,o)=>{const f=LN().gitGraph,p=s.append("g");o.forEach((w,k)=>{const b=k%XE,_=rp[w.name].pos,A=p.append("line");A.attr("x1",0),A.attr("y1",_),A.attr("x2",dK),A.attr("y2",_),A.attr("class","branch branch"+b),fK.push(_);let N=w.name;const B=MCt(N),F=p.insert("rect"),j=p.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+b);j.node().appendChild(B);let V=B.getBBox();F.attr("class","branchLabelBkg label"+b).attr("rx",4).attr("ry",4).attr("x",-V.width-4-(f.rotateCommitLabel===!0?30:0)).attr("y",-V.height/2+8).attr("width",V.width+18).attr("height",V.height+4),j.attr("transform","translate("+(-V.width-14-(f.rotateCommitLabel===!0?30:0))+", "+(_-V.height/2-1)+")"),F.attr("transform","translate("+-19+", "+(_-V.height/2)+")")})},PCt={draw:function(s,o,f,p){LCt();const w=LN(),k=w.gitGraph;je.debug("in gitgraph renderer",s+`
`,"id:",o,f),IN=p.db.getCommits();const b=p.db.getBranchesAsObjArray();let _=0;b.forEach((N,B)=>{rp[N.name]={pos:_,index:B},_+=50+(k.rotateCommitLabel?40:0)});const A=sr(`[id="${o}"]`);xIe(A,IN,!1),k.showBranches&&NCt(A,b),OCt(A,IN),xIe(A,IN,!0),Pa.insertTitle(A,"gitTitleText",k.titleTopMargin,p.db.getDiagramTitle()),gIe(void 0,A,k.diagramPadding,k.useMaxWidth??w.useMaxWidth)}},BCt=s=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(o=>`
        .branch-label${o} { fill: ${s["gitBranchLabel"+o]}; }
        .commit${o} { stroke: ${s["git"+o]}; fill: ${s["git"+o]}; }
        .commit-highlight${o} { stroke: ${s["gitInv"+o]}; fill: ${s["gitInv"+o]}; }
        .label${o}  { fill: ${s["git"+o]}; }
        .arrow${o} { stroke: ${s["git"+o]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${s.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${s.commitLabelFontSize}; fill: ${s.commitLabelColor};}
  .commit-label-bkg { font-size: ${s.commitLabelFontSize}; fill: ${s.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${s.tagLabelFontSize}; fill: ${s.tagLabelColor};}
  .tag-label-bkg { fill: ${s.tagLabelBackground}; stroke: ${s.tagLabelBorder}; }
  .tag-hole { fill: ${s.textColor}; }

  .commit-merge {
    stroke: ${s.primaryColor};
    fill: ${s.primaryColor};
  }
  .commit-reverse {
    stroke: ${s.primaryColor};
    fill: ${s.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${s.primaryColor};
    fill: ${s.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${s.textColor};
  }
  }
`;var gK=function(){var s=function(Fi,vr,wr,ni){for(wr=wr||{},ni=Fi.length;ni--;wr[Fi[ni]]=vr);return wr},o=[1,6],f=[1,7],p=[1,8],w=[1,9],k=[1,16],b=[1,11],_=[1,12],A=[1,13],N=[1,14],B=[1,15],F=[1,27],H=[1,33],j=[1,34],V=[1,35],Z=[1,36],ae=[1,37],le=[1,72],ce=[1,73],be=[1,74],xe=[1,75],Ee=[1,76],Me=[1,77],fe=[1,78],ye=[1,38],re=[1,39],we=[1,40],ke=[1,41],he=[1,42],De=[1,43],X=[1,44],Re=[1,45],pe=[1,46],Ge=[1,47],de=[1,48],ct=[1,49],bt=[1,50],St=[1,51],yt=[1,52],Mt=[1,53],nn=[1,54],dn=[1,55],vt=[1,56],Lr=[1,57],xt=[1,59],Tt=[1,60],wt=[1,61],At=[1,62],He=[1,63],Ze=[1,64],Lt=[1,65],Ve=[1,66],Mn=[1,67],Oe=[1,68],Di=[1,69],rn=[24,52],pi=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Fr=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],tr=[1,94],Wn=[1,95],er=[1,96],Fn=[1,97],nr=[15,24,52],ha=[7,8,9,10,18,22,25,26,27,28],fa=[15,24,43,52],is=[15,24,43,52,86,87,89,90],Xi=[15,43],da=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Cc={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(vr,wr,ni,Yn,Gi,un,Ks){var Hn=un.length-1;switch(Gi){case 4:Yn.setDirection("TB");break;case 5:Yn.setDirection("BT");break;case 6:Yn.setDirection("RL");break;case 7:Yn.setDirection("LR");break;case 11:Yn.parseDirective("%%{","open_directive");break;case 12:break;case 13:un[Hn]=un[Hn].trim().replace(/'/g,'"'),Yn.parseDirective(un[Hn],"arg_directive");break;case 14:Yn.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:Yn.setC4Type(un[Hn-3]);break;case 26:Yn.setTitle(un[Hn].substring(6)),this.$=un[Hn].substring(6);break;case 27:Yn.setAccDescription(un[Hn].substring(15)),this.$=un[Hn].substring(15);break;case 28:this.$=un[Hn].trim(),Yn.setTitle(this.$);break;case 29:case 30:this.$=un[Hn].trim(),Yn.setAccDescription(this.$);break;case 35:case 36:un[Hn].splice(2,0,"ENTERPRISE"),Yn.addPersonOrSystemBoundary(...un[Hn]),this.$=un[Hn];break;case 37:Yn.addPersonOrSystemBoundary(...un[Hn]),this.$=un[Hn];break;case 38:un[Hn].splice(2,0,"CONTAINER"),Yn.addContainerBoundary(...un[Hn]),this.$=un[Hn];break;case 39:Yn.addDeploymentNode("node",...un[Hn]),this.$=un[Hn];break;case 40:Yn.addDeploymentNode("nodeL",...un[Hn]),this.$=un[Hn];break;case 41:Yn.addDeploymentNode("nodeR",...un[Hn]),this.$=un[Hn];break;case 42:Yn.popBoundaryParseStack();break;case 46:Yn.addPersonOrSystem("person",...un[Hn]),this.$=un[Hn];break;case 47:Yn.addPersonOrSystem("external_person",...un[Hn]),this.$=un[Hn];break;case 48:Yn.addPersonOrSystem("system",...un[Hn]),this.$=un[Hn];break;case 49:Yn.addPersonOrSystem("system_db",...un[Hn]),this.$=un[Hn];break;case 50:Yn.addPersonOrSystem("system_queue",...un[Hn]),this.$=un[Hn];break;case 51:Yn.addPersonOrSystem("external_system",...un[Hn]),this.$=un[Hn];break;case 52:Yn.addPersonOrSystem("external_system_db",...un[Hn]),this.$=un[Hn];break;case 53:Yn.addPersonOrSystem("external_system_queue",...un[Hn]),this.$=un[Hn];break;case 54:Yn.addContainer("container",...un[Hn]),this.$=un[Hn];break;case 55:Yn.addContainer("container_db",...un[Hn]),this.$=un[Hn];break;case 56:Yn.addContainer("container_queue",...un[Hn]),this.$=un[Hn];break;case 57:Yn.addContainer("external_container",...un[Hn]),this.$=un[Hn];break;case 58:Yn.addContainer("external_container_db",...un[Hn]),this.$=un[Hn];break;case 59:Yn.addContainer("external_container_queue",...un[Hn]),this.$=un[Hn];break;case 60:Yn.addComponent("component",...un[Hn]),this.$=un[Hn];break;case 61:Yn.addComponent("component_db",...un[Hn]),this.$=un[Hn];break;case 62:Yn.addComponent("component_queue",...un[Hn]),this.$=un[Hn];break;case 63:Yn.addComponent("external_component",...un[Hn]),this.$=un[Hn];break;case 64:Yn.addComponent("external_component_db",...un[Hn]),this.$=un[Hn];break;case 65:Yn.addComponent("external_component_queue",...un[Hn]),this.$=un[Hn];break;case 67:Yn.addRel("rel",...un[Hn]),this.$=un[Hn];break;case 68:Yn.addRel("birel",...un[Hn]),this.$=un[Hn];break;case 69:Yn.addRel("rel_u",...un[Hn]),this.$=un[Hn];break;case 70:Yn.addRel("rel_d",...un[Hn]),this.$=un[Hn];break;case 71:Yn.addRel("rel_l",...un[Hn]),this.$=un[Hn];break;case 72:Yn.addRel("rel_r",...un[Hn]),this.$=un[Hn];break;case 73:Yn.addRel("rel_b",...un[Hn]),this.$=un[Hn];break;case 74:un[Hn].splice(0,1),Yn.addRel("rel",...un[Hn]),this.$=un[Hn];break;case 75:Yn.updateElStyle("update_el_style",...un[Hn]),this.$=un[Hn];break;case 76:Yn.updateRelStyle("update_rel_style",...un[Hn]),this.$=un[Hn];break;case 77:Yn.updateLayoutConfig("update_layout_config",...un[Hn]),this.$=un[Hn];break;case 78:this.$=[un[Hn]];break;case 79:un[Hn].unshift(un[Hn-1]),this.$=un[Hn];break;case 80:case 82:this.$=un[Hn].trim();break;case 81:let Ms={};Ms[un[Hn-1].trim()]=un[Hn].trim(),this.$=Ms;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:o,8:f,9:p,10:w,11:5,12:10,18:k,22:b,25:_,26:A,27:N,28:B},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:o,8:f,9:p,10:w,11:5,12:10,18:k,22:b,25:_,26:A,27:N,28:B},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:F},s([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:H,33:j,34:V,36:Z,38:ae,39:58,40:70,42:71,44:le,46:ce,47:be,48:xe,49:Ee,50:Me,51:fe,53:32,54:ye,55:re,56:we,57:ke,58:he,59:De,60:X,61:Re,62:pe,63:Ge,64:de,65:ct,66:bt,67:St,68:yt,69:Mt,70:nn,71:dn,72:vt,73:Lr,74:xt,75:Tt,76:wt,77:At,78:He,79:Ze,80:Lt,81:Ve,82:Mn,83:Oe,84:Di},{23:79,29:29,30:30,31:31,32:H,33:j,34:V,36:Z,38:ae,39:58,40:70,42:71,44:le,46:ce,47:be,48:xe,49:Ee,50:Me,51:fe,53:32,54:ye,55:re,56:we,57:ke,58:he,59:De,60:X,61:Re,62:pe,63:Ge,64:de,65:ct,66:bt,67:St,68:yt,69:Mt,70:nn,71:dn,72:vt,73:Lr,74:xt,75:Tt,76:wt,77:At,78:He,79:Ze,80:Lt,81:Ve,82:Mn,83:Oe,84:Di},{23:80,29:29,30:30,31:31,32:H,33:j,34:V,36:Z,38:ae,39:58,40:70,42:71,44:le,46:ce,47:be,48:xe,49:Ee,50:Me,51:fe,53:32,54:ye,55:re,56:we,57:ke,58:he,59:De,60:X,61:Re,62:pe,63:Ge,64:de,65:ct,66:bt,67:St,68:yt,69:Mt,70:nn,71:dn,72:vt,73:Lr,74:xt,75:Tt,76:wt,77:At,78:He,79:Ze,80:Lt,81:Ve,82:Mn,83:Oe,84:Di},{23:81,29:29,30:30,31:31,32:H,33:j,34:V,36:Z,38:ae,39:58,40:70,42:71,44:le,46:ce,47:be,48:xe,49:Ee,50:Me,51:fe,53:32,54:ye,55:re,56:we,57:ke,58:he,59:De,60:X,61:Re,62:pe,63:Ge,64:de,65:ct,66:bt,67:St,68:yt,69:Mt,70:nn,71:dn,72:vt,73:Lr,74:xt,75:Tt,76:wt,77:At,78:He,79:Ze,80:Lt,81:Ve,82:Mn,83:Oe,84:Di},{23:82,29:29,30:30,31:31,32:H,33:j,34:V,36:Z,38:ae,39:58,40:70,42:71,44:le,46:ce,47:be,48:xe,49:Ee,50:Me,51:fe,53:32,54:ye,55:re,56:we,57:ke,58:he,59:De,60:X,61:Re,62:pe,63:Ge,64:de,65:ct,66:bt,67:St,68:yt,69:Mt,70:nn,71:dn,72:vt,73:Lr,74:xt,75:Tt,76:wt,77:At,78:He,79:Ze,80:Lt,81:Ve,82:Mn,83:Oe,84:Di},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},s(rn,[2,20],{53:32,39:58,40:70,42:71,30:87,44:le,46:ce,47:be,48:xe,49:Ee,50:Me,51:fe,54:ye,55:re,56:we,57:ke,58:he,59:De,60:X,61:Re,62:pe,63:Ge,64:de,65:ct,66:bt,67:St,68:yt,69:Mt,70:nn,71:dn,72:vt,73:Lr,74:xt,75:Tt,76:wt,77:At,78:He,79:Ze,80:Lt,81:Ve,82:Mn,83:Oe,84:Di}),s(rn,[2,21]),s(pi,[2,23],{15:[1,88]}),s(rn,[2,43],{15:[1,89]}),s(Fr,[2,26]),s(Fr,[2,27]),{35:[1,90]},{37:[1,91]},s(Fr,[2,30]),{45:92,85:93,86:tr,87:Wn,89:er,90:Fn},{45:98,85:93,86:tr,87:Wn,89:er,90:Fn},{45:99,85:93,86:tr,87:Wn,89:er,90:Fn},{45:100,85:93,86:tr,87:Wn,89:er,90:Fn},{45:101,85:93,86:tr,87:Wn,89:er,90:Fn},{45:102,85:93,86:tr,87:Wn,89:er,90:Fn},{45:103,85:93,86:tr,87:Wn,89:er,90:Fn},{45:104,85:93,86:tr,87:Wn,89:er,90:Fn},{45:105,85:93,86:tr,87:Wn,89:er,90:Fn},{45:106,85:93,86:tr,87:Wn,89:er,90:Fn},{45:107,85:93,86:tr,87:Wn,89:er,90:Fn},{45:108,85:93,86:tr,87:Wn,89:er,90:Fn},{45:109,85:93,86:tr,87:Wn,89:er,90:Fn},{45:110,85:93,86:tr,87:Wn,89:er,90:Fn},{45:111,85:93,86:tr,87:Wn,89:er,90:Fn},{45:112,85:93,86:tr,87:Wn,89:er,90:Fn},{45:113,85:93,86:tr,87:Wn,89:er,90:Fn},{45:114,85:93,86:tr,87:Wn,89:er,90:Fn},{45:115,85:93,86:tr,87:Wn,89:er,90:Fn},{45:116,85:93,86:tr,87:Wn,89:er,90:Fn},s(nr,[2,66]),{45:117,85:93,86:tr,87:Wn,89:er,90:Fn},{45:118,85:93,86:tr,87:Wn,89:er,90:Fn},{45:119,85:93,86:tr,87:Wn,89:er,90:Fn},{45:120,85:93,86:tr,87:Wn,89:er,90:Fn},{45:121,85:93,86:tr,87:Wn,89:er,90:Fn},{45:122,85:93,86:tr,87:Wn,89:er,90:Fn},{45:123,85:93,86:tr,87:Wn,89:er,90:Fn},{45:124,85:93,86:tr,87:Wn,89:er,90:Fn},{45:125,85:93,86:tr,87:Wn,89:er,90:Fn},{45:126,85:93,86:tr,87:Wn,89:er,90:Fn},{45:127,85:93,86:tr,87:Wn,89:er,90:Fn},{30:128,39:58,40:70,42:71,44:le,46:ce,47:be,48:xe,49:Ee,50:Me,51:fe,53:32,54:ye,55:re,56:we,57:ke,58:he,59:De,60:X,61:Re,62:pe,63:Ge,64:de,65:ct,66:bt,67:St,68:yt,69:Mt,70:nn,71:dn,72:vt,73:Lr,74:xt,75:Tt,76:wt,77:At,78:He,79:Ze,80:Lt,81:Ve,82:Mn,83:Oe,84:Di},{15:[1,130],43:[1,129]},{45:131,85:93,86:tr,87:Wn,89:er,90:Fn},{45:132,85:93,86:tr,87:Wn,89:er,90:Fn},{45:133,85:93,86:tr,87:Wn,89:er,90:Fn},{45:134,85:93,86:tr,87:Wn,89:er,90:Fn},{45:135,85:93,86:tr,87:Wn,89:er,90:Fn},{45:136,85:93,86:tr,87:Wn,89:er,90:Fn},{45:137,85:93,86:tr,87:Wn,89:er,90:Fn},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},s(ha,[2,9]),{14:142,21:F},{21:[2,13]},{1:[2,15]},s(rn,[2,22]),s(pi,[2,24],{31:31,29:143,32:H,33:j,34:V,36:Z,38:ae}),s(rn,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:H,33:j,34:V,36:Z,38:ae,44:le,46:ce,47:be,48:xe,49:Ee,50:Me,51:fe,54:ye,55:re,56:we,57:ke,58:he,59:De,60:X,61:Re,62:pe,63:Ge,64:de,65:ct,66:bt,67:St,68:yt,69:Mt,70:nn,71:dn,72:vt,73:Lr,74:xt,75:Tt,76:wt,77:At,78:He,79:Ze,80:Lt,81:Ve,82:Mn,83:Oe,84:Di}),s(Fr,[2,28]),s(Fr,[2,29]),s(nr,[2,46]),s(fa,[2,78],{85:93,45:145,86:tr,87:Wn,89:er,90:Fn}),s(is,[2,80]),{88:[1,146]},s(is,[2,82]),s(is,[2,83]),s(nr,[2,47]),s(nr,[2,48]),s(nr,[2,49]),s(nr,[2,50]),s(nr,[2,51]),s(nr,[2,52]),s(nr,[2,53]),s(nr,[2,54]),s(nr,[2,55]),s(nr,[2,56]),s(nr,[2,57]),s(nr,[2,58]),s(nr,[2,59]),s(nr,[2,60]),s(nr,[2,61]),s(nr,[2,62]),s(nr,[2,63]),s(nr,[2,64]),s(nr,[2,65]),s(nr,[2,67]),s(nr,[2,68]),s(nr,[2,69]),s(nr,[2,70]),s(nr,[2,71]),s(nr,[2,72]),s(nr,[2,73]),s(nr,[2,74]),s(nr,[2,75]),s(nr,[2,76]),s(nr,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},s(Xi,[2,35]),s(Xi,[2,36]),s(Xi,[2,37]),s(Xi,[2,38]),s(Xi,[2,39]),s(Xi,[2,40]),s(Xi,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},s(pi,[2,25]),s(rn,[2,45]),s(fa,[2,79]),s(is,[2,81]),s(nr,[2,31]),s(nr,[2,42]),s(da,[2,32]),s(da,[2,33],{15:[1,152]}),s(ha,[2,10]),s(da,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(vr,wr){if(wr.recoverable)this.trace(vr);else{var ni=new Error(vr);throw ni.hash=wr,ni}},parse:function(vr){var wr=this,ni=[0],Yn=[],Gi=[null],un=[],Ks=this.table,Hn="",Ms=0,Ea=0,Va=2,Ba=1,Ta=un.slice.call(arguments,1),ss=Object.create(this.lexer),Zs={yy:{}};for(var Fa in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Fa)&&(Zs.yy[Fa]=this.yy[Fa]);ss.setInput(vr,Zs.yy),Zs.yy.lexer=ss,Zs.yy.parser=this,typeof ss.yylloc>"u"&&(ss.yylloc={});var $s=ss.yylloc;un.push($s);var ap=ss.options&&ss.options.ranges;typeof Zs.yy.parseError=="function"?this.parseError=Zs.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Xb(){var $t;return $t=Yn.pop()||ss.lex()||Ba,typeof $t!="number"&&($t instanceof Array&&(Yn=$t,$t=Yn.pop()),$t=wr.symbols_[$t]||$t),$t}for(var bu,ra,Ju,lf,el={},Rl,vu,Mh,ah;;){if(ra=ni[ni.length-1],this.defaultActions[ra]?Ju=this.defaultActions[ra]:((bu===null||typeof bu>"u")&&(bu=Xb()),Ju=Ks[ra]&&Ks[ra][bu]),typeof Ju>"u"||!Ju.length||!Ju[0]){var Ai="";ah=[];for(Rl in Ks[ra])this.terminals_[Rl]&&Rl>Va&&ah.push("'"+this.terminals_[Rl]+"'");ss.showPosition?Ai="Parse error on line "+(Ms+1)+`:
`+ss.showPosition()+`
Expecting `+ah.join(", ")+", got '"+(this.terminals_[bu]||bu)+"'":Ai="Parse error on line "+(Ms+1)+": Unexpected "+(bu==Ba?"end of input":"'"+(this.terminals_[bu]||bu)+"'"),this.parseError(Ai,{text:ss.match,token:this.terminals_[bu]||bu,line:ss.yylineno,loc:$s,expected:ah})}if(Ju[0]instanceof Array&&Ju.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ra+", token: "+bu);switch(Ju[0]){case 1:ni.push(bu),Gi.push(ss.yytext),un.push(ss.yylloc),ni.push(Ju[1]),bu=null,Ea=ss.yyleng,Hn=ss.yytext,Ms=ss.yylineno,$s=ss.yylloc;break;case 2:if(vu=this.productions_[Ju[1]][1],el.$=Gi[Gi.length-vu],el._$={first_line:un[un.length-(vu||1)].first_line,last_line:un[un.length-1].last_line,first_column:un[un.length-(vu||1)].first_column,last_column:un[un.length-1].last_column},ap&&(el._$.range=[un[un.length-(vu||1)].range[0],un[un.length-1].range[1]]),lf=this.performAction.apply(el,[Hn,Ea,Ms,Zs.yy,Ju[1],Gi,un].concat(Ta)),typeof lf<"u")return lf;vu&&(ni=ni.slice(0,-1*vu*2),Gi=Gi.slice(0,-1*vu),un=un.slice(0,-1*vu)),ni.push(this.productions_[Ju[1]][0]),Gi.push(el.$),un.push(el._$),Mh=Ks[ni[ni.length-2]][ni[ni.length-1]],ni.push(Mh);break;case 3:return!0}}return!0}},na=function(){var Fi={EOF:1,parseError:function(wr,ni){if(this.yy.parser)this.yy.parser.parseError(wr,ni);else throw new Error(wr)},setInput:function(vr,wr){return this.yy=wr||this.yy||{},this._input=vr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var vr=this._input[0];this.yytext+=vr,this.yyleng++,this.offset++,this.match+=vr,this.matched+=vr;var wr=vr.match(/(?:\r\n?|\n).*/g);return wr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),vr},unput:function(vr){var wr=vr.length,ni=vr.split(/(?:\r\n?|\n)/g);this._input=vr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-wr),this.offset-=wr;var Yn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ni.length-1&&(this.yylineno-=ni.length-1);var Gi=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ni?(ni.length===Yn.length?this.yylloc.first_column:0)+Yn[Yn.length-ni.length].length-ni[0].length:this.yylloc.first_column-wr},this.options.ranges&&(this.yylloc.range=[Gi[0],Gi[0]+this.yyleng-wr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(vr){this.unput(this.match.slice(vr))},pastInput:function(){var vr=this.matched.substr(0,this.matched.length-this.match.length);return(vr.length>20?"...":"")+vr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var vr=this.match;return vr.length<20&&(vr+=this._input.substr(0,20-vr.length)),(vr.substr(0,20)+(vr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var vr=this.pastInput(),wr=new Array(vr.length+1).join("-");return vr+this.upcomingInput()+`
`+wr+"^"},test_match:function(vr,wr){var ni,Yn,Gi;if(this.options.backtrack_lexer&&(Gi={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Gi.yylloc.range=this.yylloc.range.slice(0))),Yn=vr[0].match(/(?:\r\n?|\n).*/g),Yn&&(this.yylineno+=Yn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Yn?Yn[Yn.length-1].length-Yn[Yn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+vr[0].length},this.yytext+=vr[0],this.match+=vr[0],this.matches=vr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(vr[0].length),this.matched+=vr[0],ni=this.performAction.call(this,this.yy,this,wr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ni)return ni;if(this._backtrack){for(var un in Gi)this[un]=Gi[un];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var vr,wr,ni,Yn;this._more||(this.yytext="",this.match="");for(var Gi=this._currentRules(),un=0;un<Gi.length;un++)if(ni=this._input.match(this.rules[Gi[un]]),ni&&(!wr||ni[0].length>wr[0].length)){if(wr=ni,Yn=un,this.options.backtrack_lexer){if(vr=this.test_match(ni,Gi[un]),vr!==!1)return vr;if(this._backtrack){wr=!1;continue}else return!1}else if(!this.options.flex)break}return wr?(vr=this.test_match(wr,Gi[Yn]),vr!==!1?vr:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var wr=this.next();return wr||this.lex()},begin:function(wr){this.conditionStack.push(wr)},popState:function(){var wr=this.conditionStack.length-1;return wr>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(wr){return wr=this.conditionStack.length-1-Math.abs(wr||0),wr>=0?this.conditionStack[wr]:"INITIAL"},pushState:function(wr){this.begin(wr)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(wr,ni,Yn,Gi){switch(Yn){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return Fi}();Cc.lexer=na;function Ji(){this.yy={}}return Ji.prototype=Cc,Cc.Parser=Ji,new Ji}();gK.parser=gK;const FCt=gK,RCt=s=>s.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let Yw=[],Zk=[""],ag="global",Xw="",r3=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],ON=[],Q1e="",Z1e=!1,pK=4,bK=2;var EIe;const jCt=function(){return EIe},$Ct=function(s){EIe=T2(s,Pt())},HCt=function(s,o,f){Fl.parseDirective(this,s,o,f)},zCt=function(s,o,f,p,w,k,b,_,A){if(s==null||o===void 0||o===null||f===void 0||f===null||p===void 0||p===null)return;let N={};const B=ON.find(F=>F.from===o&&F.to===f);if(B?N=B:ON.push(N),N.type=s,N.from=o,N.to=f,N.label={text:p},w==null)N.techn={text:""};else if(typeof w=="object"){let[F,H]=Object.entries(w)[0];N[F]={text:H}}else N.techn={text:w};if(k==null)N.descr={text:""};else if(typeof k=="object"){let[F,H]=Object.entries(k)[0];N[F]={text:H}}else N.descr={text:k};if(typeof b=="object"){let[F,H]=Object.entries(b)[0];N[F]=H}else N.sprite=b;if(typeof _=="object"){let[F,H]=Object.entries(_)[0];N[F]=H}else N.tags=_;if(typeof A=="object"){let[F,H]=Object.entries(A)[0];N[F]=H}else N.link=A;N.wrap=Jk()},GCt=function(s,o,f,p,w,k,b){if(o===null||f===null)return;let _={};const A=Yw.find(N=>N.alias===o);if(A&&o===A.alias?_=A:(_.alias=o,Yw.push(_)),f==null?_.label={text:""}:_.label={text:f},p==null)_.descr={text:""};else if(typeof p=="object"){let[N,B]=Object.entries(p)[0];_[N]={text:B}}else _.descr={text:p};if(typeof w=="object"){let[N,B]=Object.entries(w)[0];_[N]=B}else _.sprite=w;if(typeof k=="object"){let[N,B]=Object.entries(k)[0];_[N]=B}else _.tags=k;if(typeof b=="object"){let[N,B]=Object.entries(b)[0];_[N]=B}else _.link=b;_.typeC4Shape={text:s},_.parentBoundary=ag,_.wrap=Jk()},qCt=function(s,o,f,p,w,k,b,_){if(o===null||f===null)return;let A={};const N=Yw.find(B=>B.alias===o);if(N&&o===N.alias?A=N:(A.alias=o,Yw.push(A)),f==null?A.label={text:""}:A.label={text:f},p==null)A.techn={text:""};else if(typeof p=="object"){let[B,F]=Object.entries(p)[0];A[B]={text:F}}else A.techn={text:p};if(w==null)A.descr={text:""};else if(typeof w=="object"){let[B,F]=Object.entries(w)[0];A[B]={text:F}}else A.descr={text:w};if(typeof k=="object"){let[B,F]=Object.entries(k)[0];A[B]=F}else A.sprite=k;if(typeof b=="object"){let[B,F]=Object.entries(b)[0];A[B]=F}else A.tags=b;if(typeof _=="object"){let[B,F]=Object.entries(_)[0];A[B]=F}else A.link=_;A.wrap=Jk(),A.typeC4Shape={text:s},A.parentBoundary=ag},VCt=function(s,o,f,p,w,k,b,_){if(o===null||f===null)return;let A={};const N=Yw.find(B=>B.alias===o);if(N&&o===N.alias?A=N:(A.alias=o,Yw.push(A)),f==null?A.label={text:""}:A.label={text:f},p==null)A.techn={text:""};else if(typeof p=="object"){let[B,F]=Object.entries(p)[0];A[B]={text:F}}else A.techn={text:p};if(w==null)A.descr={text:""};else if(typeof w=="object"){let[B,F]=Object.entries(w)[0];A[B]={text:F}}else A.descr={text:w};if(typeof k=="object"){let[B,F]=Object.entries(k)[0];A[B]=F}else A.sprite=k;if(typeof b=="object"){let[B,F]=Object.entries(b)[0];A[B]=F}else A.tags=b;if(typeof _=="object"){let[B,F]=Object.entries(_)[0];A[B]=F}else A.link=_;A.wrap=Jk(),A.typeC4Shape={text:s},A.parentBoundary=ag},UCt=function(s,o,f,p,w){if(s===null||o===null)return;let k={};const b=r3.find(_=>_.alias===s);if(b&&s===b.alias?k=b:(k.alias=s,r3.push(k)),o==null?k.label={text:""}:k.label={text:o},f==null)k.type={text:"system"};else if(typeof f=="object"){let[_,A]=Object.entries(f)[0];k[_]={text:A}}else k.type={text:f};if(typeof p=="object"){let[_,A]=Object.entries(p)[0];k[_]=A}else k.tags=p;if(typeof w=="object"){let[_,A]=Object.entries(w)[0];k[_]=A}else k.link=w;k.parentBoundary=ag,k.wrap=Jk(),Xw=ag,ag=s,Zk.push(Xw)},KCt=function(s,o,f,p,w){if(s===null||o===null)return;let k={};const b=r3.find(_=>_.alias===s);if(b&&s===b.alias?k=b:(k.alias=s,r3.push(k)),o==null?k.label={text:""}:k.label={text:o},f==null)k.type={text:"container"};else if(typeof f=="object"){let[_,A]=Object.entries(f)[0];k[_]={text:A}}else k.type={text:f};if(typeof p=="object"){let[_,A]=Object.entries(p)[0];k[_]=A}else k.tags=p;if(typeof w=="object"){let[_,A]=Object.entries(w)[0];k[_]=A}else k.link=w;k.parentBoundary=ag,k.wrap=Jk(),Xw=ag,ag=s,Zk.push(Xw)},WCt=function(s,o,f,p,w,k,b,_){if(o===null||f===null)return;let A={};const N=r3.find(B=>B.alias===o);if(N&&o===N.alias?A=N:(A.alias=o,r3.push(A)),f==null?A.label={text:""}:A.label={text:f},p==null)A.type={text:"node"};else if(typeof p=="object"){let[B,F]=Object.entries(p)[0];A[B]={text:F}}else A.type={text:p};if(w==null)A.descr={text:""};else if(typeof w=="object"){let[B,F]=Object.entries(w)[0];A[B]={text:F}}else A.descr={text:w};if(typeof b=="object"){let[B,F]=Object.entries(b)[0];A[B]=F}else A.tags=b;if(typeof _=="object"){let[B,F]=Object.entries(_)[0];A[B]=F}else A.link=_;A.nodeType=s,A.parentBoundary=ag,A.wrap=Jk(),Xw=ag,ag=o,Zk.push(Xw)},YCt=function(){ag=Xw,Zk.pop(),Xw=Zk.pop(),Zk.push(Xw)},XCt=function(s,o,f,p,w,k,b,_,A,N,B){let F=Yw.find(H=>H.alias===o);if(!(F===void 0&&(F=r3.find(H=>H.alias===o),F===void 0))){if(f!=null)if(typeof f=="object"){let[H,j]=Object.entries(f)[0];F[H]=j}else F.bgColor=f;if(p!=null)if(typeof p=="object"){let[H,j]=Object.entries(p)[0];F[H]=j}else F.fontColor=p;if(w!=null)if(typeof w=="object"){let[H,j]=Object.entries(w)[0];F[H]=j}else F.borderColor=w;if(k!=null)if(typeof k=="object"){let[H,j]=Object.entries(k)[0];F[H]=j}else F.shadowing=k;if(b!=null)if(typeof b=="object"){let[H,j]=Object.entries(b)[0];F[H]=j}else F.shape=b;if(_!=null)if(typeof _=="object"){let[H,j]=Object.entries(_)[0];F[H]=j}else F.sprite=_;if(A!=null)if(typeof A=="object"){let[H,j]=Object.entries(A)[0];F[H]=j}else F.techn=A;if(N!=null)if(typeof N=="object"){let[H,j]=Object.entries(N)[0];F[H]=j}else F.legendText=N;if(B!=null)if(typeof B=="object"){let[H,j]=Object.entries(B)[0];F[H]=j}else F.legendSprite=B}},QCt=function(s,o,f,p,w,k,b){const _=ON.find(A=>A.from===o&&A.to===f);if(_!==void 0){if(p!=null)if(typeof p=="object"){let[A,N]=Object.entries(p)[0];_[A]=N}else _.textColor=p;if(w!=null)if(typeof w=="object"){let[A,N]=Object.entries(w)[0];_[A]=N}else _.lineColor=w;if(k!=null)if(typeof k=="object"){let[A,N]=Object.entries(k)[0];_[A]=parseInt(N)}else _.offsetX=parseInt(k);if(b!=null)if(typeof b=="object"){let[A,N]=Object.entries(b)[0];_[A]=parseInt(N)}else _.offsetY=parseInt(b)}},ZCt=function(s,o,f){let p=pK,w=bK;if(typeof o=="object"){const k=Object.values(o)[0];p=parseInt(k)}else p=parseInt(o);if(typeof f=="object"){const k=Object.values(f)[0];w=parseInt(k)}else w=parseInt(f);p>=1&&(pK=p),w>=1&&(bK=w)},JCt=function(){return pK},eSt=function(){return bK},tSt=function(){return ag},nSt=function(){return Xw},TIe=function(s){return s==null?Yw:Yw.filter(o=>o.parentBoundary===s)},rSt=function(s){return Yw.find(o=>o.alias===s)},iSt=function(s){return Object.keys(TIe(s))},sSt=function(s){return s==null?r3:r3.filter(o=>o.parentBoundary===s)},aSt=function(){return ON},oSt=function(){return Q1e},cSt=function(s){Z1e=s},Jk=function(){return Z1e},_Ie={addPersonOrSystem:GCt,addPersonOrSystemBoundary:UCt,addContainer:qCt,addContainerBoundary:KCt,addComponent:VCt,addDeploymentNode:WCt,popBoundaryParseStack:YCt,addRel:zCt,updateElStyle:XCt,updateRelStyle:QCt,updateLayoutConfig:ZCt,autoWrap:Jk,setWrap:cSt,getC4ShapeArray:TIe,getC4Shape:rSt,getC4ShapeKeys:iSt,getBoundarys:sSt,getCurrentBoundaryParse:tSt,getParentBoundaryParse:nSt,getRels:aSt,getTitle:oSt,getC4Type:jCt,getC4ShapeInRow:JCt,getC4BoundaryInRow:eSt,setAccTitle:np,getAccTitle:C2,getAccDescription:A2,setAccDescription:S2,parseDirective:HCt,getConfig:()=>Pt().c4,clear:function(){Yw=[],r3=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Xw="",ag="global",Zk=[""],ON=[],Zk=[""],Q1e="",Z1e=!1,pK=4,bK=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(s){Q1e=T2(s,Pt())},setC4Type:$Ct},J1e=function(s,o){const f=s.append("rect");if(f.attr("x",o.x),f.attr("y",o.y),f.attr("fill",o.fill),f.attr("stroke",o.stroke),f.attr("width",o.width),f.attr("height",o.height),f.attr("rx",o.rx),f.attr("ry",o.ry),o.attrs!=="undefined"&&o.attrs!==null)for(let p in o.attrs)f.attr(p,o.attrs[p]);return o.class!=="undefined"&&f.attr("class",o.class),f},CIe=function(s,o,f,p,w,k){const b=s.append("image");b.attr("width",o),b.attr("height",f),b.attr("x",p),b.attr("y",w);let _=k.startsWith("data:image/png;base64")?k:a5(k);b.attr("xlink:href",_)},uSt=(s,o,f)=>{const p=s.append("g");let w=0;for(let k of o){let b=k.textColor?k.textColor:"#444444",_=k.lineColor?k.lineColor:"#444444",A=k.offsetX?parseInt(k.offsetX):0,N=k.offsetY?parseInt(k.offsetY):0,B="";if(w===0){let H=p.append("line");H.attr("x1",k.startPoint.x),H.attr("y1",k.startPoint.y),H.attr("x2",k.endPoint.x),H.attr("y2",k.endPoint.y),H.attr("stroke-width","1"),H.attr("stroke",_),H.style("fill","none"),k.type!=="rel_b"&&H.attr("marker-end","url("+B+"#arrowhead)"),(k.type==="birel"||k.type==="rel_b")&&H.attr("marker-start","url("+B+"#arrowend)"),w=-1}else{let H=p.append("path");H.attr("fill","none").attr("stroke-width","1").attr("stroke",_).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",k.startPoint.x).replaceAll("starty",k.startPoint.y).replaceAll("controlx",k.startPoint.x+(k.endPoint.x-k.startPoint.x)/2-(k.endPoint.x-k.startPoint.x)/4).replaceAll("controly",k.startPoint.y+(k.endPoint.y-k.startPoint.y)/2).replaceAll("stopx",k.endPoint.x).replaceAll("stopy",k.endPoint.y)),k.type!=="rel_b"&&H.attr("marker-end","url("+B+"#arrowhead)"),(k.type==="birel"||k.type==="rel_b")&&H.attr("marker-start","url("+B+"#arrowend)")}let F=f.messageFont();b5(f)(k.label.text,p,Math.min(k.startPoint.x,k.endPoint.x)+Math.abs(k.endPoint.x-k.startPoint.x)/2+A,Math.min(k.startPoint.y,k.endPoint.y)+Math.abs(k.endPoint.y-k.startPoint.y)/2+N,k.label.width,k.label.height,{fill:b},F),k.techn&&k.techn.text!==""&&(F=f.messageFont(),b5(f)("["+k.techn.text+"]",p,Math.min(k.startPoint.x,k.endPoint.x)+Math.abs(k.endPoint.x-k.startPoint.x)/2+A,Math.min(k.startPoint.y,k.endPoint.y)+Math.abs(k.endPoint.y-k.startPoint.y)/2+f.messageFontSize+5+N,Math.max(k.label.width,k.techn.width),k.techn.height,{fill:b,"font-style":"italic"},F))}},lSt=function(s,o,f){const p=s.append("g");let w=o.bgColor?o.bgColor:"none",k=o.borderColor?o.borderColor:"#444444",b=o.fontColor?o.fontColor:"black",_={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};o.nodeType&&(_={"stroke-width":1});let A={x:o.x,y:o.y,fill:w,stroke:k,width:o.width,height:o.height,rx:2.5,ry:2.5,attrs:_};J1e(p,A);let N=f.boundaryFont();N.fontWeight="bold",N.fontSize=N.fontSize+2,N.fontColor=b,b5(f)(o.label.text,p,o.x,o.y+o.label.Y,o.width,o.height,{fill:"#444444"},N),o.type&&o.type.text!==""&&(N=f.boundaryFont(),N.fontColor=b,b5(f)(o.type.text,p,o.x,o.y+o.type.Y,o.width,o.height,{fill:"#444444"},N)),o.descr&&o.descr.text!==""&&(N=f.boundaryFont(),N.fontSize=N.fontSize-2,N.fontColor=b,b5(f)(o.descr.text,p,o.x,o.y+o.descr.Y,o.width,o.height,{fill:"#444444"},N))},hSt=function(s,o,f){var F;let p=o.bgColor?o.bgColor:f[o.typeC4Shape.text+"_bg_color"],w=o.borderColor?o.borderColor:f[o.typeC4Shape.text+"_border_color"],k=o.fontColor?o.fontColor:"#FFFFFF",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(o.typeC4Shape.text){case"person":b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const _=s.append("g");_.attr("class","person-man");const A=SIe();switch(o.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":A.x=o.x,A.y=o.y,A.fill=p,A.width=o.width,A.height=o.height,A.stroke=w,A.rx=2.5,A.ry=2.5,A.attrs={"stroke-width":.5},J1e(_,A);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":_.append("path").attr("fill",p).attr("stroke-width","0.5").attr("stroke",w).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",o.x).replaceAll("starty",o.y).replaceAll("half",o.width/2).replaceAll("height",o.height)),_.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",w).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",o.x).replaceAll("starty",o.y).replaceAll("half",o.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":_.append("path").attr("fill",p).attr("stroke-width","0.5").attr("stroke",w).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",o.x).replaceAll("starty",o.y).replaceAll("width",o.width).replaceAll("half",o.height/2)),_.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",w).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",o.x+o.width).replaceAll("starty",o.y).replaceAll("half",o.height/2));break}let N=ySt(f,o.typeC4Shape.text);switch(_.append("text").attr("fill",k).attr("font-family",N.fontFamily).attr("font-size",N.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",o.typeC4Shape.width).attr("x",o.x+o.width/2-o.typeC4Shape.width/2).attr("y",o.y+o.typeC4Shape.Y).text("<<"+o.typeC4Shape.text+">>"),o.typeC4Shape.text){case"person":case"external_person":CIe(_,48,48,o.x+o.width/2-24,o.y+o.image.Y,b);break}let B=f[o.typeC4Shape.text+"Font"]();return B.fontWeight="bold",B.fontSize=B.fontSize+2,B.fontColor=k,b5(f)(o.label.text,_,o.x,o.y+o.label.Y,o.width,o.height,{fill:k},B),B=f[o.typeC4Shape.text+"Font"](),B.fontColor=k,o.techn&&((F=o.techn)==null?void 0:F.text)!==""?b5(f)(o.techn.text,_,o.x,o.y+o.techn.Y,o.width,o.height,{fill:k,"font-style":"italic"},B):o.type&&o.type.text!==""&&b5(f)(o.type.text,_,o.x,o.y+o.type.Y,o.width,o.height,{fill:k,"font-style":"italic"},B),o.descr&&o.descr.text!==""&&(B=f.personFont(),B.fontColor=k,b5(f)(o.descr.text,_,o.x,o.y+o.descr.Y,o.width,o.height,{fill:k},B)),o.height},fSt=function(s){s.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},dSt=function(s){s.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},gSt=function(s){s.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},pSt=function(s){s.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},bSt=function(s){s.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},vSt=function(s){s.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},wSt=function(s){s.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},mSt=function(s){const f=s.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);f.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),f.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},SIe=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},ySt=(s,o)=>({fontFamily:s[o+"FontFamily"],fontSize:s[o+"FontSize"],fontWeight:s[o+"FontWeight"]}),b5=function(){function s(w,k,b,_,A,N,B){const F=k.append("text").attr("x",b+A/2).attr("y",_+N/2+5).style("text-anchor","middle").text(w);p(F,B)}function o(w,k,b,_,A,N,B,F){const{fontSize:H,fontFamily:j,fontWeight:V}=F,Z=w.split(xa.lineBreakRegex);for(let ae=0;ae<Z.length;ae++){const le=ae*H-H*(Z.length-1)/2,ce=k.append("text").attr("x",b+A/2).attr("y",_).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",H).style("font-weight",V).style("font-family",j);ce.append("tspan").attr("dy",le).text(Z[ae]).attr("alignment-baseline","mathematical"),p(ce,B)}}function f(w,k,b,_,A,N,B,F){const H=k.append("switch"),V=H.append("foreignObject").attr("x",b).attr("y",_).attr("width",A).attr("height",N).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");V.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(w),o(w,H,b,_,A,N,B,F),p(V,B)}function p(w,k){for(const b in k)k.hasOwnProperty(b)&&w.attr(b,k[b])}return function(w){return w.textPlacement==="fo"?f:w.textPlacement==="old"?s:o}}(),i3={drawRect:J1e,drawBoundary:lSt,drawC4Shape:hSt,drawRels:uSt,drawImage:CIe,insertArrowHead:pSt,insertArrowEnd:bSt,insertArrowFilledHead:vSt,insertDynamicNumber:wSt,insertArrowCrossHead:mSt,insertDatabaseIcon:fSt,insertComputerIcon:dSt,insertClockIcon:gSt,getNoteRect:SIe,sanitizeUrl:a5};let vK=0,wK=0,AIe=4,ede=2;gK.yy=_Ie;let xs={};class LIe{constructor(o){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,tde(o.db.getConfig())}setData(o,f,p,w){this.nextData.startx=this.data.startx=o,this.nextData.stopx=this.data.stopx=f,this.nextData.starty=this.data.starty=p,this.nextData.stopy=this.data.stopy=w}updateVal(o,f,p,w){o[f]===void 0?o[f]=p:o[f]=w(p,o[f])}insert(o){this.nextData.cnt=this.nextData.cnt+1;let f=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+o.margin:this.nextData.stopx+o.margin*2,p=f+o.width,w=this.nextData.starty+o.margin*2,k=w+o.height;(f>=this.data.widthLimit||p>=this.data.widthLimit||this.nextData.cnt>AIe)&&(f=this.nextData.startx+o.margin+xs.nextLinePaddingX,w=this.nextData.stopy+o.margin*2,this.nextData.stopx=p=f+o.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=k=w+o.height,this.nextData.cnt=1),o.x=f,o.y=w,this.updateVal(this.data,"startx",f,Math.min),this.updateVal(this.data,"starty",w,Math.min),this.updateVal(this.data,"stopx",p,Math.max),this.updateVal(this.data,"stopy",k,Math.max),this.updateVal(this.nextData,"startx",f,Math.min),this.updateVal(this.nextData,"starty",w,Math.min),this.updateVal(this.nextData,"stopx",p,Math.max),this.updateVal(this.nextData,"stopy",k,Math.max)}init(o){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},tde(o.db.getConfig())}bumpLastMargin(o){this.data.stopx+=o,this.data.stopy+=o}}const tde=function(s){nd(xs,s),s.fontFamily&&(xs.personFontFamily=xs.systemFontFamily=xs.messageFontFamily=s.fontFamily),s.fontSize&&(xs.personFontSize=xs.systemFontSize=xs.messageFontSize=s.fontSize),s.fontWeight&&(xs.personFontWeight=xs.systemFontWeight=xs.messageFontWeight=s.fontWeight)},NN=(s,o)=>({fontFamily:s[o+"FontFamily"],fontSize:s[o+"FontSize"],fontWeight:s[o+"FontWeight"]}),mK=s=>({fontFamily:s.boundaryFontFamily,fontSize:s.boundaryFontSize,fontWeight:s.boundaryFontWeight}),kSt=s=>({fontFamily:s.messageFontFamily,fontSize:s.messageFontSize,fontWeight:s.messageFontWeight});function Qw(s,o,f,p,w){if(!o[s].width)if(f)o[s].text=GDe(o[s].text,w,p),o[s].textLines=o[s].text.split(xa.lineBreakRegex).length,o[s].width=w,o[s].height=I1e(o[s].text,p);else{let k=o[s].text.split(xa.lineBreakRegex);o[s].textLines=k.length;let b=0;o[s].height=0,o[s].width=0;for(const _ of k)o[s].width=Math.max(n3(_,p),o[s].width),b=I1e(_,p),o[s].height=o[s].height+b}}const MIe=function(s,o,f){o.x=f.data.startx,o.y=f.data.starty,o.width=f.data.stopx-f.data.startx,o.height=f.data.stopy-f.data.starty,o.label.y=xs.c4ShapeMargin-35;let p=o.wrap&&xs.wrap,w=mK(xs);w.fontSize=w.fontSize+2,w.fontWeight="bold";let k=n3(o.label.text,w);Qw("label",o,p,w,k),i3.drawBoundary(s,o,xs)},DIe=function(s,o,f,p){let w=0;for(const k of p){w=0;const b=f[k];let _=NN(xs,b.typeC4Shape.text);switch(_.fontSize=_.fontSize-2,b.typeC4Shape.width=n3("<<"+b.typeC4Shape.text+">>",_),b.typeC4Shape.height=_.fontSize+2,b.typeC4Shape.Y=xs.c4ShapePadding,w=b.typeC4Shape.Y+b.typeC4Shape.height-4,b.image={width:0,height:0,Y:0},b.typeC4Shape.text){case"person":case"external_person":b.image.width=48,b.image.height=48,b.image.Y=w,w=b.image.Y+b.image.height;break}b.sprite&&(b.image.width=48,b.image.height=48,b.image.Y=w,w=b.image.Y+b.image.height);let A=b.wrap&&xs.wrap,N=xs.width-xs.c4ShapePadding*2,B=NN(xs,b.typeC4Shape.text);if(B.fontSize=B.fontSize+2,B.fontWeight="bold",Qw("label",b,A,B,N),b.label.Y=w+8,w=b.label.Y+b.label.height,b.type&&b.type.text!==""){b.type.text="["+b.type.text+"]";let j=NN(xs,b.typeC4Shape.text);Qw("type",b,A,j,N),b.type.Y=w+5,w=b.type.Y+b.type.height}else if(b.techn&&b.techn.text!==""){b.techn.text="["+b.techn.text+"]";let j=NN(xs,b.techn.text);Qw("techn",b,A,j,N),b.techn.Y=w+5,w=b.techn.Y+b.techn.height}let F=w,H=b.label.width;if(b.descr&&b.descr.text!==""){let j=NN(xs,b.typeC4Shape.text);Qw("descr",b,A,j,N),b.descr.Y=w+20,w=b.descr.Y+b.descr.height,H=Math.max(b.label.width,b.descr.width),F=w-b.descr.textLines*5}H=H+xs.c4ShapePadding,b.width=Math.max(b.width||xs.width,H,xs.width),b.height=Math.max(b.height||xs.height,F,xs.height),b.margin=b.margin||xs.c4ShapeMargin,s.insert(b),i3.drawC4Shape(o,b,xs)}s.bumpLastMargin(xs.c4ShapeMargin)};let Vb=class{constructor(o,f){this.x=o,this.y=f}},IIe=function(s,o){let f=s.x,p=s.y,w=o.x,k=o.y,b=f+s.width/2,_=p+s.height/2,A=Math.abs(f-w),N=Math.abs(p-k),B=N/A,F=s.height/s.width,H=null;return p==k&&f<w?H=new Vb(f+s.width,_):p==k&&f>w?H=new Vb(f,_):f==w&&p<k?H=new Vb(b,p+s.height):f==w&&p>k&&(H=new Vb(b,p)),f>w&&p<k?F>=B?H=new Vb(f,_+B*s.width/2):H=new Vb(b-A/N*s.height/2,p+s.height):f<w&&p<k?F>=B?H=new Vb(f+s.width,_+B*s.width/2):H=new Vb(b+A/N*s.height/2,p+s.height):f<w&&p>k?F>=B?H=new Vb(f+s.width,_-B*s.width/2):H=new Vb(b+s.height/2*A/N,p):f>w&&p>k&&(F>=B?H=new Vb(f,_-s.width/2*B):H=new Vb(b-s.height/2*A/N,p)),H},xSt=function(s,o){let f={x:0,y:0};f.x=o.x+o.width/2,f.y=o.y+o.height/2;let p=IIe(s,f);f.x=s.x+s.width/2,f.y=s.y+s.height/2;let w=IIe(o,f);return{startPoint:p,endPoint:w}};const ESt=function(s,o,f,p){let w=0;for(let k of o){w=w+1;let b=k.wrap&&xs.wrap,_=kSt(xs);p.db.getC4Type()==="C4Dynamic"&&(k.label.text=w+": "+k.label.text);let N=n3(k.label.text,_);Qw("label",k,b,_,N),k.techn&&k.techn.text!==""&&(N=n3(k.techn.text,_),Qw("techn",k,b,_,N)),k.descr&&k.descr.text!==""&&(N=n3(k.descr.text,_),Qw("descr",k,b,_,N));let B=f(k.from),F=f(k.to),H=xSt(B,F);k.startPoint=H.startPoint,k.endPoint=H.endPoint}i3.drawRels(s,o,xs)};function OIe(s,o,f,p,w){let k=new LIe(w);k.data.widthLimit=f.data.widthLimit/Math.min(ede,p.length);for(let[b,_]of p.entries()){let A=0;_.image={width:0,height:0,Y:0},_.sprite&&(_.image.width=48,_.image.height=48,_.image.Y=A,A=_.image.Y+_.image.height);let N=_.wrap&&xs.wrap,B=mK(xs);if(B.fontSize=B.fontSize+2,B.fontWeight="bold",Qw("label",_,N,B,k.data.widthLimit),_.label.Y=A+8,A=_.label.Y+_.label.height,_.type&&_.type.text!==""){_.type.text="["+_.type.text+"]";let V=mK(xs);Qw("type",_,N,V,k.data.widthLimit),_.type.Y=A+5,A=_.type.Y+_.type.height}if(_.descr&&_.descr.text!==""){let V=mK(xs);V.fontSize=V.fontSize-2,Qw("descr",_,N,V,k.data.widthLimit),_.descr.Y=A+20,A=_.descr.Y+_.descr.height}if(b==0||b%ede===0){let V=f.data.startx+xs.diagramMarginX,Z=f.data.stopy+xs.diagramMarginY+A;k.setData(V,V,Z,Z)}else{let V=k.data.stopx!==k.data.startx?k.data.stopx+xs.diagramMarginX:k.data.startx,Z=k.data.starty;k.setData(V,V,Z,Z)}k.name=_.alias;let F=w.db.getC4ShapeArray(_.alias),H=w.db.getC4ShapeKeys(_.alias);H.length>0&&DIe(k,s,F,H),o=_.alias;let j=w.db.getBoundarys(o);j.length>0&&OIe(s,o,k,j,w),_.alias!=="global"&&MIe(s,_,k),f.data.stopy=Math.max(k.data.stopy+xs.c4ShapeMargin,f.data.stopy),f.data.stopx=Math.max(k.data.stopx+xs.c4ShapeMargin,f.data.stopx),vK=Math.max(vK,f.data.stopx),wK=Math.max(wK,f.data.stopy)}}const NIe={drawPersonOrSystemArray:DIe,drawBoundary:MIe,setConf:tde,draw:function(s,o,f,p){xs=Pt().c4;const w=Pt().securityLevel;let k;w==="sandbox"&&(k=sr("#i"+o));const b=sr(w==="sandbox"?k.nodes()[0].contentDocument.body:"body");let _=p.db;p.db.setWrap(xs.wrap),AIe=_.getC4ShapeInRow(),ede=_.getC4BoundaryInRow(),je.debug(`C:${JSON.stringify(xs,null,2)}`);const A=w==="sandbox"?b.select(`[id="${o}"]`):sr(`[id="${o}"]`);i3.insertComputerIcon(A),i3.insertDatabaseIcon(A),i3.insertClockIcon(A);let N=new LIe(p);N.setData(xs.diagramMarginX,xs.diagramMarginX,xs.diagramMarginY,xs.diagramMarginY),N.data.widthLimit=screen.availWidth,vK=xs.diagramMarginX,wK=xs.diagramMarginY;const B=p.db.getTitle();let F=p.db.getBoundarys("");OIe(A,"",N,F,p),i3.insertArrowHead(A),i3.insertArrowEnd(A),i3.insertArrowCrossHead(A),i3.insertArrowFilledHead(A),ESt(A,p.db.getRels(),p.db.getC4Shape,p),N.data.stopx=vK,N.data.stopy=wK;const H=N.data;let V=H.stopy-H.starty+2*xs.diagramMarginY;const ae=H.stopx-H.startx+2*xs.diagramMarginX;B&&A.append("text").text(B).attr("x",(H.stopx-H.startx)/2-4*xs.diagramMarginX).attr("y",H.starty+xs.diagramMarginY),Uw(A,V,ae,xs.useMaxWidth);const le=B?60:0;A.attr("viewBox",H.startx-xs.diagramMarginX+" -"+(xs.diagramMarginY+le)+" "+ae+" "+(V+le)),je.debug("models:",H)}};var nde=function(){var s=function(At,He,Ze,Lt){for(Ze=Ze||{},Lt=At.length;Lt--;Ze[At[Lt]]=He);return Ze},o=[1,3],f=[1,7],p=[1,8],w=[1,9],k=[1,10],b=[1,13],_=[1,12],A=[1,16,25],N=[1,20],B=[1,32],F=[1,33],H=[1,34],j=[1,36],V=[1,39],Z=[1,37],ae=[1,38],le=[1,44],ce=[1,45],be=[1,40],xe=[1,41],Ee=[1,42],Me=[1,43],fe=[1,48],ye=[1,49],re=[1,50],we=[1,51],ke=[16,25],he=[1,65],De=[1,66],X=[1,67],Re=[1,68],pe=[1,69],Ge=[1,70],de=[1,71],ct=[1,80],bt=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],St=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],yt=[5,8,9,10,11,16,19,23,25],Mt=[54,88,89,90,91],nn=[54,65,66,88,89,90,91],dn=[54,60,61,62,63,64,88,89,90,91],vt=[16,25,32],Lr=[1,107],xt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(He,Ze,Lt,Ve,Mn,Oe,Di){var rn=Oe.length-1;switch(Mn){case 5:Ve.setDirection("TB");break;case 6:Ve.setDirection("BT");break;case 7:Ve.setDirection("RL");break;case 8:Ve.setDirection("LR");break;case 12:Ve.parseDirective("%%{","open_directive");break;case 13:Ve.parseDirective(Oe[rn],"type_directive");break;case 14:Oe[rn]=Oe[rn].trim().replace(/'/g,'"'),Ve.parseDirective(Oe[rn],"arg_directive");break;case 15:Ve.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=Oe[rn];break;case 22:this.$=Oe[rn-1]+Oe[rn];break;case 23:case 24:this.$=Oe[rn-1]+"~"+Oe[rn];break;case 25:Ve.addRelation(Oe[rn]);break;case 26:Oe[rn-1].title=Ve.cleanupLabel(Oe[rn]),Ve.addRelation(Oe[rn-1]);break;case 35:this.$=Oe[rn].trim(),Ve.setAccTitle(this.$);break;case 36:case 37:this.$=Oe[rn].trim(),Ve.setAccDescription(this.$);break;case 38:Ve.addClass(Oe[rn]);break;case 39:Ve.addClass(Oe[rn-2]),Ve.setCssClass(Oe[rn-2],Oe[rn]);break;case 40:Ve.addClass(Oe[rn-3]),Ve.addMembers(Oe[rn-3],Oe[rn-1]);break;case 41:Ve.addClass(Oe[rn-5]),Ve.setCssClass(Oe[rn-5],Oe[rn-3]),Ve.addMembers(Oe[rn-5],Oe[rn-1]);break;case 42:Ve.addAnnotation(Oe[rn],Oe[rn-2]);break;case 43:this.$=[Oe[rn]];break;case 44:Oe[rn].push(Oe[rn-1]),this.$=Oe[rn];break;case 45:break;case 46:Ve.addMember(Oe[rn-1],Ve.cleanupLabel(Oe[rn]));break;case 47:break;case 48:break;case 49:this.$={id1:Oe[rn-2],id2:Oe[rn],relation:Oe[rn-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:Oe[rn-3],id2:Oe[rn],relation:Oe[rn-1],relationTitle1:Oe[rn-2],relationTitle2:"none"};break;case 51:this.$={id1:Oe[rn-3],id2:Oe[rn],relation:Oe[rn-2],relationTitle1:"none",relationTitle2:Oe[rn-1]};break;case 52:this.$={id1:Oe[rn-4],id2:Oe[rn],relation:Oe[rn-2],relationTitle1:Oe[rn-3],relationTitle2:Oe[rn-1]};break;case 53:Ve.addNote(Oe[rn],Oe[rn-1]);break;case 54:Ve.addNote(Oe[rn]);break;case 55:this.$={type1:Oe[rn-2],type2:Oe[rn],lineType:Oe[rn-1]};break;case 56:this.$={type1:"none",type2:Oe[rn],lineType:Oe[rn-1]};break;case 57:this.$={type1:Oe[rn-1],type2:"none",lineType:Oe[rn]};break;case 58:this.$={type1:"none",type2:"none",lineType:Oe[rn]};break;case 59:this.$=Ve.relationType.AGGREGATION;break;case 60:this.$=Ve.relationType.EXTENSION;break;case 61:this.$=Ve.relationType.COMPOSITION;break;case 62:this.$=Ve.relationType.DEPENDENCY;break;case 63:this.$=Ve.relationType.LOLLIPOP;break;case 64:this.$=Ve.lineType.LINE;break;case 65:this.$=Ve.lineType.DOTTED_LINE;break;case 66:case 72:this.$=Oe[rn-2],Ve.setClickEvent(Oe[rn-1],Oe[rn]);break;case 67:case 73:this.$=Oe[rn-3],Ve.setClickEvent(Oe[rn-2],Oe[rn-1]),Ve.setTooltip(Oe[rn-2],Oe[rn]);break;case 68:case 76:this.$=Oe[rn-2],Ve.setLink(Oe[rn-1],Oe[rn]);break;case 69:this.$=Oe[rn-3],Ve.setLink(Oe[rn-2],Oe[rn-1],Oe[rn]);break;case 70:case 78:this.$=Oe[rn-3],Ve.setLink(Oe[rn-2],Oe[rn-1]),Ve.setTooltip(Oe[rn-2],Oe[rn]);break;case 71:case 79:this.$=Oe[rn-4],Ve.setLink(Oe[rn-3],Oe[rn-2],Oe[rn]),Ve.setTooltip(Oe[rn-3],Oe[rn-1]);break;case 74:this.$=Oe[rn-3],Ve.setClickEvent(Oe[rn-2],Oe[rn-1],Oe[rn]);break;case 75:this.$=Oe[rn-4],Ve.setClickEvent(Oe[rn-3],Oe[rn-2],Oe[rn-1]),Ve.setTooltip(Oe[rn-3],Oe[rn]);break;case 77:this.$=Oe[rn-3],Ve.setLink(Oe[rn-2],Oe[rn-1],Oe[rn]);break;case 80:Ve.setCssClass(Oe[rn-1],Oe[rn]);break}},table:[{3:1,4:2,5:o,6:4,7:5,8:f,9:p,10:w,11:k,12:6,13:11,19:b,23:_},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:o,6:4,7:5,8:f,9:p,10:w,11:k,12:6,13:11,19:b,23:_},{1:[2,9]},s(A,[2,5]),s(A,[2,6]),s(A,[2,7]),s(A,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:N},s([17,22],[2,13]),{6:31,7:30,8:f,9:p,10:w,11:k,13:11,19:b,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:B,41:F,43:H,44:j,49:V,51:Z,52:ae,55:le,57:ce,67:be,68:xe,70:Ee,74:Me,88:fe,89:ye,90:re,91:we},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},s(ke,[2,25],{32:[1,57]}),s(ke,[2,27]),s(ke,[2,28]),s(ke,[2,29]),s(ke,[2,30]),s(ke,[2,31]),s(ke,[2,32]),s(ke,[2,33]),s(ke,[2,34]),{40:[1,58]},{42:[1,59]},s(ke,[2,37]),s(ke,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:he,61:De,62:X,63:Re,64:pe,65:Ge,66:de}),{27:72,28:46,29:47,88:fe,89:ye,90:re,91:we},s(ke,[2,47]),s(ke,[2,48]),{28:73,88:fe,89:ye,90:re},{27:74,28:46,29:47,88:fe,89:ye,90:re,91:we},{27:75,28:46,29:47,88:fe,89:ye,90:re,91:we},{27:76,28:46,29:47,88:fe,89:ye,90:re,91:we},{54:[1,77]},{27:78,28:46,29:47,88:fe,89:ye,90:re,91:we},{54:ct,56:79},s(bt,[2,20],{28:46,29:47,27:81,30:[1,82],88:fe,89:ye,90:re,91:we}),s(bt,[2,21],{30:[1,83]}),s(St,[2,94]),s(St,[2,95]),s(St,[2,96]),s([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),s(yt,[2,10]),{15:84,22:N},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:f,9:p,10:w,11:k,13:11,19:b,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:B,41:F,43:H,44:j,49:V,51:Z,52:ae,55:le,57:ce,67:be,68:xe,70:Ee,74:Me,88:fe,89:ye,90:re,91:we},s(ke,[2,26]),s(ke,[2,35]),s(ke,[2,36]),{27:86,28:46,29:47,54:[1,87],88:fe,89:ye,90:re,91:we},{53:88,58:63,59:64,60:he,61:De,62:X,63:Re,64:pe,65:Ge,66:de},s(ke,[2,46]),{59:89,65:Ge,66:de},s(Mt,[2,58],{58:90,60:he,61:De,62:X,63:Re,64:pe}),s(nn,[2,59]),s(nn,[2,60]),s(nn,[2,61]),s(nn,[2,62]),s(nn,[2,63]),s(dn,[2,64]),s(dn,[2,65]),s(ke,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:fe,89:ye,90:re},{54:ct,56:99},s(ke,[2,54]),s(ke,[2,98]),s(bt,[2,22]),s(bt,[2,23]),s(bt,[2,24]),{16:[1,100]},{25:[2,19]},s(vt,[2,49]),{27:101,28:46,29:47,88:fe,89:ye,90:re,91:we},{27:102,28:46,29:47,54:[1,103],88:fe,89:ye,90:re,91:we},s(Mt,[2,57],{58:104,60:he,61:De,62:X,63:Re,64:pe}),s(Mt,[2,56]),{28:105,88:fe,89:ye,90:re},{47:106,51:Lr},{27:108,28:46,29:47,88:fe,89:ye,90:re,91:we},s(ke,[2,66],{54:[1,109]}),s(ke,[2,68],{54:[1,111],69:[1,110]}),s(ke,[2,72],{54:[1,112],72:[1,113]}),s(ke,[2,76],{54:[1,115],69:[1,114]}),s(ke,[2,80]),s(ke,[2,53]),s(yt,[2,11]),s(vt,[2,51]),s(vt,[2,50]),{27:116,28:46,29:47,88:fe,89:ye,90:re,91:we},s(Mt,[2,55]),s(ke,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:Lr},s(ke,[2,42]),s(ke,[2,67]),s(ke,[2,69]),s(ke,[2,70],{69:[1,120]}),s(ke,[2,73]),s(ke,[2,74],{54:[1,121]}),s(ke,[2,77]),s(ke,[2,78],{69:[1,122]}),s(vt,[2,52]),{47:123,51:Lr},s(ke,[2,40]),{48:[2,44]},s(ke,[2,71]),s(ke,[2,75]),s(ke,[2,79]),{48:[1,124]},s(ke,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(He,Ze){if(Ze.recoverable)this.trace(He);else{var Lt=new Error(He);throw Lt.hash=Ze,Lt}},parse:function(He){var Ze=this,Lt=[0],Ve=[],Mn=[null],Oe=[],Di=this.table,rn="",pi=0,Fr=0,tr=2,Wn=1,er=Oe.slice.call(arguments,1),Fn=Object.create(this.lexer),nr={yy:{}};for(var ha in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ha)&&(nr.yy[ha]=this.yy[ha]);Fn.setInput(He,nr.yy),nr.yy.lexer=Fn,nr.yy.parser=this,typeof Fn.yylloc>"u"&&(Fn.yylloc={});var fa=Fn.yylloc;Oe.push(fa);var is=Fn.options&&Fn.options.ranges;typeof nr.yy.parseError=="function"?this.parseError=nr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Xi(){var un;return un=Ve.pop()||Fn.lex()||Wn,typeof un!="number"&&(un instanceof Array&&(Ve=un,un=Ve.pop()),un=Ze.symbols_[un]||un),un}for(var da,Cc,na,Ji,Fi={},vr,wr,ni,Yn;;){if(Cc=Lt[Lt.length-1],this.defaultActions[Cc]?na=this.defaultActions[Cc]:((da===null||typeof da>"u")&&(da=Xi()),na=Di[Cc]&&Di[Cc][da]),typeof na>"u"||!na.length||!na[0]){var Gi="";Yn=[];for(vr in Di[Cc])this.terminals_[vr]&&vr>tr&&Yn.push("'"+this.terminals_[vr]+"'");Fn.showPosition?Gi="Parse error on line "+(pi+1)+`:
`+Fn.showPosition()+`
Expecting `+Yn.join(", ")+", got '"+(this.terminals_[da]||da)+"'":Gi="Parse error on line "+(pi+1)+": Unexpected "+(da==Wn?"end of input":"'"+(this.terminals_[da]||da)+"'"),this.parseError(Gi,{text:Fn.match,token:this.terminals_[da]||da,line:Fn.yylineno,loc:fa,expected:Yn})}if(na[0]instanceof Array&&na.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Cc+", token: "+da);switch(na[0]){case 1:Lt.push(da),Mn.push(Fn.yytext),Oe.push(Fn.yylloc),Lt.push(na[1]),da=null,Fr=Fn.yyleng,rn=Fn.yytext,pi=Fn.yylineno,fa=Fn.yylloc;break;case 2:if(wr=this.productions_[na[1]][1],Fi.$=Mn[Mn.length-wr],Fi._$={first_line:Oe[Oe.length-(wr||1)].first_line,last_line:Oe[Oe.length-1].last_line,first_column:Oe[Oe.length-(wr||1)].first_column,last_column:Oe[Oe.length-1].last_column},is&&(Fi._$.range=[Oe[Oe.length-(wr||1)].range[0],Oe[Oe.length-1].range[1]]),Ji=this.performAction.apply(Fi,[rn,Fr,pi,nr.yy,na[1],Mn,Oe].concat(er)),typeof Ji<"u")return Ji;wr&&(Lt=Lt.slice(0,-1*wr*2),Mn=Mn.slice(0,-1*wr),Oe=Oe.slice(0,-1*wr)),Lt.push(this.productions_[na[1]][0]),Mn.push(Fi.$),Oe.push(Fi._$),ni=Di[Lt[Lt.length-2]][Lt[Lt.length-1]],Lt.push(ni);break;case 3:return!0}}return!0}},Tt=function(){var At={EOF:1,parseError:function(Ze,Lt){if(this.yy.parser)this.yy.parser.parseError(Ze,Lt);else throw new Error(Ze)},setInput:function(He,Ze){return this.yy=Ze||this.yy||{},this._input=He,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var He=this._input[0];this.yytext+=He,this.yyleng++,this.offset++,this.match+=He,this.matched+=He;var Ze=He.match(/(?:\r\n?|\n).*/g);return Ze?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),He},unput:function(He){var Ze=He.length,Lt=He.split(/(?:\r\n?|\n)/g);this._input=He+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ze),this.offset-=Ze;var Ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Lt.length-1&&(this.yylineno-=Lt.length-1);var Mn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Lt?(Lt.length===Ve.length?this.yylloc.first_column:0)+Ve[Ve.length-Lt.length].length-Lt[0].length:this.yylloc.first_column-Ze},this.options.ranges&&(this.yylloc.range=[Mn[0],Mn[0]+this.yyleng-Ze]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(He){this.unput(this.match.slice(He))},pastInput:function(){var He=this.matched.substr(0,this.matched.length-this.match.length);return(He.length>20?"...":"")+He.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var He=this.match;return He.length<20&&(He+=this._input.substr(0,20-He.length)),(He.substr(0,20)+(He.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var He=this.pastInput(),Ze=new Array(He.length+1).join("-");return He+this.upcomingInput()+`
`+Ze+"^"},test_match:function(He,Ze){var Lt,Ve,Mn;if(this.options.backtrack_lexer&&(Mn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Mn.yylloc.range=this.yylloc.range.slice(0))),Ve=He[0].match(/(?:\r\n?|\n).*/g),Ve&&(this.yylineno+=Ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ve?Ve[Ve.length-1].length-Ve[Ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+He[0].length},this.yytext+=He[0],this.match+=He[0],this.matches=He,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(He[0].length),this.matched+=He[0],Lt=this.performAction.call(this,this.yy,this,Ze,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Lt)return Lt;if(this._backtrack){for(var Oe in Mn)this[Oe]=Mn[Oe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var He,Ze,Lt,Ve;this._more||(this.yytext="",this.match="");for(var Mn=this._currentRules(),Oe=0;Oe<Mn.length;Oe++)if(Lt=this._input.match(this.rules[Mn[Oe]]),Lt&&(!Ze||Lt[0].length>Ze[0].length)){if(Ze=Lt,Ve=Oe,this.options.backtrack_lexer){if(He=this.test_match(Lt,Mn[Oe]),He!==!1)return He;if(this._backtrack){Ze=!1;continue}else return!1}else if(!this.options.flex)break}return Ze?(He=this.test_match(Ze,Mn[Ve]),He!==!1?He:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ze=this.next();return Ze||this.lex()},begin:function(Ze){this.conditionStack.push(Ze)},popState:function(){var Ze=this.conditionStack.length-1;return Ze>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ze){return Ze=this.conditionStack.length-1-Math.abs(Ze||0),Ze>=0?this.conditionStack[Ze]:"INITIAL"},pushState:function(Ze){this.begin(Ze)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Ze,Lt,Ve,Mn){switch(Ve){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return At}();xt.lexer=Tt;function wt(){this.yy={}}return wt.prototype=xt,xt.Parser=wt,new wt}();nde.parser=nde;const PIe=nde,TSt=(s,o)=>{var f;return((f=o==null?void 0:o.class)==null?void 0:f.defaultRenderer)==="dagre-wrapper"?!1:s.match(/^\s*classDiagram/)!==null},_St=(s,o)=>{var f;return s.match(/^\s*classDiagram/)!==null&&((f=o==null?void 0:o.class)==null?void 0:f.defaultRenderer)==="dagre-wrapper"?!0:s.match(/^\s*classDiagram-v2/)!==null},rde="classid-";let ide=[],af={},yK=[],BIe=0,PN=[];const BN=s=>xa.sanitizeText(s,Pt()),CSt=function(s,o,f){Fl.parseDirective(this,s,o,f)},FN=function(s){let o="",f=s;if(s.indexOf("~")>0){let p=s.split("~");f=p[0],o=xa.sanitizeText(p[1],Pt())}return{className:f,type:o}},sde=function(s){let o=FN(s);af[o.className]===void 0&&(af[o.className]={id:o.className,type:o.type,cssClasses:[],methods:[],members:[],annotations:[],domId:rde+o.className+"-"+BIe},BIe++)},FIe=function(s){const o=Object.keys(af);for(const f of o)if(af[f].id===s)return af[f].domId},SSt=function(){ide=[],af={},yK=[],PN=[],PN.push(jIe),tp()},ASt=function(s){return af[s]},LSt=function(){return af},MSt=function(){return ide},DSt=function(){return yK},ISt=function(s){je.debug("Adding relation: "+JSON.stringify(s)),sde(s.id1),sde(s.id2),s.id1=FN(s.id1).className,s.id2=FN(s.id2).className,s.relationTitle1=xa.sanitizeText(s.relationTitle1.trim(),Pt()),s.relationTitle2=xa.sanitizeText(s.relationTitle2.trim(),Pt()),ide.push(s)},OSt=function(s,o){const f=FN(s).className;af[f].annotations.push(o)},RIe=function(s,o){const f=FN(s).className,p=af[f];if(typeof o=="string"){const w=o.trim();w.startsWith("<<")&&w.endsWith(">>")?p.annotations.push(BN(w.substring(2,w.length-2))):w.indexOf(")")>0?p.methods.push(BN(w)):w&&p.members.push(BN(w))}},NSt=function(s,o){Array.isArray(o)&&(o.reverse(),o.forEach(f=>RIe(s,f)))},PSt=function(s,o){const f={id:`note${yK.length}`,class:o,text:s};yK.push(f)},BSt=function(s){return s.substring(0,1)===":"?xa.sanitizeText(s.substr(1).trim(),Pt()):BN(s.trim())},ade=function(s,o){s.split(",").forEach(function(f){let p=f;f[0].match(/\d/)&&(p=rde+p),af[p]!==void 0&&af[p].cssClasses.push(o)})},FSt=function(s,o){const f=Pt();s.split(",").forEach(function(p){o!==void 0&&(af[p].tooltip=xa.sanitizeText(o,f))})},RSt=function(s){return af[s].tooltip},jSt=function(s,o,f){const p=Pt();s.split(",").forEach(function(w){let k=w;w[0].match(/\d/)&&(k=rde+k),af[k]!==void 0&&(af[k].link=Pa.formatUrl(o,p),p.securityLevel==="sandbox"?af[k].linkTarget="_top":typeof f=="string"?af[k].linkTarget=BN(f):af[k].linkTarget="_blank")}),ade(s,"clickable")},$St=function(s,o,f){s.split(",").forEach(function(p){HSt(p,o,f),af[p].haveCallback=!0}),ade(s,"clickable")},HSt=function(s,o,f){const p=Pt();let w=s,k=FIe(w);if(p.securityLevel==="loose"&&o!==void 0&&af[w]!==void 0){let b=[];if(typeof f=="string"){b=f.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let _=0;_<b.length;_++){let A=b[_].trim();A.charAt(0)==='"'&&A.charAt(A.length-1)==='"'&&(A=A.substr(1,A.length-2)),b[_]=A}}b.length===0&&b.push(k),PN.push(function(){const _=document.querySelector(`[id="${k}"]`);_!==null&&_.addEventListener("click",function(){Pa.runFunc(o,...b)},!1)})}},zSt=function(s){PN.forEach(function(o){o(s)})},GSt={LINE:0,DOTTED_LINE:1},qSt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},jIe=function(s){let o=sr(".mermaidTooltip");(o._groups||o)[0][0]===null&&(o=sr("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),sr(s).select("svg").selectAll("g.node").on("mouseover",function(){const w=sr(this);if(w.attr("title")===null)return;const b=this.getBoundingClientRect();o.transition().duration(200).style("opacity",".9"),o.text(w.attr("title")).style("left",window.scrollX+b.left+(b.right-b.left)/2+"px").style("top",window.scrollY+b.top-14+document.body.scrollTop+"px"),o.html(o.html().replace(/&lt;br\/&gt;/g,"<br/>")),w.classed("hover",!0)}).on("mouseout",function(){o.transition().duration(500).style("opacity",0),sr(this).classed("hover",!1)})};PN.push(jIe);let $Ie="TB";const SA={parseDirective:CSt,setAccTitle:np,getAccTitle:C2,getAccDescription:A2,setAccDescription:S2,getConfig:()=>Pt().class,addClass:sde,bindFunctions:zSt,clear:SSt,getClass:ASt,getClasses:LSt,getNotes:DSt,addAnnotation:OSt,addNote:PSt,getRelations:MSt,addRelation:ISt,getDirection:()=>$Ie,setDirection:s=>{$Ie=s},addMember:RIe,addMembers:NSt,cleanupLabel:BSt,lineType:GSt,relationType:qSt,setClickEvent:$St,setCssClass:ade,setLink:jSt,getTooltip:RSt,setTooltip:FSt,lookUpDomId:FIe,setDiagramTitle:Kw,getDiagramTitle:Ww};function s3(s){return s!=null&&typeof s=="object"}var VSt="[object Symbol]";function QE(s){return typeof s=="symbol"||s3(s)&&HE(s)==VSt}function AA(s,o){for(var f=-1,p=s==null?0:s.length,w=Array(p);++f<p;)w[f]=o(s[f],f,s);return w}var USt=Array.isArray;const jf=USt;var KSt=1/0,HIe=Gb?Gb.prototype:void 0,zIe=HIe?HIe.toString:void 0;function GIe(s){if(typeof s=="string")return s;if(jf(s))return AA(s,GIe)+"";if(QE(s))return zIe?zIe.call(s):"";var o=s+"";return o=="0"&&1/s==-KSt?"-0":o}var WSt=/\s/;function YSt(s){for(var o=s.length;o--&&WSt.test(s.charAt(o)););return o}var XSt=/^\s+/;function QSt(s){return s&&s.slice(0,YSt(s)+1).replace(XSt,"")}var qIe=0/0,ZSt=/^[-+]0x[0-9a-f]+$/i,JSt=/^0b[01]+$/i,eAt=/^0o[0-7]+$/i,tAt=parseInt;function nAt(s){if(typeof s=="number")return s;if(QE(s))return qIe;if(_2(s)){var o=typeof s.valueOf=="function"?s.valueOf():s;s=_2(o)?o+"":o}if(typeof s!="string")return s===0?s:+s;s=QSt(s);var f=JSt.test(s);return f||eAt.test(s)?tAt(s.slice(2),f?2:8):ZSt.test(s)?qIe:+s}var VIe=1/0,rAt=17976931348623157e292;function kK(s){if(!s)return s===0?s:0;if(s=nAt(s),s===VIe||s===-VIe){var o=s<0?-1:1;return o*rAt}return s===s?s:0}function iAt(s){var o=kK(s),f=o%1;return o===o?f?o-f:o:0}function ZE(s){return s}var sAt=GE(Gw,"WeakMap");const ode=sAt;var UIe=Object.create,aAt=function(){function s(){}return function(o){if(!_2(o))return{};if(UIe)return UIe(o);s.prototype=o;var f=new s;return s.prototype=void 0,f}}();const oAt=aAt;function cAt(s,o,f){switch(f.length){case 0:return s.call(o);case 1:return s.call(o,f[0]);case 2:return s.call(o,f[0],f[1]);case 3:return s.call(o,f[0],f[1],f[2])}return s.apply(o,f)}function uAt(){}function KIe(s,o){var f=-1,p=s.length;for(o||(o=Array(p));++f<p;)o[f]=s[f];return o}var lAt=800,hAt=16,fAt=Date.now;function dAt(s){var o=0,f=0;return function(){var p=fAt(),w=hAt-(p-f);if(f=p,w>0){if(++o>=lAt)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}function LA(s){return function(){return s}}var gAt=function(){try{var s=GE(Object,"defineProperty");return s({},"",{}),s}catch{}}();const xK=gAt;var pAt=xK?function(s,o){return xK(s,"toString",{configurable:!0,enumerable:!1,value:LA(o),writable:!0})}:ZE,bAt=dAt(pAt);const WIe=bAt;function YIe(s,o){for(var f=-1,p=s==null?0:s.length;++f<p&&o(s[f],f,s)!==!1;);return s}function XIe(s,o,f,p){for(var w=s.length,k=f+(p?1:-1);p?k--:++k<w;)if(o(s[k],k,s))return k;return-1}function vAt(s){return s!==s}function wAt(s,o,f){for(var p=f-1,w=s.length;++p<w;)if(s[p]===o)return p;return-1}function mAt(s,o,f){return o===o?wAt(s,o,f):XIe(s,vAt,f)}function yAt(s,o){var f=s==null?0:s.length;return!!f&&mAt(s,o,0)>-1}var kAt=9007199254740991,xAt=/^(?:0|[1-9]\d*)$/;function EK(s,o){var f=typeof s;return o=o??kAt,!!o&&(f=="number"||f!="symbol"&&xAt.test(s))&&s>-1&&s%1==0&&s<o}function TK(s,o,f){o=="__proto__"&&xK?xK(s,o,{configurable:!0,enumerable:!0,value:f,writable:!0}):s[o]=f}var EAt=Object.prototype,TAt=EAt.hasOwnProperty;function _K(s,o,f){var p=s[o];(!(TAt.call(s,o)&&kA(p,f))||f===void 0&&!(o in s))&&TK(s,o,f)}function RN(s,o,f,p){var w=!f;f||(f={});for(var k=-1,b=o.length;++k<b;){var _=o[k],A=p?p(f[_],s[_],_,f,s):void 0;A===void 0&&(A=s[_]),w?TK(f,_,A):_K(f,_,A)}return f}var QIe=Math.max;function ZIe(s,o,f){return o=QIe(o===void 0?s.length-1:o,0),function(){for(var p=arguments,w=-1,k=QIe(p.length-o,0),b=Array(k);++w<k;)b[w]=p[o+w];w=-1;for(var _=Array(o+1);++w<o;)_[w]=p[w];return _[o]=f(b),cAt(s,this,_)}}function CK(s,o){return WIe(ZIe(s,o,ZE),s+"")}var _At=9007199254740991;function cde(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=_At}function e8(s){return s!=null&&cde(s.length)&&!yA(s)}function jN(s,o,f){if(!_2(f))return!1;var p=typeof o;return(p=="number"?e8(f)&&EK(o,f.length):p=="string"&&o in f)?kA(f[o],s):!1}function CAt(s){return CK(function(o,f){var p=-1,w=f.length,k=w>1?f[w-1]:void 0,b=w>2?f[2]:void 0;for(k=s.length>3&&typeof k=="function"?(w--,k):void 0,b&&jN(f[0],f[1],b)&&(k=w<3?void 0:k,w=1),o=Object(o);++p<w;){var _=f[p];_&&s(o,_,p,k)}return o})}var SAt=Object.prototype;function SK(s){var o=s&&s.constructor,f=typeof o=="function"&&o.prototype||SAt;return s===f}function AAt(s,o){for(var f=-1,p=Array(s);++f<s;)p[f]=o(f);return p}var LAt="[object Arguments]";function JIe(s){return s3(s)&&HE(s)==LAt}var eOe=Object.prototype,MAt=eOe.hasOwnProperty,DAt=eOe.propertyIsEnumerable,IAt=JIe(function(){return arguments}())?JIe:function(s){return s3(s)&&MAt.call(s,"callee")&&!DAt.call(s,"callee")};const MA=IAt;function OAt(){return!1}var tOe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nOe=tOe&&typeof module=="object"&&module&&!module.nodeType&&module,NAt=nOe&&nOe.exports===tOe,rOe=NAt?Gw.Buffer:void 0,PAt=rOe?rOe.isBuffer:void 0,BAt=PAt||OAt;const DA=BAt;var FAt="[object Arguments]",RAt="[object Array]",jAt="[object Boolean]",$At="[object Date]",HAt="[object Error]",zAt="[object Function]",GAt="[object Map]",qAt="[object Number]",VAt="[object Object]",UAt="[object RegExp]",KAt="[object Set]",WAt="[object String]",YAt="[object WeakMap]",XAt="[object ArrayBuffer]",QAt="[object DataView]",ZAt="[object Float32Array]",JAt="[object Float64Array]",eLt="[object Int8Array]",tLt="[object Int16Array]",nLt="[object Int32Array]",rLt="[object Uint8Array]",iLt="[object Uint8ClampedArray]",sLt="[object Uint16Array]",aLt="[object Uint32Array]",Tl={};Tl[ZAt]=Tl[JAt]=Tl[eLt]=Tl[tLt]=Tl[nLt]=Tl[rLt]=Tl[iLt]=Tl[sLt]=Tl[aLt]=!0,Tl[FAt]=Tl[RAt]=Tl[XAt]=Tl[jAt]=Tl[QAt]=Tl[$At]=Tl[HAt]=Tl[zAt]=Tl[GAt]=Tl[qAt]=Tl[VAt]=Tl[UAt]=Tl[KAt]=Tl[WAt]=Tl[YAt]=!1;function oLt(s){return s3(s)&&cde(s.length)&&!!Tl[HE(s)]}function AK(s){return function(o){return s(o)}}var iOe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$N=iOe&&typeof module=="object"&&module&&!module.nodeType&&module,cLt=$N&&$N.exports===iOe,ude=cLt&&PDe.process,uLt=function(){try{var s=$N&&$N.require&&$N.require("util").types;return s||ude&&ude.binding&&ude.binding("util")}catch{}}();const IA=uLt;var sOe=IA&&IA.isTypedArray,lLt=sOe?AK(sOe):oLt;const LK=lLt;var hLt=Object.prototype,fLt=hLt.hasOwnProperty;function aOe(s,o){var f=jf(s),p=!f&&MA(s),w=!f&&!p&&DA(s),k=!f&&!p&&!w&&LK(s),b=f||p||w||k,_=b?AAt(s.length,String):[],A=_.length;for(var N in s)(o||fLt.call(s,N))&&!(b&&(N=="length"||w&&(N=="offset"||N=="parent")||k&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||EK(N,A)))&&_.push(N);return _}function oOe(s,o){return function(f){return s(o(f))}}var dLt=oOe(Object.keys,Object);const gLt=dLt;var pLt=Object.prototype,bLt=pLt.hasOwnProperty;function cOe(s){if(!SK(s))return gLt(s);var o=[];for(var f in Object(s))bLt.call(s,f)&&f!="constructor"&&o.push(f);return o}function M2(s){return e8(s)?aOe(s):cOe(s)}function vLt(s){var o=[];if(s!=null)for(var f in Object(s))o.push(f);return o}var wLt=Object.prototype,mLt=wLt.hasOwnProperty;function yLt(s){if(!_2(s))return vLt(s);var o=SK(s),f=[];for(var p in s)p=="constructor"&&(o||!mLt.call(s,p))||f.push(p);return f}function JE(s){return e8(s)?aOe(s,!0):yLt(s)}var kLt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xLt=/^\w*$/;function lde(s,o){if(jf(s))return!1;var f=typeof s;return f=="number"||f=="symbol"||f=="boolean"||s==null||QE(s)?!0:xLt.test(s)||!kLt.test(s)||o!=null&&s in Object(o)}var ELt=500;function TLt(s){var o=xA(s,function(p){return f.size===ELt&&f.clear(),p}),f=o.cache;return o}var _Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,CLt=/\\(\\)?/g,SLt=TLt(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(_Lt,function(f,p,w,k){o.push(w?k.replace(CLt,"$1"):p||f)}),o});const ALt=SLt;function uOe(s){return s==null?"":GIe(s)}function MK(s,o){return jf(s)?s:lde(s,o)?[s]:ALt(uOe(s))}var LLt=1/0;function HN(s){if(typeof s=="string"||QE(s))return s;var o=s+"";return o=="0"&&1/s==-LLt?"-0":o}function DK(s,o){o=MK(o,s);for(var f=0,p=o.length;s!=null&&f<p;)s=s[HN(o[f++])];return f&&f==p?s:void 0}function MLt(s,o,f){var p=s==null?void 0:DK(s,o);return p===void 0?f:p}function hde(s,o){for(var f=-1,p=o.length,w=s.length;++f<p;)s[w+f]=o[f];return s}var lOe=Gb?Gb.isConcatSpreadable:void 0;function DLt(s){return jf(s)||MA(s)||!!(lOe&&s&&s[lOe])}function IK(s,o,f,p,w){var k=-1,b=s.length;for(f||(f=DLt),w||(w=[]);++k<b;){var _=s[k];o>0&&f(_)?o>1?IK(_,o-1,f,p,w):hde(w,_):p||(w[w.length]=_)}return w}function OA(s){var o=s==null?0:s.length;return o?IK(s,1):[]}function ILt(s){return WIe(ZIe(s,void 0,OA),s+"")}var OLt=oOe(Object.getPrototypeOf,Object);const fde=OLt;var NLt="[object Object]",PLt=Function.prototype,BLt=Object.prototype,hOe=PLt.toString,FLt=BLt.hasOwnProperty,RLt=hOe.call(Object);function fOe(s){if(!s3(s)||HE(s)!=NLt)return!1;var o=fde(s);if(o===null)return!0;var f=FLt.call(o,"constructor")&&o.constructor;return typeof f=="function"&&f instanceof f&&hOe.call(f)==RLt}function jLt(s,o,f,p){var w=-1,k=s==null?0:s.length;for(p&&k&&(f=s[++w]);++w<k;)f=o(f,s[w],w,s);return f}function $Lt(){this.__data__=new g5,this.size=0}function HLt(s){var o=this.__data__,f=o.delete(s);return this.size=o.size,f}function zLt(s){return this.__data__.get(s)}function GLt(s){return this.__data__.has(s)}var qLt=200;function VLt(s,o){var f=this.__data__;if(f instanceof g5){var p=f.__data__;if(!EN||p.length<qLt-1)return p.push([s,o]),this.size=++f.size,this;f=this.__data__=new p5(p)}return f.set(s,o),this.size=f.size,this}function Zw(s){var o=this.__data__=new g5(s);this.size=o.size}Zw.prototype.clear=$Lt,Zw.prototype.delete=HLt,Zw.prototype.get=zLt,Zw.prototype.has=GLt,Zw.prototype.set=VLt;function ULt(s,o){return s&&RN(o,M2(o),s)}function KLt(s,o){return s&&RN(o,JE(o),s)}var dOe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gOe=dOe&&typeof module=="object"&&module&&!module.nodeType&&module,WLt=gOe&&gOe.exports===dOe,pOe=WLt?Gw.Buffer:void 0,bOe=pOe?pOe.allocUnsafe:void 0;function vOe(s,o){if(o)return s.slice();var f=s.length,p=bOe?bOe(f):new s.constructor(f);return s.copy(p),p}function wOe(s,o){for(var f=-1,p=s==null?0:s.length,w=0,k=[];++f<p;){var b=s[f];o(b,f,s)&&(k[w++]=b)}return k}function mOe(){return[]}var YLt=Object.prototype,XLt=YLt.propertyIsEnumerable,yOe=Object.getOwnPropertySymbols,QLt=yOe?function(s){return s==null?[]:(s=Object(s),wOe(yOe(s),function(o){return XLt.call(s,o)}))}:mOe;const dde=QLt;function ZLt(s,o){return RN(s,dde(s),o)}var JLt=Object.getOwnPropertySymbols,eMt=JLt?function(s){for(var o=[];s;)hde(o,dde(s)),s=fde(s);return o}:mOe;const kOe=eMt;function tMt(s,o){return RN(s,kOe(s),o)}function xOe(s,o,f){var p=o(s);return jf(s)?p:hde(p,f(s))}function gde(s){return xOe(s,M2,dde)}function nMt(s){return xOe(s,JE,kOe)}var rMt=GE(Gw,"DataView");const pde=rMt;var iMt=GE(Gw,"Promise");const bde=iMt;var sMt=GE(Gw,"Set");const NA=sMt;var EOe="[object Map]",aMt="[object Object]",TOe="[object Promise]",_Oe="[object Set]",COe="[object WeakMap]",SOe="[object DataView]",oMt=zE(pde),cMt=zE(EN),uMt=zE(bde),lMt=zE(NA),hMt=zE(ode),e9=HE;(pde&&e9(new pde(new ArrayBuffer(1)))!=SOe||EN&&e9(new EN)!=EOe||bde&&e9(bde.resolve())!=TOe||NA&&e9(new NA)!=_Oe||ode&&e9(new ode)!=COe)&&(e9=function(s){var o=HE(s),f=o==aMt?s.constructor:void 0,p=f?zE(f):"";if(p)switch(p){case oMt:return SOe;case cMt:return EOe;case uMt:return TOe;case lMt:return _Oe;case hMt:return COe}return o});const PA=e9;var fMt=Object.prototype,dMt=fMt.hasOwnProperty;function gMt(s){var o=s.length,f=new s.constructor(o);return o&&typeof s[0]=="string"&&dMt.call(s,"index")&&(f.index=s.index,f.input=s.input),f}var pMt=Gw.Uint8Array;const OK=pMt;function vde(s){var o=new s.constructor(s.byteLength);return new OK(o).set(new OK(s)),o}function bMt(s,o){var f=o?vde(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.byteLength)}var vMt=/\w*$/;function wMt(s){var o=new s.constructor(s.source,vMt.exec(s));return o.lastIndex=s.lastIndex,o}var AOe=Gb?Gb.prototype:void 0,LOe=AOe?AOe.valueOf:void 0;function mMt(s){return LOe?Object(LOe.call(s)):{}}function MOe(s,o){var f=o?vde(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.length)}var yMt="[object Boolean]",kMt="[object Date]",xMt="[object Map]",EMt="[object Number]",TMt="[object RegExp]",_Mt="[object Set]",CMt="[object String]",SMt="[object Symbol]",AMt="[object ArrayBuffer]",LMt="[object DataView]",MMt="[object Float32Array]",DMt="[object Float64Array]",IMt="[object Int8Array]",OMt="[object Int16Array]",NMt="[object Int32Array]",PMt="[object Uint8Array]",BMt="[object Uint8ClampedArray]",FMt="[object Uint16Array]",RMt="[object Uint32Array]";function jMt(s,o,f){var p=s.constructor;switch(o){case AMt:return vde(s);case yMt:case kMt:return new p(+s);case LMt:return bMt(s,f);case MMt:case DMt:case IMt:case OMt:case NMt:case PMt:case BMt:case FMt:case RMt:return MOe(s,f);case xMt:return new p;case EMt:case CMt:return new p(s);case TMt:return wMt(s);case _Mt:return new p;case SMt:return mMt(s)}}function DOe(s){return typeof s.constructor=="function"&&!SK(s)?oAt(fde(s)):{}}var $Mt="[object Map]";function HMt(s){return s3(s)&&PA(s)==$Mt}var IOe=IA&&IA.isMap,zMt=IOe?AK(IOe):HMt;const GMt=zMt;var qMt="[object Set]";function VMt(s){return s3(s)&&PA(s)==qMt}var OOe=IA&&IA.isSet,UMt=OOe?AK(OOe):VMt;const KMt=UMt;var WMt=1,YMt=2,XMt=4,NOe="[object Arguments]",QMt="[object Array]",ZMt="[object Boolean]",JMt="[object Date]",eDt="[object Error]",POe="[object Function]",tDt="[object GeneratorFunction]",nDt="[object Map]",rDt="[object Number]",BOe="[object Object]",iDt="[object RegExp]",sDt="[object Set]",aDt="[object String]",oDt="[object Symbol]",cDt="[object WeakMap]",uDt="[object ArrayBuffer]",lDt="[object DataView]",hDt="[object Float32Array]",fDt="[object Float64Array]",dDt="[object Int8Array]",gDt="[object Int16Array]",pDt="[object Int32Array]",bDt="[object Uint8Array]",vDt="[object Uint8ClampedArray]",wDt="[object Uint16Array]",mDt="[object Uint32Array]",hl={};hl[NOe]=hl[QMt]=hl[uDt]=hl[lDt]=hl[ZMt]=hl[JMt]=hl[hDt]=hl[fDt]=hl[dDt]=hl[gDt]=hl[pDt]=hl[nDt]=hl[rDt]=hl[BOe]=hl[iDt]=hl[sDt]=hl[aDt]=hl[oDt]=hl[bDt]=hl[vDt]=hl[wDt]=hl[mDt]=!0,hl[eDt]=hl[POe]=hl[cDt]=!1;function zN(s,o,f,p,w,k){var b,_=o&WMt,A=o&YMt,N=o&XMt;if(f&&(b=w?f(s,p,w,k):f(s)),b!==void 0)return b;if(!_2(s))return s;var B=jf(s);if(B){if(b=gMt(s),!_)return KIe(s,b)}else{var F=PA(s),H=F==POe||F==tDt;if(DA(s))return vOe(s,_);if(F==BOe||F==NOe||H&&!w){if(b=A||H?{}:DOe(s),!_)return A?tMt(s,KLt(b,s)):ZLt(s,ULt(b,s))}else{if(!hl[F])return w?s:{};b=jMt(s,F,_)}}k||(k=new Zw);var j=k.get(s);if(j)return j;k.set(s,b),KMt(s)?s.forEach(function(ae){b.add(zN(ae,o,f,ae,s,k))}):GMt(s)&&s.forEach(function(ae,le){b.set(le,zN(ae,o,f,le,s,k))});var V=N?A?nMt:gde:A?JE:M2,Z=B?void 0:V(s);return YIe(Z||s,function(ae,le){Z&&(le=ae,ae=s[le]),_K(b,le,zN(ae,o,f,le,s,k))}),b}var yDt=4;function kDt(s){return zN(s,yDt)}var xDt=1,EDt=4;function TDt(s){return zN(s,xDt|EDt)}var _Dt="__lodash_hash_undefined__";function CDt(s){return this.__data__.set(s,_Dt),this}function SDt(s){return this.__data__.has(s)}function GN(s){var o=-1,f=s==null?0:s.length;for(this.__data__=new p5;++o<f;)this.add(s[o])}GN.prototype.add=GN.prototype.push=CDt,GN.prototype.has=SDt;function ADt(s,o){for(var f=-1,p=s==null?0:s.length;++f<p;)if(o(s[f],f,s))return!0;return!1}function FOe(s,o){return s.has(o)}var LDt=1,MDt=2;function ROe(s,o,f,p,w,k){var b=f&LDt,_=s.length,A=o.length;if(_!=A&&!(b&&A>_))return!1;var N=k.get(s),B=k.get(o);if(N&&B)return N==o&&B==s;var F=-1,H=!0,j=f&MDt?new GN:void 0;for(k.set(s,o),k.set(o,s);++F<_;){var V=s[F],Z=o[F];if(p)var ae=b?p(Z,V,F,o,s,k):p(V,Z,F,s,o,k);if(ae!==void 0){if(ae)continue;H=!1;break}if(j){if(!ADt(o,function(le,ce){if(!FOe(j,ce)&&(V===le||w(V,le,f,p,k)))return j.push(ce)})){H=!1;break}}else if(!(V===Z||w(V,Z,f,p,k))){H=!1;break}}return k.delete(s),k.delete(o),H}function DDt(s){var o=-1,f=Array(s.size);return s.forEach(function(p,w){f[++o]=[w,p]}),f}function wde(s){var o=-1,f=Array(s.size);return s.forEach(function(p){f[++o]=p}),f}var IDt=1,ODt=2,NDt="[object Boolean]",PDt="[object Date]",BDt="[object Error]",FDt="[object Map]",RDt="[object Number]",jDt="[object RegExp]",$Dt="[object Set]",HDt="[object String]",zDt="[object Symbol]",GDt="[object ArrayBuffer]",qDt="[object DataView]",jOe=Gb?Gb.prototype:void 0,mde=jOe?jOe.valueOf:void 0;function VDt(s,o,f,p,w,k,b){switch(f){case qDt:if(s.byteLength!=o.byteLength||s.byteOffset!=o.byteOffset)return!1;s=s.buffer,o=o.buffer;case GDt:return!(s.byteLength!=o.byteLength||!k(new OK(s),new OK(o)));case NDt:case PDt:case RDt:return kA(+s,+o);case BDt:return s.name==o.name&&s.message==o.message;case jDt:case HDt:return s==o+"";case FDt:var _=DDt;case $Dt:var A=p&IDt;if(_||(_=wde),s.size!=o.size&&!A)return!1;var N=b.get(s);if(N)return N==o;p|=ODt,b.set(s,o);var B=ROe(_(s),_(o),p,w,k,b);return b.delete(s),B;case zDt:if(mde)return mde.call(s)==mde.call(o)}return!1}var UDt=1,KDt=Object.prototype,WDt=KDt.hasOwnProperty;function YDt(s,o,f,p,w,k){var b=f&UDt,_=gde(s),A=_.length,N=gde(o),B=N.length;if(A!=B&&!b)return!1;for(var F=A;F--;){var H=_[F];if(!(b?H in o:WDt.call(o,H)))return!1}var j=k.get(s),V=k.get(o);if(j&&V)return j==o&&V==s;var Z=!0;k.set(s,o),k.set(o,s);for(var ae=b;++F<A;){H=_[F];var le=s[H],ce=o[H];if(p)var be=b?p(ce,le,H,o,s,k):p(le,ce,H,s,o,k);if(!(be===void 0?le===ce||w(le,ce,f,p,k):be)){Z=!1;break}ae||(ae=H=="constructor")}if(Z&&!ae){var xe=s.constructor,Ee=o.constructor;xe!=Ee&&"constructor"in s&&"constructor"in o&&!(typeof xe=="function"&&xe instanceof xe&&typeof Ee=="function"&&Ee instanceof Ee)&&(Z=!1)}return k.delete(s),k.delete(o),Z}var XDt=1,$Oe="[object Arguments]",HOe="[object Array]",NK="[object Object]",QDt=Object.prototype,zOe=QDt.hasOwnProperty;function ZDt(s,o,f,p,w,k){var b=jf(s),_=jf(o),A=b?HOe:PA(s),N=_?HOe:PA(o);A=A==$Oe?NK:A,N=N==$Oe?NK:N;var B=A==NK,F=N==NK,H=A==N;if(H&&DA(s)){if(!DA(o))return!1;b=!0,B=!1}if(H&&!B)return k||(k=new Zw),b||LK(s)?ROe(s,o,f,p,w,k):VDt(s,o,A,f,p,w,k);if(!(f&XDt)){var j=B&&zOe.call(s,"__wrapped__"),V=F&&zOe.call(o,"__wrapped__");if(j||V){var Z=j?s.value():s,ae=V?o.value():o;return k||(k=new Zw),w(Z,ae,f,p,k)}}return H?(k||(k=new Zw),YDt(s,o,f,p,w,k)):!1}function yde(s,o,f,p,w){return s===o?!0:s==null||o==null||!s3(s)&&!s3(o)?s!==s&&o!==o:ZDt(s,o,f,p,yde,w)}var JDt=1,eIt=2;function tIt(s,o,f,p){var w=f.length,k=w,b=!p;if(s==null)return!k;for(s=Object(s);w--;){var _=f[w];if(b&&_[2]?_[1]!==s[_[0]]:!(_[0]in s))return!1}for(;++w<k;){_=f[w];var A=_[0],N=s[A],B=_[1];if(b&&_[2]){if(N===void 0&&!(A in s))return!1}else{var F=new Zw;if(p)var H=p(N,B,A,s,o,F);if(!(H===void 0?yde(B,N,JDt|eIt,p,F):H))return!1}}return!0}function GOe(s){return s===s&&!_2(s)}function nIt(s){for(var o=M2(s),f=o.length;f--;){var p=o[f],w=s[p];o[f]=[p,w,GOe(w)]}return o}function qOe(s,o){return function(f){return f==null?!1:f[s]===o&&(o!==void 0||s in Object(f))}}function rIt(s){var o=nIt(s);return o.length==1&&o[0][2]?qOe(o[0][0],o[0][1]):function(f){return f===s||tIt(f,s,o)}}function iIt(s,o){return s!=null&&o in Object(s)}function VOe(s,o,f){o=MK(o,s);for(var p=-1,w=o.length,k=!1;++p<w;){var b=HN(o[p]);if(!(k=s!=null&&f(s,b)))break;s=s[b]}return k||++p!=w?k:(w=s==null?0:s.length,!!w&&cde(w)&&EK(b,w)&&(jf(s)||MA(s)))}function UOe(s,o){return s!=null&&VOe(s,o,iIt)}var sIt=1,aIt=2;function oIt(s,o){return lde(s)&&GOe(o)?qOe(HN(s),o):function(f){var p=MLt(f,s);return p===void 0&&p===o?UOe(f,s):yde(o,p,sIt|aIt)}}function cIt(s){return function(o){return o==null?void 0:o[s]}}function uIt(s){return function(o){return DK(o,s)}}function lIt(s){return lde(s)?cIt(HN(s)):uIt(s)}function t8(s){return typeof s=="function"?s:s==null?ZE:typeof s=="object"?jf(s)?oIt(s[0],s[1]):rIt(s):lIt(s)}function hIt(s){return function(o,f,p){for(var w=-1,k=Object(o),b=p(o),_=b.length;_--;){var A=b[s?_:++w];if(f(k[A],A,k)===!1)break}return o}}var fIt=hIt();const kde=fIt;function KOe(s,o){return s&&kde(s,o,M2)}function dIt(s,o){return function(f,p){if(f==null)return f;if(!e8(f))return s(f,p);for(var w=f.length,k=o?w:-1,b=Object(f);(o?k--:++k<w)&&p(b[k],k,b)!==!1;);return f}}var gIt=dIt(KOe);const PK=gIt;var pIt=function(){return Gw.Date.now()};const WOe=pIt;var YOe=Object.prototype,bIt=YOe.hasOwnProperty,vIt=CK(function(s,o){s=Object(s);var f=-1,p=o.length,w=p>2?o[2]:void 0;for(w&&jN(o[0],o[1],w)&&(p=1);++f<p;)for(var k=o[f],b=JE(k),_=-1,A=b.length;++_<A;){var N=b[_],B=s[N];(B===void 0||kA(B,YOe[N])&&!bIt.call(s,N))&&(s[N]=k[N])}return s});const BA=vIt;function xde(s,o,f){(f!==void 0&&!kA(s[o],f)||f===void 0&&!(o in s))&&TK(s,o,f)}function XOe(s){return s3(s)&&e8(s)}function Ede(s,o){if(!(o==="constructor"&&typeof s[o]=="function")&&o!="__proto__")return s[o]}function wIt(s){return RN(s,JE(s))}function mIt(s,o,f,p,w,k,b){var _=Ede(s,f),A=Ede(o,f),N=b.get(A);if(N){xde(s,f,N);return}var B=k?k(_,A,f+"",s,o,b):void 0,F=B===void 0;if(F){var H=jf(A),j=!H&&DA(A),V=!H&&!j&&LK(A);B=A,H||j||V?jf(_)?B=_:XOe(_)?B=KIe(_):j?(F=!1,B=vOe(A,!0)):V?(F=!1,B=MOe(A,!0)):B=[]:fOe(A)||MA(A)?(B=_,MA(_)?B=wIt(_):(!_2(_)||yA(_))&&(B=DOe(A))):F=!1}F&&(b.set(A,B),w(B,A,p,k,b),b.delete(A)),xde(s,f,B)}function QOe(s,o,f,p,w){s!==o&&kde(o,function(k,b){if(w||(w=new Zw),_2(k))mIt(s,o,b,f,QOe,p,w);else{var _=p?p(Ede(s,b),k,b+"",s,o,w):void 0;_===void 0&&(_=k),xde(s,b,_)}},JE)}function yIt(s,o,f){for(var p=-1,w=s==null?0:s.length;++p<w;)if(f(o,s[p]))return!0;return!1}function BK(s){var o=s==null?0:s.length;return o?s[o-1]:void 0}function ZOe(s){return typeof s=="function"?s:ZE}function hr(s,o){var f=jf(s)?YIe:PK;return f(s,ZOe(o))}function kIt(s,o){var f=[];return PK(s,function(p,w,k){o(p,w,k)&&f.push(p)}),f}function v5(s,o){var f=jf(s)?wOe:kIt;return f(s,t8(o))}function xIt(s){return function(o,f,p){var w=Object(o);if(!e8(o)){var k=t8(f);o=M2(o),f=function(_){return k(w[_],_,w)}}var b=s(o,f,p);return b>-1?w[k?o[b]:b]:void 0}}var EIt=Math.max;function TIt(s,o,f){var p=s==null?0:s.length;if(!p)return-1;var w=f==null?0:iAt(f);return w<0&&(w=EIt(p+w,0)),XIe(s,t8(o),w)}var _It=xIt(TIt);const Tde=_It;function JOe(s,o){var f=-1,p=e8(s)?Array(s.length):[];return PK(s,function(w,k,b){p[++f]=o(w,k,b)}),p}function $f(s,o){var f=jf(s)?AA:JOe;return f(s,t8(o))}function CIt(s,o){return s==null?s:kde(s,ZOe(o),JE)}function SIt(s,o){return s>o}var AIt=Object.prototype,LIt=AIt.hasOwnProperty;function MIt(s,o){return s!=null&&LIt.call(s,o)}function eo(s,o){return s!=null&&VOe(s,o,MIt)}function DIt(s,o){return AA(o,function(f){return s[f]})}function w5(s){return s==null?[]:DIt(s,M2(s))}var IIt="[object Map]",OIt="[object Set]",NIt=Object.prototype,PIt=NIt.hasOwnProperty;function FA(s){if(s==null)return!0;if(e8(s)&&(jf(s)||typeof s=="string"||typeof s.splice=="function"||DA(s)||LK(s)||MA(s)))return!s.length;var o=PA(s);if(o==IIt||o==OIt)return!s.size;if(SK(s))return!cOe(s).length;for(var f in s)if(PIt.call(s,f))return!1;return!0}function of(s){return s===void 0}function eNe(s,o){return s<o}function FK(s,o){var f={};return o=t8(o),KOe(s,function(p,w,k){TK(f,w,o(p,w,k))}),f}function _de(s,o,f){for(var p=-1,w=s.length;++p<w;){var k=s[p],b=o(k);if(b!=null&&(_===void 0?b===b&&!QE(b):f(b,_)))var _=b,A=k}return A}function t9(s){return s&&s.length?_de(s,ZE,SIt):void 0}var BIt=CAt(function(s,o,f){QOe(s,o,f)});const Cde=BIt;function qN(s){return s&&s.length?_de(s,ZE,eNe):void 0}function Sde(s,o){return s&&s.length?_de(s,t8(o),eNe):void 0}function FIt(s,o,f,p){if(!_2(s))return s;o=MK(o,s);for(var w=-1,k=o.length,b=k-1,_=s;_!=null&&++w<k;){var A=HN(o[w]),N=f;if(A==="__proto__"||A==="constructor"||A==="prototype")return s;if(w!=b){var B=_[A];N=p?p(B,A,_):void 0,N===void 0&&(N=_2(B)?B:EK(o[w+1])?[]:{})}_K(_,A,N),_=_[A]}return s}function RIt(s,o,f){for(var p=-1,w=o.length,k={};++p<w;){var b=o[p],_=DK(s,b);f(_,b)&&FIt(k,MK(b,s),_)}return k}function jIt(s,o){var f=s.length;for(s.sort(o);f--;)s[f]=s[f].value;return s}function $It(s,o){if(s!==o){var f=s!==void 0,p=s===null,w=s===s,k=QE(s),b=o!==void 0,_=o===null,A=o===o,N=QE(o);if(!_&&!N&&!k&&s>o||k&&b&&A&&!_&&!N||p&&b&&A||!f&&A||!w)return 1;if(!p&&!k&&!N&&s<o||N&&f&&w&&!p&&!k||_&&f&&w||!b&&w||!A)return-1}return 0}function HIt(s,o,f){for(var p=-1,w=s.criteria,k=o.criteria,b=w.length,_=f.length;++p<b;){var A=$It(w[p],k[p]);if(A){if(p>=_)return A;var N=f[p];return A*(N=="desc"?-1:1)}}return s.index-o.index}function zIt(s,o,f){o.length?o=AA(o,function(k){return jf(k)?function(b){return DK(b,k.length===1?k[0]:k)}:k}):o=[ZE];var p=-1;o=AA(o,AK(t8));var w=JOe(s,function(k,b,_){var A=AA(o,function(N){return N(k)});return{criteria:A,index:++p,value:k}});return jIt(w,function(k,b){return HIt(k,b,f)})}function GIt(s,o){return RIt(s,o,function(f,p){return UOe(s,p)})}var qIt=ILt(function(s,o){return s==null?{}:GIt(s,o)});const VN=qIt;var VIt=Math.ceil,UIt=Math.max;function KIt(s,o,f,p){for(var w=-1,k=UIt(VIt((o-s)/(f||1)),0),b=Array(k);k--;)b[p?k:++w]=s,s+=f;return b}function WIt(s){return function(o,f,p){return p&&typeof p!="number"&&jN(o,f,p)&&(f=p=void 0),o=kK(o),f===void 0?(f=o,o=0):f=kK(f),p=p===void 0?o<f?1:-1:kK(p),KIt(o,f,p,s)}}var YIt=WIt();const n9=YIt;function XIt(s,o,f,p,w){return w(s,function(k,b,_){f=p?(p=!1,k):o(f,k,b,_)}),f}function UN(s,o,f){var p=jf(s)?jLt:XIt,w=arguments.length<3;return p(s,t8(o),f,w,PK)}var QIt=CK(function(s,o){if(s==null)return[];var f=o.length;return f>1&&jN(s,o[0],o[1])?o=[]:f>2&&jN(o[0],o[1],o[2])&&(o=[o[0]]),zIt(s,IK(o,1),[])});const KN=QIt;var ZIt=1/0,JIt=NA&&1/wde(new NA([,-0]))[1]==ZIt?function(s){return new NA(s)}:uAt;const eOt=JIt;var tOt=200;function nOt(s,o,f){var p=-1,w=yAt,k=s.length,b=!0,_=[],A=_;if(f)b=!1,w=yIt;else if(k>=tOt){var N=o?null:eOt(s);if(N)return wde(N);b=!1,w=FOe,A=new GN}else A=o?[]:_;e:for(;++p<k;){var B=s[p],F=o?o(B):B;if(B=f||B!==0?B:0,b&&F===F){for(var H=A.length;H--;)if(A[H]===F)continue e;o&&A.push(F),_.push(B)}else w(A,F,f)||(A!==_&&A.push(F),_.push(B))}return _}var rOt=CK(function(s){return nOt(IK(s,1,XOe,!0))});const iOt=rOt;var sOt=0;function RK(s){var o=++sOt;return uOe(s)+o}function aOt(s,o,f){for(var p=-1,w=s.length,k=o.length,b={};++p<w;){var _=p<k?o[p]:void 0;f(b,s[p],_)}return b}function oOt(s,o){return aOt(s||[],o||[],_K)}var cOt="\0",r9="\0",tNe="";class Hf{constructor(o={}){this._isDirected=eo(o,"directed")?o.directed:!0,this._isMultigraph=eo(o,"multigraph")?o.multigraph:!1,this._isCompound=eo(o,"compound")?o.compound:!1,this._label=void 0,this._defaultNodeLabelFn=LA(void 0),this._defaultEdgeLabelFn=LA(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r9]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(o){return this._label=o,this}graph(){return this._label}setDefaultNodeLabel(o){return yA(o)||(o=LA(o)),this._defaultNodeLabelFn=o,this}nodeCount(){return this._nodeCount}nodes(){return M2(this._nodes)}sources(){var o=this;return v5(this.nodes(),function(f){return FA(o._in[f])})}sinks(){var o=this;return v5(this.nodes(),function(f){return FA(o._out[f])})}setNodes(o,f){var p=arguments,w=this;return hr(o,function(k){p.length>1?w.setNode(k,f):w.setNode(k)}),this}setNode(o,f){return eo(this._nodes,o)?(arguments.length>1&&(this._nodes[o]=f),this):(this._nodes[o]=arguments.length>1?f:this._defaultNodeLabelFn(o),this._isCompound&&(this._parent[o]=r9,this._children[o]={},this._children[r9][o]=!0),this._in[o]={},this._preds[o]={},this._out[o]={},this._sucs[o]={},++this._nodeCount,this)}node(o){return this._nodes[o]}hasNode(o){return eo(this._nodes,o)}removeNode(o){var f=this;if(eo(this._nodes,o)){var p=function(w){f.removeEdge(f._edgeObjs[w])};delete this._nodes[o],this._isCompound&&(this._removeFromParentsChildList(o),delete this._parent[o],hr(this.children(o),function(w){f.setParent(w)}),delete this._children[o]),hr(M2(this._in[o]),p),delete this._in[o],delete this._preds[o],hr(M2(this._out[o]),p),delete this._out[o],delete this._sucs[o],--this._nodeCount}return this}setParent(o,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(of(f))f=r9;else{f+="";for(var p=f;!of(p);p=this.parent(p))if(p===o)throw new Error("Setting "+f+" as parent of "+o+" would create a cycle");this.setNode(f)}return this.setNode(o),this._removeFromParentsChildList(o),this._parent[o]=f,this._children[f][o]=!0,this}_removeFromParentsChildList(o){delete this._children[this._parent[o]][o]}parent(o){if(this._isCompound){var f=this._parent[o];if(f!==r9)return f}}children(o){if(of(o)&&(o=r9),this._isCompound){var f=this._children[o];if(f)return M2(f)}else{if(o===r9)return this.nodes();if(this.hasNode(o))return[]}}predecessors(o){var f=this._preds[o];if(f)return M2(f)}successors(o){var f=this._sucs[o];if(f)return M2(f)}neighbors(o){var f=this.predecessors(o);if(f)return iOt(f,this.successors(o))}isLeaf(o){var f;return this.isDirected()?f=this.successors(o):f=this.neighbors(o),f.length===0}filterNodes(o){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var p=this;hr(this._nodes,function(b,_){o(_)&&f.setNode(_,b)}),hr(this._edgeObjs,function(b){f.hasNode(b.v)&&f.hasNode(b.w)&&f.setEdge(b,p.edge(b))});var w={};function k(b){var _=p.parent(b);return _===void 0||f.hasNode(_)?(w[b]=_,_):_ in w?w[_]:k(_)}return this._isCompound&&hr(f.nodes(),function(b){f.setParent(b,k(b))}),f}setDefaultEdgeLabel(o){return yA(o)||(o=LA(o)),this._defaultEdgeLabelFn=o,this}edgeCount(){return this._edgeCount}edges(){return w5(this._edgeObjs)}setPath(o,f){var p=this,w=arguments;return UN(o,function(k,b){return w.length>1?p.setEdge(k,b,f):p.setEdge(k,b),b}),this}setEdge(){var o,f,p,w,k=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(o=b.v,f=b.w,p=b.name,arguments.length===2&&(w=arguments[1],k=!0)):(o=b,f=arguments[1],p=arguments[3],arguments.length>2&&(w=arguments[2],k=!0)),o=""+o,f=""+f,of(p)||(p=""+p);var _=WN(this._isDirected,o,f,p);if(eo(this._edgeLabels,_))return k&&(this._edgeLabels[_]=w),this;if(!of(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(o),this.setNode(f),this._edgeLabels[_]=k?w:this._defaultEdgeLabelFn(o,f,p);var A=uOt(this._isDirected,o,f,p);return o=A.v,f=A.w,Object.freeze(A),this._edgeObjs[_]=A,nNe(this._preds[f],o),nNe(this._sucs[o],f),this._in[f][_]=A,this._out[o][_]=A,this._edgeCount++,this}edge(o,f,p){var w=arguments.length===1?Ade(this._isDirected,arguments[0]):WN(this._isDirected,o,f,p);return this._edgeLabels[w]}hasEdge(o,f,p){var w=arguments.length===1?Ade(this._isDirected,arguments[0]):WN(this._isDirected,o,f,p);return eo(this._edgeLabels,w)}removeEdge(o,f,p){var w=arguments.length===1?Ade(this._isDirected,arguments[0]):WN(this._isDirected,o,f,p),k=this._edgeObjs[w];return k&&(o=k.v,f=k.w,delete this._edgeLabels[w],delete this._edgeObjs[w],rNe(this._preds[f],o),rNe(this._sucs[o],f),delete this._in[f][w],delete this._out[o][w],this._edgeCount--),this}inEdges(o,f){var p=this._in[o];if(p){var w=w5(p);return f?v5(w,function(k){return k.v===f}):w}}outEdges(o,f){var p=this._out[o];if(p){var w=w5(p);return f?v5(w,function(k){return k.w===f}):w}}nodeEdges(o,f){var p=this.inEdges(o,f);if(p)return p.concat(this.outEdges(o,f))}}Hf.prototype._nodeCount=0,Hf.prototype._edgeCount=0;function nNe(s,o){s[o]?s[o]++:s[o]=1}function rNe(s,o){--s[o]||delete s[o]}function WN(s,o,f,p){var w=""+o,k=""+f;if(!s&&w>k){var b=w;w=k,k=b}return w+tNe+k+tNe+(of(p)?cOt:p)}function uOt(s,o,f,p){var w=""+o,k=""+f;if(!s&&w>k){var b=w;w=k,k=b}var _={v:w,w:k};return p&&(_.name=p),_}function Ade(s,o){return WN(s,o.v,o.w,o.name)}class lOt{constructor(){var o={};o._next=o._prev=o,this._sentinel=o}dequeue(){var o=this._sentinel,f=o._prev;if(f!==o)return iNe(f),f}enqueue(o){var f=this._sentinel;o._prev&&o._next&&iNe(o),o._next=f._next,f._next._prev=o,f._next=o,o._prev=f}toString(){for(var o=[],f=this._sentinel,p=f._prev;p!==f;)o.push(JSON.stringify(p,hOt)),p=p._prev;return"["+o.join(", ")+"]"}}function iNe(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function hOt(s,o){if(s!=="_next"&&s!=="_prev")return o}var fOt=LA(1);function dOt(s,o){if(s.nodeCount()<=1)return[];var f=pOt(s,o||fOt),p=gOt(f.graph,f.buckets,f.zeroIdx);return OA($f(p,function(w){return s.outEdges(w.v,w.w)}))}function gOt(s,o,f){for(var p=[],w=o[o.length-1],k=o[0],b;s.nodeCount();){for(;b=k.dequeue();)Lde(s,o,f,b);for(;b=w.dequeue();)Lde(s,o,f,b);if(s.nodeCount()){for(var _=o.length-2;_>0;--_)if(b=o[_].dequeue(),b){p=p.concat(Lde(s,o,f,b,!0));break}}}return p}function Lde(s,o,f,p,w){var k=w?[]:void 0;return hr(s.inEdges(p.v),function(b){var _=s.edge(b),A=s.node(b.v);w&&k.push({v:b.v,w:b.w}),A.out-=_,Mde(o,f,A)}),hr(s.outEdges(p.v),function(b){var _=s.edge(b),A=b.w,N=s.node(A);N.in-=_,Mde(o,f,N)}),s.removeNode(p.v),k}function pOt(s,o){var f=new Hf,p=0,w=0;hr(s.nodes(),function(_){f.setNode(_,{v:_,in:0,out:0})}),hr(s.edges(),function(_){var A=f.edge(_.v,_.w)||0,N=o(_),B=A+N;f.setEdge(_.v,_.w,B),w=Math.max(w,f.node(_.v).out+=N),p=Math.max(p,f.node(_.w).in+=N)});var k=n9(w+p+3).map(function(){return new lOt}),b=p+1;return hr(f.nodes(),function(_){Mde(k,b,f.node(_))}),{graph:f,buckets:k,zeroIdx:b}}function Mde(s,o,f){f.out?f.in?s[f.out-f.in+o].enqueue(f):s[s.length-1].enqueue(f):s[0].enqueue(f)}function bOt(s){var o=s.graph().acyclicer==="greedy"?dOt(s,f(s)):vOt(s);hr(o,function(p){var w=s.edge(p);s.removeEdge(p),w.forwardName=p.name,w.reversed=!0,s.setEdge(p.w,p.v,w,RK("rev"))});function f(p){return function(w){return p.edge(w).weight}}}function vOt(s){var o=[],f={},p={};function w(k){eo(p,k)||(p[k]=!0,f[k]=!0,hr(s.outEdges(k),function(b){eo(f,b.w)?o.push(b):w(b.w)}),delete f[k])}return hr(s.nodes(),w),o}function wOt(s){hr(s.edges(),function(o){var f=s.edge(o);if(f.reversed){s.removeEdge(o);var p=f.forwardName;delete f.reversed,delete f.forwardName,s.setEdge(o.w,o.v,f,p)}})}function RA(s,o,f,p){var w;do w=RK(p);while(s.hasNode(w));return f.dummy=o,s.setNode(w,f),w}function mOt(s){var o=new Hf().setGraph(s.graph());return hr(s.nodes(),function(f){o.setNode(f,s.node(f))}),hr(s.edges(),function(f){var p=o.edge(f.v,f.w)||{weight:0,minlen:1},w=s.edge(f);o.setEdge(f.v,f.w,{weight:p.weight+w.weight,minlen:Math.max(p.minlen,w.minlen)})}),o}function sNe(s){var o=new Hf({multigraph:s.isMultigraph()}).setGraph(s.graph());return hr(s.nodes(),function(f){s.children(f).length||o.setNode(f,s.node(f))}),hr(s.edges(),function(f){o.setEdge(f,s.edge(f))}),o}function aNe(s,o){var f=s.x,p=s.y,w=o.x-f,k=o.y-p,b=s.width/2,_=s.height/2;if(!w&&!k)throw new Error("Not possible to find intersection inside of the rectangle");var A,N;return Math.abs(k)*b>Math.abs(w)*_?(k<0&&(_=-_),A=_*w/k,N=_):(w<0&&(b=-b),A=b,N=b*k/w),{x:f+A,y:p+N}}function jK(s){var o=$f(n9(cNe(s)+1),function(){return[]});return hr(s.nodes(),function(f){var p=s.node(f),w=p.rank;of(w)||(o[w][p.order]=f)}),o}function yOt(s){var o=qN($f(s.nodes(),function(f){return s.node(f).rank}));hr(s.nodes(),function(f){var p=s.node(f);eo(p,"rank")&&(p.rank-=o)})}function kOt(s){var o=qN($f(s.nodes(),function(k){return s.node(k).rank})),f=[];hr(s.nodes(),function(k){var b=s.node(k).rank-o;f[b]||(f[b]=[]),f[b].push(k)});var p=0,w=s.graph().nodeRankFactor;hr(f,function(k,b){of(k)&&b%w!==0?--p:p&&hr(k,function(_){s.node(_).rank+=p})})}function oNe(s,o,f,p){var w={width:0,height:0};return arguments.length>=4&&(w.rank=f,w.order=p),RA(s,"border",w,o)}function cNe(s){return t9($f(s.nodes(),function(o){var f=s.node(o).rank;if(!of(f))return f}))}function xOt(s,o){var f={lhs:[],rhs:[]};return hr(s,function(p){o(p)?f.lhs.push(p):f.rhs.push(p)}),f}function EOt(s,o){var f=WOe();try{return o()}finally{console.log(s+" time: "+(WOe()-f)+"ms")}}function TOt(s,o){return o()}function _Ot(s){function o(f){var p=s.children(f),w=s.node(f);if(p.length&&hr(p,o),eo(w,"minRank")){w.borderLeft=[],w.borderRight=[];for(var k=w.minRank,b=w.maxRank+1;k<b;++k)uNe(s,"borderLeft","_bl",f,w,k),uNe(s,"borderRight","_br",f,w,k)}}hr(s.children(),o)}function uNe(s,o,f,p,w,k){var b={width:0,height:0,rank:k,borderType:o},_=w[o][k-1],A=RA(s,"border",b,f);w[o][k]=A,s.setParent(A,p),_&&s.setEdge(_,A,{weight:1})}function COt(s){var o=s.graph().rankdir.toLowerCase();(o==="lr"||o==="rl")&&lNe(s)}function SOt(s){var o=s.graph().rankdir.toLowerCase();(o==="bt"||o==="rl")&&AOt(s),(o==="lr"||o==="rl")&&(LOt(s),lNe(s))}function lNe(s){hr(s.nodes(),function(o){hNe(s.node(o))}),hr(s.edges(),function(o){hNe(s.edge(o))})}function hNe(s){var o=s.width;s.width=s.height,s.height=o}function AOt(s){hr(s.nodes(),function(o){Dde(s.node(o))}),hr(s.edges(),function(o){var f=s.edge(o);hr(f.points,Dde),eo(f,"y")&&Dde(f)})}function Dde(s){s.y=-s.y}function LOt(s){hr(s.nodes(),function(o){Ide(s.node(o))}),hr(s.edges(),function(o){var f=s.edge(o);hr(f.points,Ide),eo(f,"x")&&Ide(f)})}function Ide(s){var o=s.x;s.x=s.y,s.y=o}function MOt(s){s.graph().dummyChains=[],hr(s.edges(),function(o){DOt(s,o)})}function DOt(s,o){var f=o.v,p=s.node(f).rank,w=o.w,k=s.node(w).rank,b=o.name,_=s.edge(o),A=_.labelRank;if(k!==p+1){s.removeEdge(o);var N,B,F;for(F=0,++p;p<k;++F,++p)_.points=[],B={width:0,height:0,edgeLabel:_,edgeObj:o,rank:p},N=RA(s,"edge",B,"_d"),p===A&&(B.width=_.width,B.height=_.height,B.dummy="edge-label",B.labelpos=_.labelpos),s.setEdge(f,N,{weight:_.weight},b),F===0&&s.graph().dummyChains.push(N),f=N;s.setEdge(f,w,{weight:_.weight},b)}}function IOt(s){hr(s.graph().dummyChains,function(o){var f=s.node(o),p=f.edgeLabel,w;for(s.setEdge(f.edgeObj,p);f.dummy;)w=s.successors(o)[0],s.removeNode(o),p.points.push({x:f.x,y:f.y}),f.dummy==="edge-label"&&(p.x=f.x,p.y=f.y,p.width=f.width,p.height=f.height),o=w,f=s.node(o)})}function Ode(s){var o={};function f(p){var w=s.node(p);if(eo(o,p))return w.rank;o[p]=!0;var k=qN($f(s.outEdges(p),function(b){return f(b.w)-s.edge(b).minlen}));return(k===Number.POSITIVE_INFINITY||k===void 0||k===null)&&(k=0),w.rank=k}hr(s.sources(),f)}function YN(s,o){return s.node(o.w).rank-s.node(o.v).rank-s.edge(o).minlen}function fNe(s){var o=new Hf({directed:!1}),f=s.nodes()[0],p=s.nodeCount();o.setNode(f,{});for(var w,k;OOt(o,s)<p;)w=NOt(o,s),k=o.hasNode(w.v)?YN(s,w):-YN(s,w),POt(o,s,k);return o}function OOt(s,o){function f(p){hr(o.nodeEdges(p),function(w){var k=w.v,b=p===k?w.w:k;!s.hasNode(b)&&!YN(o,w)&&(s.setNode(b,{}),s.setEdge(p,b,{}),f(b))})}return hr(s.nodes(),f),s.nodeCount()}function NOt(s,o){return Sde(o.edges(),function(f){if(s.hasNode(f.v)!==s.hasNode(f.w))return YN(o,f)})}function POt(s,o,f){hr(s.nodes(),function(p){o.node(p).rank+=f})}function BOt(){}BOt.prototype=new Error;function dNe(s,o,f){jf(o)||(o=[o]);var p=(s.isDirected()?s.successors:s.neighbors).bind(s),w=[],k={};return hr(o,function(b){if(!s.hasNode(b))throw new Error("Graph does not have node: "+b);gNe(s,b,f==="post",k,p,w)}),w}function gNe(s,o,f,p,w,k){eo(p,o)||(p[o]=!0,f||k.push(o),hr(w(o),function(b){gNe(s,b,f,p,w,k)}),f&&k.push(o))}function FOt(s,o){return dNe(s,o,"post")}function ROt(s,o){return dNe(s,o,"pre")}i9.initLowLimValues=Pde,i9.initCutValues=Nde,i9.calcCutValue=pNe,i9.leaveEdge=vNe,i9.enterEdge=wNe,i9.exchangeEdges=mNe;function i9(s){s=mOt(s),Ode(s);var o=fNe(s);Pde(o),Nde(o,s);for(var f,p;f=vNe(o);)p=wNe(o,s,f),mNe(o,s,f,p)}function Nde(s,o){var f=FOt(s,s.nodes());f=f.slice(0,f.length-1),hr(f,function(p){jOt(s,o,p)})}function jOt(s,o,f){var p=s.node(f),w=p.parent;s.edge(f,w).cutvalue=pNe(s,o,f)}function pNe(s,o,f){var p=s.node(f),w=p.parent,k=!0,b=o.edge(f,w),_=0;return b||(k=!1,b=o.edge(w,f)),_=b.weight,hr(o.nodeEdges(f),function(A){var N=A.v===f,B=N?A.w:A.v;if(B!==w){var F=N===k,H=o.edge(A).weight;if(_+=F?H:-H,HOt(s,f,B)){var j=s.edge(f,B).cutvalue;_+=F?-j:j}}}),_}function Pde(s,o){arguments.length<2&&(o=s.nodes()[0]),bNe(s,{},1,o)}function bNe(s,o,f,p,w){var k=f,b=s.node(p);return o[p]=!0,hr(s.neighbors(p),function(_){eo(o,_)||(f=bNe(s,o,f,_,p))}),b.low=k,b.lim=f++,w?b.parent=w:delete b.parent,f}function vNe(s){return Tde(s.edges(),function(o){return s.edge(o).cutvalue<0})}function wNe(s,o,f){var p=f.v,w=f.w;o.hasEdge(p,w)||(p=f.w,w=f.v);var k=s.node(p),b=s.node(w),_=k,A=!1;k.lim>b.lim&&(_=b,A=!0);var N=v5(o.edges(),function(B){return A===yNe(s,s.node(B.v),_)&&A!==yNe(s,s.node(B.w),_)});return Sde(N,function(B){return YN(o,B)})}function mNe(s,o,f,p){var w=f.v,k=f.w;s.removeEdge(w,k),s.setEdge(p.v,p.w,{}),Pde(s),Nde(s,o),$Ot(s,o)}function $Ot(s,o){var f=Tde(s.nodes(),function(w){return!o.node(w).parent}),p=ROt(s,f);p=p.slice(1),hr(p,function(w){var k=s.node(w).parent,b=o.edge(w,k),_=!1;b||(b=o.edge(k,w),_=!0),o.node(w).rank=o.node(k).rank+(_?b.minlen:-b.minlen)})}function HOt(s,o,f){return s.hasEdge(o,f)}function yNe(s,o,f){return f.low<=o.lim&&o.lim<=f.lim}function zOt(s){switch(s.graph().ranker){case"network-simplex":kNe(s);break;case"tight-tree":qOt(s);break;case"longest-path":GOt(s);break;default:kNe(s)}}var GOt=Ode;function qOt(s){Ode(s),fNe(s)}function kNe(s){i9(s)}function VOt(s){var o=RA(s,"root",{},"_root"),f=UOt(s),p=t9(w5(f))-1,w=2*p+1;s.graph().nestingRoot=o,hr(s.edges(),function(b){s.edge(b).minlen*=w});var k=KOt(s)+1;hr(s.children(),function(b){xNe(s,o,w,k,p,f,b)}),s.graph().nodeRankFactor=w}function xNe(s,o,f,p,w,k,b){var _=s.children(b);if(!_.length){b!==o&&s.setEdge(o,b,{weight:0,minlen:f});return}var A=oNe(s,"_bt"),N=oNe(s,"_bb"),B=s.node(b);s.setParent(A,b),B.borderTop=A,s.setParent(N,b),B.borderBottom=N,hr(_,function(F){xNe(s,o,f,p,w,k,F);var H=s.node(F),j=H.borderTop?H.borderTop:F,V=H.borderBottom?H.borderBottom:F,Z=H.borderTop?p:2*p,ae=j!==V?1:w-k[b]+1;s.setEdge(A,j,{weight:Z,minlen:ae,nestingEdge:!0}),s.setEdge(V,N,{weight:Z,minlen:ae,nestingEdge:!0})}),s.parent(b)||s.setEdge(o,A,{weight:0,minlen:w+k[b]})}function UOt(s){var o={};function f(p,w){var k=s.children(p);k&&k.length&&hr(k,function(b){f(b,w+1)}),o[p]=w}return hr(s.children(),function(p){f(p,1)}),o}function KOt(s){return UN(s.edges(),function(o,f){return o+s.edge(f).weight},0)}function WOt(s){var o=s.graph();s.removeNode(o.nestingRoot),delete o.nestingRoot,hr(s.edges(),function(f){var p=s.edge(f);p.nestingEdge&&s.removeEdge(f)})}function YOt(s,o,f){var p={},w;hr(f,function(k){for(var b=s.parent(k),_,A;b;){if(_=s.parent(b),_?(A=p[_],p[_]=b):(A=w,w=b),A&&A!==b){o.setEdge(A,b);return}b=_}})}function XOt(s,o,f){var p=QOt(s),w=new Hf({compound:!0}).setGraph({root:p}).setDefaultNodeLabel(function(k){return s.node(k)});return hr(s.nodes(),function(k){var b=s.node(k),_=s.parent(k);(b.rank===o||b.minRank<=o&&o<=b.maxRank)&&(w.setNode(k),w.setParent(k,_||p),hr(s[f](k),function(A){var N=A.v===k?A.w:A.v,B=w.edge(N,k),F=of(B)?0:B.weight;w.setEdge(N,k,{weight:s.edge(A).weight+F})}),eo(b,"minRank")&&w.setNode(k,{borderLeft:b.borderLeft[o],borderRight:b.borderRight[o]}))}),w}function QOt(s){for(var o;s.hasNode(o=RK("_root")););return o}function ZOt(s,o){for(var f=0,p=1;p<o.length;++p)f+=JOt(s,o[p-1],o[p]);return f}function JOt(s,o,f){for(var p=oOt(f,$f(f,function(N,B){return B})),w=OA($f(o,function(N){return KN($f(s.outEdges(N),function(B){return{pos:p[B.w],weight:s.edge(B).weight}}),"pos")})),k=1;k<f.length;)k<<=1;var b=2*k-1;k-=1;var _=$f(new Array(b),function(){return 0}),A=0;return hr(w.forEach(function(N){var B=N.pos+k;_[B]+=N.weight;for(var F=0;B>0;)B%2&&(F+=_[B+1]),B=B-1>>1,_[B]+=N.weight;A+=N.weight*F})),A}function eNt(s){var o={},f=v5(s.nodes(),function(_){return!s.children(_).length}),p=t9($f(f,function(_){return s.node(_).rank})),w=$f(n9(p+1),function(){return[]});function k(_){if(!eo(o,_)){o[_]=!0;var A=s.node(_);w[A.rank].push(_),hr(s.successors(_),k)}}var b=KN(f,function(_){return s.node(_).rank});return hr(b,k),w}function tNt(s,o){return $f(o,function(f){var p=s.inEdges(f);if(p.length){var w=UN(p,function(k,b){var _=s.edge(b),A=s.node(b.v);return{sum:k.sum+_.weight*A.order,weight:k.weight+_.weight}},{sum:0,weight:0});return{v:f,barycenter:w.sum/w.weight,weight:w.weight}}else return{v:f}})}function nNt(s,o){var f={};hr(s,function(w,k){var b=f[w.v]={indegree:0,in:[],out:[],vs:[w.v],i:k};of(w.barycenter)||(b.barycenter=w.barycenter,b.weight=w.weight)}),hr(o.edges(),function(w){var k=f[w.v],b=f[w.w];!of(k)&&!of(b)&&(b.indegree++,k.out.push(f[w.w]))});var p=v5(f,function(w){return!w.indegree});return rNt(p)}function rNt(s){var o=[];function f(k){return function(b){b.merged||(of(b.barycenter)||of(k.barycenter)||b.barycenter>=k.barycenter)&&iNt(k,b)}}function p(k){return function(b){b.in.push(k),--b.indegree===0&&s.push(b)}}for(;s.length;){var w=s.pop();o.push(w),hr(w.in.reverse(),f(w)),hr(w.out,p(w))}return $f(v5(o,function(k){return!k.merged}),function(k){return VN(k,["vs","i","barycenter","weight"])})}function iNt(s,o){var f=0,p=0;s.weight&&(f+=s.barycenter*s.weight,p+=s.weight),o.weight&&(f+=o.barycenter*o.weight,p+=o.weight),s.vs=o.vs.concat(s.vs),s.barycenter=f/p,s.weight=p,s.i=Math.min(o.i,s.i),o.merged=!0}function sNt(s,o){var f=xOt(s,function(B){return eo(B,"barycenter")}),p=f.lhs,w=KN(f.rhs,function(B){return-B.i}),k=[],b=0,_=0,A=0;p.sort(aNt(!!o)),A=ENe(k,w,A),hr(p,function(B){A+=B.vs.length,k.push(B.vs),b+=B.barycenter*B.weight,_+=B.weight,A=ENe(k,w,A)});var N={vs:OA(k)};return _&&(N.barycenter=b/_,N.weight=_),N}function ENe(s,o,f){for(var p;o.length&&(p=BK(o)).i<=f;)o.pop(),s.push(p.vs),f++;return f}function aNt(s){return function(o,f){return o.barycenter<f.barycenter?-1:o.barycenter>f.barycenter?1:s?f.i-o.i:o.i-f.i}}function TNe(s,o,f,p){var w=s.children(o),k=s.node(o),b=k?k.borderLeft:void 0,_=k?k.borderRight:void 0,A={};b&&(w=v5(w,function(V){return V!==b&&V!==_}));var N=tNt(s,w);hr(N,function(V){if(s.children(V.v).length){var Z=TNe(s,V.v,f,p);A[V.v]=Z,eo(Z,"barycenter")&&cNt(V,Z)}});var B=nNt(N,f);oNt(B,A);var F=sNt(B,p);if(b&&(F.vs=OA([b,F.vs,_]),s.predecessors(b).length)){var H=s.node(s.predecessors(b)[0]),j=s.node(s.predecessors(_)[0]);eo(F,"barycenter")||(F.barycenter=0,F.weight=0),F.barycenter=(F.barycenter*F.weight+H.order+j.order)/(F.weight+2),F.weight+=2}return F}function oNt(s,o){hr(s,function(f){f.vs=OA(f.vs.map(function(p){return o[p]?o[p].vs:p}))})}function cNt(s,o){of(s.barycenter)?(s.barycenter=o.barycenter,s.weight=o.weight):(s.barycenter=(s.barycenter*s.weight+o.barycenter*o.weight)/(s.weight+o.weight),s.weight+=o.weight)}function uNt(s){var o=cNe(s),f=_Ne(s,n9(1,o+1),"inEdges"),p=_Ne(s,n9(o-1,-1,-1),"outEdges"),w=eNt(s);CNe(s,w);for(var k=Number.POSITIVE_INFINITY,b,_=0,A=0;A<4;++_,++A){lNt(_%2?f:p,_%4>=2),w=jK(s);var N=ZOt(s,w);N<k&&(A=0,b=TDt(w),k=N)}CNe(s,b)}function _Ne(s,o,f){return $f(o,function(p){return XOt(s,p,f)})}function lNt(s,o){var f=new Hf;hr(s,function(p){var w=p.graph().root,k=TNe(p,w,f,o);hr(k.vs,function(b,_){p.node(b).order=_}),YOt(p,f,k.vs)})}function CNe(s,o){hr(o,function(f){hr(f,function(p,w){s.node(p).order=w})})}function hNt(s){var o=dNt(s);hr(s.graph().dummyChains,function(f){for(var p=s.node(f),w=p.edgeObj,k=fNt(s,o,w.v,w.w),b=k.path,_=k.lca,A=0,N=b[A],B=!0;f!==w.w;){if(p=s.node(f),B){for(;(N=b[A])!==_&&s.node(N).maxRank<p.rank;)A++;N===_&&(B=!1)}if(!B){for(;A<b.length-1&&s.node(N=b[A+1]).minRank<=p.rank;)A++;N=b[A]}s.setParent(f,N),f=s.successors(f)[0]}})}function fNt(s,o,f,p){var w=[],k=[],b=Math.min(o[f].low,o[p].low),_=Math.max(o[f].lim,o[p].lim),A,N;A=f;do A=s.parent(A),w.push(A);while(A&&(o[A].low>b||_>o[A].lim));for(N=A,A=p;(A=s.parent(A))!==N;)k.push(A);return{path:w.concat(k.reverse()),lca:N}}function dNt(s){var o={},f=0;function p(w){var k=f;hr(s.children(w),p),o[w]={low:k,lim:f++}}return hr(s.children(),p),o}function gNt(s,o){var f={};function p(w,k){var b=0,_=0,A=w.length,N=BK(k);return hr(k,function(B,F){var H=bNt(s,B),j=H?s.node(H).order:A;(H||B===N)&&(hr(k.slice(_,F+1),function(V){hr(s.predecessors(V),function(Z){var ae=s.node(Z),le=ae.order;(le<b||j<le)&&!(ae.dummy&&s.node(V).dummy)&&SNe(f,Z,V)})}),_=F+1,b=j)}),k}return UN(o,p),f}function pNt(s,o){var f={};function p(k,b,_,A,N){var B;hr(n9(b,_),function(F){B=k[F],s.node(B).dummy&&hr(s.predecessors(B),function(H){var j=s.node(H);j.dummy&&(j.order<A||j.order>N)&&SNe(f,H,B)})})}function w(k,b){var _=-1,A,N=0;return hr(b,function(B,F){if(s.node(B).dummy==="border"){var H=s.predecessors(B);H.length&&(A=s.node(H[0]).order,p(b,N,F,_,A),N=F,_=A)}p(b,N,b.length,A,k.length)}),b}return UN(o,w),f}function bNt(s,o){if(s.node(o).dummy)return Tde(s.predecessors(o),function(f){return s.node(f).dummy})}function SNe(s,o,f){if(o>f){var p=o;o=f,f=p}var w=s[o];w||(s[o]=w={}),w[f]=!0}function vNt(s,o,f){if(o>f){var p=o;o=f,f=p}return eo(s[o],f)}function wNt(s,o,f,p){var w={},k={},b={};return hr(o,function(_){hr(_,function(A,N){w[A]=A,k[A]=A,b[A]=N})}),hr(o,function(_){var A=-1;hr(_,function(N){var B=p(N);if(B.length){B=KN(B,function(Z){return b[Z]});for(var F=(B.length-1)/2,H=Math.floor(F),j=Math.ceil(F);H<=j;++H){var V=B[H];k[N]===N&&A<b[V]&&!vNt(f,N,V)&&(k[V]=N,k[N]=w[N]=w[V],A=b[V])}}})}),{root:w,align:k}}function mNt(s,o,f,p,w){var k={},b=yNt(s,o,f,w),_=w?"borderLeft":"borderRight";function A(F,H){for(var j=b.nodes(),V=j.pop(),Z={};V;)Z[V]?F(V):(Z[V]=!0,j.push(V),j=j.concat(H(V))),V=j.pop()}function N(F){k[F]=b.inEdges(F).reduce(function(H,j){return Math.max(H,k[j.v]+b.edge(j))},0)}function B(F){var H=b.outEdges(F).reduce(function(V,Z){return Math.min(V,k[Z.w]-b.edge(Z))},Number.POSITIVE_INFINITY),j=s.node(F);H!==Number.POSITIVE_INFINITY&&j.borderType!==_&&(k[F]=Math.max(k[F],H))}return A(N,b.predecessors.bind(b)),A(B,b.successors.bind(b)),hr(p,function(F){k[F]=k[f[F]]}),k}function yNt(s,o,f,p){var w=new Hf,k=s.graph(),b=_Nt(k.nodesep,k.edgesep,p);return hr(o,function(_){var A;hr(_,function(N){var B=f[N];if(w.setNode(B),A){var F=f[A],H=w.edge(F,B);w.setEdge(F,B,Math.max(b(s,N,A),H||0))}A=N})}),w}function kNt(s,o){return Sde(w5(o),function(f){var p=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY;return CIt(f,function(k,b){var _=CNt(s,b)/2;p=Math.max(k+_,p),w=Math.min(k-_,w)}),p-w})}function xNt(s,o){var f=w5(o),p=qN(f),w=t9(f);hr(["u","d"],function(k){hr(["l","r"],function(b){var _=k+b,A=s[_],N;if(A!==o){var B=w5(A);N=b==="l"?p-qN(B):w-t9(B),N&&(s[_]=FK(A,function(F){return F+N}))}})})}function ENt(s,o){return FK(s.ul,function(f,p){if(o)return s[o.toLowerCase()][p];var w=KN($f(s,p));return(w[1]+w[2])/2})}function TNt(s){var o=jK(s),f=Cde(gNt(s,o),pNt(s,o)),p={},w;hr(["u","d"],function(b){w=b==="u"?o:w5(o).reverse(),hr(["l","r"],function(_){_==="r"&&(w=$f(w,function(F){return w5(F).reverse()}));var A=(b==="u"?s.predecessors:s.successors).bind(s),N=wNt(s,w,f,A),B=mNt(s,w,N.root,N.align,_==="r");_==="r"&&(B=FK(B,function(F){return-F})),p[b+_]=B})});var k=kNt(s,p);return xNt(p,k),ENt(p,s.graph().align)}function _Nt(s,o,f){return function(p,w,k){var b=p.node(w),_=p.node(k),A=0,N;if(A+=b.width/2,eo(b,"labelpos"))switch(b.labelpos.toLowerCase()){case"l":N=-b.width/2;break;case"r":N=b.width/2;break}if(N&&(A+=f?N:-N),N=0,A+=(b.dummy?o:s)/2,A+=(_.dummy?o:s)/2,A+=_.width/2,eo(_,"labelpos"))switch(_.labelpos.toLowerCase()){case"l":N=_.width/2;break;case"r":N=-_.width/2;break}return N&&(A+=f?N:-N),N=0,A}}function CNt(s,o){return s.node(o).width}function SNt(s){s=sNe(s),ANt(s),hr(TNt(s),function(o,f){s.node(f).x=o})}function ANt(s){var o=jK(s),f=s.graph().ranksep,p=0;hr(o,function(w){var k=t9($f(w,function(b){return s.node(b).height}));hr(w,function(b){s.node(b).y=p+k/2}),p+=k+f})}function jA(s,o){var f=o&&o.debugTiming?EOt:TOt;f("layout",function(){var p=f("  buildLayoutGraph",function(){return jNt(s)});f("  runLayout",function(){LNt(p,f)}),f("  updateInputGraph",function(){MNt(s,p)})})}function LNt(s,o){o("    makeSpaceForEdgeLabels",function(){$Nt(s)}),o("    removeSelfEdges",function(){YNt(s)}),o("    acyclic",function(){bOt(s)}),o("    nestingGraph.run",function(){VOt(s)}),o("    rank",function(){zOt(sNe(s))}),o("    injectEdgeLabelProxies",function(){HNt(s)}),o("    removeEmptyRanks",function(){kOt(s)}),o("    nestingGraph.cleanup",function(){WOt(s)}),o("    normalizeRanks",function(){yOt(s)}),o("    assignRankMinMax",function(){zNt(s)}),o("    removeEdgeLabelProxies",function(){GNt(s)}),o("    normalize.run",function(){MOt(s)}),o("    parentDummyChains",function(){hNt(s)}),o("    addBorderSegments",function(){_Ot(s)}),o("    order",function(){uNt(s)}),o("    insertSelfEdges",function(){XNt(s)}),o("    adjustCoordinateSystem",function(){COt(s)}),o("    position",function(){SNt(s)}),o("    positionSelfEdges",function(){QNt(s)}),o("    removeBorderNodes",function(){WNt(s)}),o("    normalize.undo",function(){IOt(s)}),o("    fixupEdgeLabelCoords",function(){UNt(s)}),o("    undoCoordinateSystem",function(){SOt(s)}),o("    translateGraph",function(){qNt(s)}),o("    assignNodeIntersects",function(){VNt(s)}),o("    reversePoints",function(){KNt(s)}),o("    acyclic.undo",function(){wOt(s)})}function MNt(s,o){hr(s.nodes(),function(f){var p=s.node(f),w=o.node(f);p&&(p.x=w.x,p.y=w.y,o.children(f).length&&(p.width=w.width,p.height=w.height))}),hr(s.edges(),function(f){var p=s.edge(f),w=o.edge(f);p.points=w.points,eo(w,"x")&&(p.x=w.x,p.y=w.y)}),s.graph().width=o.graph().width,s.graph().height=o.graph().height}var DNt=["nodesep","edgesep","ranksep","marginx","marginy"],INt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ONt=["acyclicer","ranker","rankdir","align"],NNt=["width","height"],PNt={width:0,height:0},BNt=["minlen","weight","width","height","labeloffset"],FNt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},RNt=["labelpos"];function jNt(s){var o=new Hf({multigraph:!0,compound:!0}),f=Fde(s.graph());return o.setGraph(Cde({},INt,Bde(f,DNt),VN(f,ONt))),hr(s.nodes(),function(p){var w=Fde(s.node(p));o.setNode(p,BA(Bde(w,NNt),PNt)),o.setParent(p,s.parent(p))}),hr(s.edges(),function(p){var w=Fde(s.edge(p));o.setEdge(p,Cde({},FNt,Bde(w,BNt),VN(w,RNt)))}),o}function $Nt(s){var o=s.graph();o.ranksep/=2,hr(s.edges(),function(f){var p=s.edge(f);p.minlen*=2,p.labelpos.toLowerCase()!=="c"&&(o.rankdir==="TB"||o.rankdir==="BT"?p.width+=p.labeloffset:p.height+=p.labeloffset)})}function HNt(s){hr(s.edges(),function(o){var f=s.edge(o);if(f.width&&f.height){var p=s.node(o.v),w=s.node(o.w),k={rank:(w.rank-p.rank)/2+p.rank,e:o};RA(s,"edge-proxy",k,"_ep")}})}function zNt(s){var o=0;hr(s.nodes(),function(f){var p=s.node(f);p.borderTop&&(p.minRank=s.node(p.borderTop).rank,p.maxRank=s.node(p.borderBottom).rank,o=t9(o,p.maxRank))}),s.graph().maxRank=o}function GNt(s){hr(s.nodes(),function(o){var f=s.node(o);f.dummy==="edge-proxy"&&(s.edge(f.e).labelRank=f.rank,s.removeNode(o))})}function qNt(s){var o=Number.POSITIVE_INFINITY,f=0,p=Number.POSITIVE_INFINITY,w=0,k=s.graph(),b=k.marginx||0,_=k.marginy||0;function A(N){var B=N.x,F=N.y,H=N.width,j=N.height;o=Math.min(o,B-H/2),f=Math.max(f,B+H/2),p=Math.min(p,F-j/2),w=Math.max(w,F+j/2)}hr(s.nodes(),function(N){A(s.node(N))}),hr(s.edges(),function(N){var B=s.edge(N);eo(B,"x")&&A(B)}),o-=b,p-=_,hr(s.nodes(),function(N){var B=s.node(N);B.x-=o,B.y-=p}),hr(s.edges(),function(N){var B=s.edge(N);hr(B.points,function(F){F.x-=o,F.y-=p}),eo(B,"x")&&(B.x-=o),eo(B,"y")&&(B.y-=p)}),k.width=f-o+b,k.height=w-p+_}function VNt(s){hr(s.edges(),function(o){var f=s.edge(o),p=s.node(o.v),w=s.node(o.w),k,b;f.points?(k=f.points[0],b=f.points[f.points.length-1]):(f.points=[],k=w,b=p),f.points.unshift(aNe(p,k)),f.points.push(aNe(w,b))})}function UNt(s){hr(s.edges(),function(o){var f=s.edge(o);if(eo(f,"x"))switch((f.labelpos==="l"||f.labelpos==="r")&&(f.width-=f.labeloffset),f.labelpos){case"l":f.x-=f.width/2+f.labeloffset;break;case"r":f.x+=f.width/2+f.labeloffset;break}})}function KNt(s){hr(s.edges(),function(o){var f=s.edge(o);f.reversed&&f.points.reverse()})}function WNt(s){hr(s.nodes(),function(o){if(s.children(o).length){var f=s.node(o),p=s.node(f.borderTop),w=s.node(f.borderBottom),k=s.node(BK(f.borderLeft)),b=s.node(BK(f.borderRight));f.width=Math.abs(b.x-k.x),f.height=Math.abs(w.y-p.y),f.x=k.x+f.width/2,f.y=p.y+f.height/2}}),hr(s.nodes(),function(o){s.node(o).dummy==="border"&&s.removeNode(o)})}function YNt(s){hr(s.edges(),function(o){if(o.v===o.w){var f=s.node(o.v);f.selfEdges||(f.selfEdges=[]),f.selfEdges.push({e:o,label:s.edge(o)}),s.removeEdge(o)}})}function XNt(s){var o=jK(s);hr(o,function(f){var p=0;hr(f,function(w,k){var b=s.node(w);b.order=k+p,hr(b.selfEdges,function(_){RA(s,"selfedge",{width:_.label.width,height:_.label.height,rank:b.rank,order:k+ ++p,e:_.e,label:_.label},"_se")}),delete b.selfEdges})})}function QNt(s){hr(s.nodes(),function(o){var f=s.node(o);if(f.dummy==="selfedge"){var p=s.node(f.e.v),w=p.x+p.width/2,k=p.y,b=f.x-w,_=p.height/2;s.setEdge(f.e,f.label),s.removeNode(o),f.label.points=[{x:w+2*b/3,y:k-_},{x:w+5*b/6,y:k-_},{x:w+b,y:k},{x:w+5*b/6,y:k+_},{x:w+2*b/3,y:k+_}],f.label.x=f.x,f.label.y=f.y}})}function Bde(s,o){return FK(VN(s,o),Number)}function Fde(s){var o={};return hr(s,function(f,p){o[p.toLowerCase()]=f}),o}let ANe=0;const ZNt=function(s,o,f,p,w){const k=function(ce){switch(ce){case w.db.relationType.AGGREGATION:return"aggregation";case w.db.relationType.EXTENSION:return"extension";case w.db.relationType.COMPOSITION:return"composition";case w.db.relationType.DEPENDENCY:return"dependency";case w.db.relationType.LOLLIPOP:return"lollipop"}};o.points=o.points.filter(ce=>!Number.isNaN(ce.y));const b=o.points,_=RE().x(function(ce){return ce.x}).y(function(ce){return ce.y}).curve(pA),A=s.append("path").attr("d",_(b)).attr("id","edge"+ANe).attr("class","relation");let N="";p.arrowMarkerAbsolute&&(N=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,N=N.replace(/\(/g,"\\("),N=N.replace(/\)/g,"\\)")),f.relation.lineType==1&&A.attr("class","relation dashed-line"),f.relation.lineType==10&&A.attr("class","relation dotted-line"),f.relation.type1!=="none"&&A.attr("marker-start","url("+N+"#"+k(f.relation.type1)+"Start)"),f.relation.type2!=="none"&&A.attr("marker-end","url("+N+"#"+k(f.relation.type2)+"End)");let B,F;const H=o.points.length;let j=Pa.calcLabelPosition(o.points);B=j.x,F=j.y;let V,Z,ae,le;if(H%2!==0&&H>1){let ce=Pa.calcCardinalityPosition(f.relation.type1!=="none",o.points,o.points[0]),be=Pa.calcCardinalityPosition(f.relation.type2!=="none",o.points,o.points[H-1]);je.debug("cardinality_1_point "+JSON.stringify(ce)),je.debug("cardinality_2_point "+JSON.stringify(be)),V=ce.x,Z=ce.y,ae=be.x,le=be.y}if(f.title!==void 0){const ce=s.append("g").attr("class","classLabel"),be=ce.append("text").attr("class","label").attr("x",B).attr("y",F).attr("fill","red").attr("text-anchor","middle").text(f.title);window.label=be;const xe=be.node().getBBox();ce.insert("rect",":first-child").attr("class","box").attr("x",xe.x-p.padding/2).attr("y",xe.y-p.padding/2).attr("width",xe.width+p.padding).attr("height",xe.height+p.padding)}je.info("Rendering relation "+JSON.stringify(f)),f.relationTitle1!==void 0&&f.relationTitle1!=="none"&&s.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",V).attr("y",Z).attr("fill","black").attr("font-size","6").text(f.relationTitle1),f.relationTitle2!==void 0&&f.relationTitle2!=="none"&&s.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",ae).attr("y",le).attr("fill","black").attr("font-size","6").text(f.relationTitle2),ANe++},JNt=function(s,o,f,p){je.debug("Rendering class ",o,f);const w=o.id,k={id:w,label:o.id,width:0,height:0},b=s.append("g").attr("id",p.db.lookUpDomId(w)).attr("class","classGroup");let _;o.link?_=b.append("svg:a").attr("xlink:href",o.link).attr("target",o.linkTarget).append("text").attr("y",f.textHeight+f.padding).attr("x",0):_=b.append("text").attr("y",f.textHeight+f.padding).attr("x",0);let A=!0;o.annotations.forEach(function(Ee){const Me=_.append("tspan").text("«"+Ee+"»");A||Me.attr("dy",f.textHeight),A=!1});let N=o.id;o.type!==void 0&&o.type!==""&&(N+="<"+o.type+">");const B=_.append("tspan").text(N).attr("class","title");A||B.attr("dy",f.textHeight);const F=_.node().getBBox().height,H=b.append("line").attr("x1",0).attr("y1",f.padding+F+f.dividerMargin/2).attr("y2",f.padding+F+f.dividerMargin/2),j=b.append("text").attr("x",f.padding).attr("y",F+f.dividerMargin+f.textHeight).attr("fill","white").attr("class","classText");A=!0,o.members.forEach(function(Ee){LNe(j,Ee,A,f),A=!1});const V=j.node().getBBox(),Z=b.append("line").attr("x1",0).attr("y1",f.padding+F+f.dividerMargin+V.height).attr("y2",f.padding+F+f.dividerMargin+V.height),ae=b.append("text").attr("x",f.padding).attr("y",F+2*f.dividerMargin+V.height+f.textHeight).attr("fill","white").attr("class","classText");A=!0,o.methods.forEach(function(Ee){LNe(ae,Ee,A,f),A=!1});const le=b.node().getBBox();var ce=" ";o.cssClasses.length>0&&(ce=ce+o.cssClasses.join(" "));const xe=b.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",le.width+2*f.padding).attr("height",le.height+f.padding+.5*f.dividerMargin).attr("class",ce).node().getBBox().width;return _.node().childNodes.forEach(function(Ee){Ee.setAttribute("x",(xe-Ee.getBBox().width)/2)}),o.tooltip&&_.insert("title").text(o.tooltip),H.attr("x2",xe),Z.attr("x2",xe),k.width=xe,k.height=le.height+f.padding+.5*f.dividerMargin,k},ePt=function(s,o,f,p){je.debug("Rendering note ",o,f);const w=o.id,k={id:w,text:o.text,width:0,height:0},b=s.append("g").attr("id",w).attr("class","classGroup");let _=b.append("text").attr("y",f.textHeight+f.padding).attr("x",0);const A=JSON.parse(`"${o.text}"`).split(`
`);A.forEach(function(H){je.debug(`Adding line: ${H}`),_.append("tspan").text(H).attr("class","title").attr("dy",f.textHeight)});const N=b.node().getBBox(),F=b.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",N.width+2*f.padding).attr("height",N.height+A.length*f.textHeight+f.padding+.5*f.dividerMargin).node().getBBox().width;return _.node().childNodes.forEach(function(H){H.setAttribute("x",(F-H.getBBox().width)/2)}),k.width=F,k.height=N.height+A.length*f.textHeight+f.padding+.5*f.dividerMargin,k},$K=function(s){const o=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,f=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let p=s.match(o),w=s.match(f);return p&&!w?tPt(p):w?nPt(w):rPt(s)},tPt=function(s){let o="",f="";try{let p=s[1]?s[1].trim():"",w=s[2]?s[2].trim():"",k=s[3]?Uk(s[3].trim()):"",b=s[4]?s[4].trim():"",_=s[5]?s[5].trim():"";f=p+w+k+" "+b,o=Rde(_)}catch{f=s}return{displayText:f,cssStyle:o}},nPt=function(s){let o="",f="";try{let p=s[1]?s[1].trim():"",w=s[2]?s[2].trim():"",k=s[3]?Uk(s[3].trim()):"",b=s[4]?s[4].trim():"",_=s[5]?" : "+Uk(s[5]).trim():"";f=p+w+"("+k+")"+_,o=Rde(b)}catch{f=s}return{displayText:f,cssStyle:o}},rPt=function(s){let o="",f="",p="",w=s.indexOf("("),k=s.indexOf(")");if(w>1&&k>w&&k<=s.length){let b="",_="",A=s.substring(0,1);A.match(/\w/)?_=s.substring(0,w).trim():(A.match(/[#+~-]/)&&(b=A),_=s.substring(1,w).trim());const N=s.substring(w+1,k);s.substring(k+1,1),f=Rde(s.substring(k+1,k+2)),o=b+_+"("+Uk(N.trim())+")",k<s.length&&(p=s.substring(k+2).trim(),p!==""&&(p=" : "+Uk(p),o+=p))}else o=Uk(s);return{displayText:o,cssStyle:f}},LNe=function(s,o,f,p){let w=$K(o);const k=s.append("tspan").attr("x",p.padding).text(w.displayText);w.cssStyle!==""&&k.attr("style",w.cssStyle),f||k.attr("dy",p.textHeight)},Rde=function(s){switch(s){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},jde={drawClass:JNt,drawEdge:ZNt,drawNote:ePt,parseMember:$K};let HK={};const zK=20,XN=function(s){const o=Object.entries(HK).find(f=>f[1].label===s);if(o)return o[0]},iPt=function(s){s.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),s.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),s.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},sPt={draw:function(s,o,f,p){const w=Pt().class;HK={},je.info("Rendering diagram "+s);const k=Pt().securityLevel;let b;k==="sandbox"&&(b=sr("#i"+o));const _=sr(k==="sandbox"?b.nodes()[0].contentDocument.body:"body"),A=_.select(`[id='${o}']`);iPt(A);const N=new Hf({multigraph:!0});N.setGraph({isMultiGraph:!0}),N.setDefaultEdgeLabel(function(){return{}});const B=p.db.getClasses(),F=Object.keys(B);for(const ce of F){const be=B[ce],xe=jde.drawClass(A,be,w,p);HK[xe.id]=xe,N.setNode(xe.id,xe),je.info("Org height: "+xe.height)}p.db.getRelations().forEach(function(ce){je.info("tjoho"+XN(ce.id1)+XN(ce.id2)+JSON.stringify(ce)),N.setEdge(XN(ce.id1),XN(ce.id2),{relation:ce},ce.title||"DEFAULT")}),p.db.getNotes().forEach(function(ce){je.debug(`Adding note: ${JSON.stringify(ce)}`);const be=jde.drawNote(A,ce,w,p);HK[be.id]=be,N.setNode(be.id,be),ce.class&&ce.class in B&&N.setEdge(ce.id,XN(ce.class),{relation:{id1:ce.id,id2:ce.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),jA(N),N.nodes().forEach(function(ce){ce!==void 0&&N.node(ce)!==void 0&&(je.debug("Node "+ce+": "+JSON.stringify(N.node(ce))),_.select("#"+(p.db.lookUpDomId(ce)||ce)).attr("transform","translate("+(N.node(ce).x-N.node(ce).width/2)+","+(N.node(ce).y-N.node(ce).height/2)+" )"))}),N.edges().forEach(function(ce){ce!==void 0&&N.edge(ce)!==void 0&&(je.debug("Edge "+ce.v+" -> "+ce.w+": "+JSON.stringify(N.edge(ce))),jde.drawEdge(A,N.edge(ce),N.edge(ce).relation,w,p))});const V=A.node().getBBox(),Z=V.width+zK*2,ae=V.height+zK*2;Uw(A,ae,Z,w.useMaxWidth);const le=`${V.x-zK} ${V.y-zK} ${Z} ${ae}`;je.debug(`viewBox ${le}`),A.attr("viewBox",le)}};function m5(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:aPt(s),edges:oPt(s)};return of(s.graph())||(o.value=kDt(s.graph())),o}function aPt(s){return $f(s.nodes(),function(o){var f=s.node(o),p=s.parent(o),w={v:o};return of(f)||(w.value=f),of(p)||(w.parent=p),w})}function oPt(s){return $f(s.edges(),function(o){var f=s.edge(o),p={v:o.v,w:o.w};return of(o.name)||(p.name=o.name),of(f)||(p.value=f),p})}const cPt=(s,o,f,p)=>{o.forEach(w=>{uPt[w](s,f,p)})},uPt={extension:(s,o,f)=>{je.trace("Making markers for ",f),s.append("defs").append("marker").attr("id",o+"-extensionStart").attr("class","marker extension "+o).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),s.append("defs").append("marker").attr("id",o+"-extensionEnd").attr("class","marker extension "+o).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(s,o)=>{s.append("defs").append("marker").attr("id",o+"-compositionStart").attr("class","marker composition "+o).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id",o+"-compositionEnd").attr("class","marker composition "+o).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(s,o)=>{s.append("defs").append("marker").attr("id",o+"-aggregationStart").attr("class","marker aggregation "+o).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id",o+"-aggregationEnd").attr("class","marker aggregation "+o).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(s,o)=>{s.append("defs").append("marker").attr("id",o+"-dependencyStart").attr("class","marker dependency "+o).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id",o+"-dependencyEnd").attr("class","marker dependency "+o).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(s,o)=>{s.append("defs").append("marker").attr("id",o+"-lollipopStart").attr("class","marker lollipop "+o).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(s,o)=>{s.append("marker").attr("id",o+"-pointEnd").attr("class","marker "+o).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),s.append("marker").attr("id",o+"-pointStart").attr("class","marker "+o).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(s,o)=>{s.append("marker").attr("id",o+"-circleEnd").attr("class","marker "+o).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),s.append("marker").attr("id",o+"-circleStart").attr("class","marker "+o).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(s,o)=>{s.append("marker").attr("id",o+"-crossEnd").attr("class","marker cross "+o).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),s.append("marker").attr("id",o+"-crossStart").attr("class","marker cross "+o).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(s,o)=>{s.append("defs").append("marker").attr("id",o+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},MNe=cPt;function lPt(s,o){o&&s.attr("style",o)}function hPt(s){const o=sr(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),f=o.append("xhtml:div"),p=s.label,w=s.isNode?"nodeLabel":"edgeLabel";return f.html('<span class="'+w+'" '+(s.labelStyle?'style="'+s.labelStyle+'"':"")+">"+p+"</span>"),lPt(f,s.labelStyle),f.style("display","inline-block"),f.style("white-space","nowrap"),f.attr("xmlns","http://www.w3.org/1999/xhtml"),o.node()}const ip=(s,o,f,p)=>{let w=s||"";if(typeof w=="object"&&(w=w[0]),l1(Pt().flowchart.htmlLabels)){w=w.replace(/\\n|\n/g,"<br />"),je.info("vertexText"+w);const k={isNode:p,label:nge(w).replace(/fa[blrs]?:fa-[\w-]+/g,_=>`<i class='${_.replace(":"," ")}'></i>`),labelStyle:o.replace("fill:","color:")};return hPt(k)}else{const k=document.createElementNS("http://www.w3.org/2000/svg","text");k.setAttribute("style",o.replace("color:","fill:"));let b=[];typeof w=="string"?b=w.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(w)?b=w:b=[];for(const _ of b){const A=document.createElementNS("http://www.w3.org/2000/svg","tspan");A.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),A.setAttribute("dy","1em"),A.setAttribute("x","0"),f?A.setAttribute("class","title-row"):A.setAttribute("class","row"),A.textContent=_.trim(),k.appendChild(A)}return k}},y0=(s,o,f,p)=>{let w;f?w=f:w="node default";const k=s.insert("g").attr("class",w).attr("id",o.domId||o.id),b=k.insert("g").attr("class","label").attr("style",o.labelStyle);let _;o.labelText===void 0?_="":_=typeof o.labelText=="string"?o.labelText:o.labelText[0];const A=b.node().appendChild(ip(T2(nge(_),Pt()),o.labelStyle,!1,p));let N=A.getBBox();if(l1(Pt().flowchart.htmlLabels)){const F=A.children[0],H=sr(A);N=F.getBoundingClientRect(),H.attr("width",N.width),H.attr("height",N.height)}const B=o.padding/2;return b.attr("transform","translate("+-N.width/2+", "+-N.height/2+")"),{shapeSvg:k,bbox:N,halfPadding:B,label:b}},cf=(s,o)=>{const f=o.node().getBBox();s.width=f.width,s.height=f.height};function y5(s,o,f,p){return s.insert("polygon",":first-child").attr("points",p.map(function(w){return w.x+","+w.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-o/2+","+f/2+")")}let Zo={},Jw={},DNe={};const fPt=()=>{Jw={},DNe={},Zo={}},GK=(s,o)=>(je.trace("In isDecendant",o," ",s," = ",Jw[o].includes(s)),!!Jw[o].includes(s)),dPt=(s,o)=>(je.info("Decendants of ",o," is ",Jw[o]),je.info("Edge is ",s),s.v===o||s.w===o?!1:Jw[o]?Jw[o].includes(s.v)||GK(s.v,o)||GK(s.w,o)||Jw[o].includes(s.w):(je.debug("Tilt, ",o,",not in decendants"),!1)),INe=(s,o,f,p)=>{je.warn("Copying children of ",s,"root",p,"data",o.node(s),p);const w=o.children(s)||[];s!==p&&w.push(s),je.warn("Copying (nodes) clusterId",s,"nodes",w),w.forEach(k=>{if(o.children(k).length>0)INe(k,o,f,p);else{const b=o.node(k);je.info("cp ",k," to ",p," with parent ",s),f.setNode(k,b),p!==o.parent(k)&&(je.warn("Setting parent",k,o.parent(k)),f.setParent(k,o.parent(k))),s!==p&&k!==s?(je.debug("Setting parent",k,s),f.setParent(k,s)):(je.info("In copy ",s,"root",p,"data",o.node(s),p),je.debug("Not Setting parent for node=",k,"cluster!==rootId",s!==p,"node!==clusterId",k!==s));const _=o.edges(k);je.debug("Copying Edges",_),_.forEach(A=>{je.info("Edge",A);const N=o.edge(A.v,A.w,A.name);je.info("Edge data",N,p);try{dPt(A,p)?(je.info("Copying as ",A.v,A.w,N,A.name),f.setEdge(A.v,A.w,N,A.name),je.info("newGraph edges ",f.edges(),f.edge(f.edges()[0]))):je.info("Skipping copy of edge ",A.v,"-->",A.w," rootId: ",p," clusterId:",s)}catch(B){je.error(B)}})}je.debug("Removing node",k),o.removeNode(k)})},ONe=(s,o)=>{const f=o.children(s);let p=[...f];for(const w of f)DNe[w]=s,p=[...p,...ONe(w,o)];return p},QN=(s,o)=>{je.trace("Searching",s);const f=o.children(s);if(je.trace("Searching children of id ",s,f),f.length<1)return je.trace("This is a valid node",s),s;for(const p of f){const w=QN(p,o);if(w)return je.trace("Found replacement for",s," => ",w),w}},qK=s=>!Zo[s]||!Zo[s].externalConnections?s:Zo[s]?Zo[s].id:s,gPt=(s,o)=>{if(!s||o>10){je.debug("Opting out, no graph ");return}else je.debug("Opting in, graph ");s.nodes().forEach(function(f){s.children(f).length>0&&(je.warn("Cluster identified",f," Replacement id in edges: ",QN(f,s)),Jw[f]=ONe(f,s),Zo[f]={id:QN(f,s),clusterData:s.node(f)})}),s.nodes().forEach(function(f){const p=s.children(f),w=s.edges();p.length>0?(je.debug("Cluster identified",f,Jw),w.forEach(k=>{if(k.v!==f&&k.w!==f){const b=GK(k.v,f),_=GK(k.w,f);b^_&&(je.warn("Edge: ",k," leaves cluster ",f),je.warn("Decendants of XXX ",f,": ",Jw[f]),Zo[f].externalConnections=!0)}})):je.debug("Not a cluster ",f,Jw)}),s.edges().forEach(function(f){const p=s.edge(f);je.warn("Edge "+f.v+" -> "+f.w+": "+JSON.stringify(f)),je.warn("Edge "+f.v+" -> "+f.w+": "+JSON.stringify(s.edge(f)));let w=f.v,k=f.w;if(je.warn("Fix XXX",Zo,"ids:",f.v,f.w,"Translating: ",Zo[f.v]," --- ",Zo[f.w]),Zo[f.v]&&Zo[f.w]&&Zo[f.v]===Zo[f.w]){je.warn("Fixing and trixing link to self - removing XXX",f.v,f.w,f.name),je.warn("Fixing and trixing - removing XXX",f.v,f.w,f.name),w=qK(f.v),k=qK(f.w),s.removeEdge(f.v,f.w,f.name);const b=f.w+"---"+f.v;s.setNode(b,{domId:b,id:b,labelStyle:"",labelText:p.label,padding:0,shape:"labelRect",style:""});const _=JSON.parse(JSON.stringify(p)),A=JSON.parse(JSON.stringify(p));_.label="",_.arrowTypeEnd="none",A.label="",_.fromCluster=f.v,A.toCluster=f.v,s.setEdge(w,b,_,f.name+"-cyclic-special"),s.setEdge(b,k,A,f.name+"-cyclic-special")}else(Zo[f.v]||Zo[f.w])&&(je.warn("Fixing and trixing - removing XXX",f.v,f.w,f.name),w=qK(f.v),k=qK(f.w),s.removeEdge(f.v,f.w,f.name),w!==f.v&&(p.fromCluster=f.v),k!==f.w&&(p.toCluster=f.w),je.warn("Fix Replacing with XXX",w,k,f.name),s.setEdge(w,k,p,f.name))}),je.warn("Adjusted Graph",m5(s)),NNe(s,0),je.trace(Zo)},NNe=(s,o)=>{if(je.warn("extractor - ",o,m5(s),s.children("D")),o>10){je.error("Bailing out");return}let f=s.nodes(),p=!1;for(const w of f){const k=s.children(w);p=p||k.length>0}if(!p){je.debug("Done, no node has children",s.nodes());return}je.debug("Nodes = ",f,o);for(const w of f)if(je.debug("Extracting node",w,Zo,Zo[w]&&!Zo[w].externalConnections,!s.parent(w),s.node(w),s.children("D")," Depth ",o),!Zo[w])je.debug("Not a cluster",w,o);else if(!Zo[w].externalConnections&&s.children(w)&&s.children(w).length>0){je.warn("Cluster without external connections, without a parent and with children",w,o);let b=s.graph().rankdir==="TB"?"LR":"TB";Zo[w]&&Zo[w].clusterData&&Zo[w].clusterData.dir&&(b=Zo[w].clusterData.dir,je.warn("Fixing dir",Zo[w].clusterData.dir,b));const _=new Hf({multigraph:!0,compound:!0}).setGraph({rankdir:b,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});je.warn("Old graph before copy",m5(s)),INe(w,s,_,w),s.setNode(w,{clusterNode:!0,id:w,clusterData:Zo[w].clusterData,labelText:Zo[w].labelText,graph:_}),je.warn("New graph after copy node: (",w,")",m5(_)),je.debug("Old graph after copy",m5(s))}else je.warn("Cluster ** ",w," **not meeting the criteria !externalConnections:",!Zo[w].externalConnections," no parent: ",!s.parent(w)," children ",s.children(w)&&s.children(w).length>0,s.children("D"),o),je.debug(Zo);f=s.nodes(),je.warn("New list of nodes",f);for(const w of f){const k=s.node(w);je.warn(" Now next level",w,k),k.clusterNode&&NNe(k.graph,o+1)}},PNe=(s,o)=>{if(o.length===0)return[];let f=Object.assign(o);return o.forEach(p=>{const w=s.children(p),k=PNe(s,w);f=[...f,...k]}),f},pPt=s=>PNe(s,s.children());function bPt(s,o){return s.intersect(o)}function BNe(s,o,f,p){var w=s.x,k=s.y,b=w-p.x,_=k-p.y,A=Math.sqrt(o*o*_*_+f*f*b*b),N=Math.abs(o*f*b/A);p.x<w&&(N=-N);var B=Math.abs(o*f*_/A);return p.y<k&&(B=-B),{x:w+N,y:k+B}}function vPt(s,o,f){return BNe(s,o,o,f)}function wPt(s,o,f,p){var w,k,b,_,A,N,B,F,H,j,V,Z,ae,le,ce;if(w=o.y-s.y,b=s.x-o.x,A=o.x*s.y-s.x*o.y,H=w*f.x+b*f.y+A,j=w*p.x+b*p.y+A,!(H!==0&&j!==0&&FNe(H,j))&&(k=p.y-f.y,_=f.x-p.x,N=p.x*f.y-f.x*p.y,B=k*s.x+_*s.y+N,F=k*o.x+_*o.y+N,!(B!==0&&F!==0&&FNe(B,F))&&(V=w*_-k*b,V!==0)))return Z=Math.abs(V/2),ae=b*N-_*A,le=ae<0?(ae-Z)/V:(ae+Z)/V,ae=k*A-w*N,ce=ae<0?(ae-Z)/V:(ae+Z)/V,{x:le,y:ce}}function FNe(s,o){return s*o>0}function mPt(s,o,f){var p=s.x,w=s.y,k=[],b=Number.POSITIVE_INFINITY,_=Number.POSITIVE_INFINITY;typeof o.forEach=="function"?o.forEach(function(V){b=Math.min(b,V.x),_=Math.min(_,V.y)}):(b=Math.min(b,o.x),_=Math.min(_,o.y));for(var A=p-s.width/2-b,N=w-s.height/2-_,B=0;B<o.length;B++){var F=o[B],H=o[B<o.length-1?B+1:0],j=wPt(s,f,{x:A+F.x,y:N+F.y},{x:A+H.x,y:N+H.y});j&&k.push(j)}return k.length?(k.length>1&&k.sort(function(V,Z){var ae=V.x-f.x,le=V.y-f.y,ce=Math.sqrt(ae*ae+le*le),be=Z.x-f.x,xe=Z.y-f.y,Ee=Math.sqrt(be*be+xe*xe);return ce<Ee?-1:ce===Ee?0:1}),k[0]):s}const ZN=(s,o)=>{var f=s.x,p=s.y,w=o.x-f,k=o.y-p,b=s.width/2,_=s.height/2,A,N;return Math.abs(k)*b>Math.abs(w)*_?(k<0&&(_=-_),A=k===0?0:_*w/k,N=_):(w<0&&(b=-b),A=b,N=w===0?0:b*k/w),{x:f+A,y:p+N}},Ah={node:bPt,circle:vPt,ellipse:BNe,polygon:mPt,rect:ZN},yPt=(s,o)=>{const{shapeSvg:f,bbox:p,halfPadding:w}=y0(s,o,"node "+o.classes,!0);je.info("Classes = ",o.classes);const k=f.insert("rect",":first-child");return k.attr("rx",o.rx).attr("ry",o.ry).attr("x",-p.width/2-w).attr("y",-p.height/2-w).attr("width",p.width+o.padding).attr("height",p.height+o.padding),cf(o,k),o.intersect=function(b){return Ah.rect(o,b)},f},RNe=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=p.height+o.padding,b=w+k,_=[{x:b/2,y:0},{x:b,y:-b/2},{x:b/2,y:-b},{x:0,y:-b/2}];je.info("Question main (Circle)");const A=y5(f,b,b,_);return A.attr("style",o.style),cf(o,A),o.intersect=function(N){return je.warn("Intersect called"),Ah.polygon(o,_,N)},f},kPt=(s,o)=>{const f=s.insert("g").attr("class","node default").attr("id",o.domId||o.id),p=28,w=[{x:0,y:p/2},{x:p/2,y:0},{x:0,y:-p/2},{x:-p/2,y:0}];return f.insert("polygon",":first-child").attr("points",w.map(function(b){return b.x+","+b.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),o.width=28,o.height=28,o.intersect=function(b){return Ah.circle(o,14,b)},f},xPt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=4,k=p.height+o.padding,b=k/w,_=p.width+2*b+o.padding,A=[{x:b,y:0},{x:_-b,y:0},{x:_,y:-k/2},{x:_-b,y:-k},{x:b,y:-k},{x:0,y:-k/2}],N=y5(f,_,k,A);return N.attr("style",o.style),cf(o,N),o.intersect=function(B){return Ah.polygon(o,A,B)},f},EPt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=p.height+o.padding,b=[{x:-k/2,y:0},{x:w,y:0},{x:w,y:-k},{x:-k/2,y:-k},{x:0,y:-k/2}];return y5(f,w,k,b).attr("style",o.style),o.width=w+k,o.height=k,o.intersect=function(A){return Ah.polygon(o,b,A)},f},TPt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=p.height+o.padding,b=[{x:-2*k/6,y:0},{x:w-k/6,y:0},{x:w+2*k/6,y:-k},{x:k/6,y:-k}],_=y5(f,w,k,b);return _.attr("style",o.style),cf(o,_),o.intersect=function(A){return Ah.polygon(o,b,A)},f},_Pt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=p.height+o.padding,b=[{x:2*k/6,y:0},{x:w+k/6,y:0},{x:w-2*k/6,y:-k},{x:-k/6,y:-k}],_=y5(f,w,k,b);return _.attr("style",o.style),cf(o,_),o.intersect=function(A){return Ah.polygon(o,b,A)},f},CPt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=p.height+o.padding,b=[{x:-2*k/6,y:0},{x:w+2*k/6,y:0},{x:w-k/6,y:-k},{x:k/6,y:-k}],_=y5(f,w,k,b);return _.attr("style",o.style),cf(o,_),o.intersect=function(A){return Ah.polygon(o,b,A)},f},SPt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=p.height+o.padding,b=[{x:k/6,y:0},{x:w-k/6,y:0},{x:w+2*k/6,y:-k},{x:-2*k/6,y:-k}],_=y5(f,w,k,b);return _.attr("style",o.style),cf(o,_),o.intersect=function(A){return Ah.polygon(o,b,A)},f},APt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=p.height+o.padding,b=[{x:0,y:0},{x:w+k/2,y:0},{x:w,y:-k/2},{x:w+k/2,y:-k},{x:0,y:-k}],_=y5(f,w,k,b);return _.attr("style",o.style),cf(o,_),o.intersect=function(A){return Ah.polygon(o,b,A)},f},LPt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=w/2,b=k/(2.5+w/50),_=p.height+b+o.padding,A="M 0,"+b+" a "+k+","+b+" 0,0,0 "+w+" 0 a "+k+","+b+" 0,0,0 "+-w+" 0 l 0,"+_+" a "+k+","+b+" 0,0,0 "+w+" 0 l 0,"+-_,N=f.attr("label-offset-y",b).insert("path",":first-child").attr("style",o.style).attr("d",A).attr("transform","translate("+-w/2+","+-(_/2+b)+")");return cf(o,N),o.intersect=function(B){const F=Ah.rect(o,B),H=F.x-o.x;if(k!=0&&(Math.abs(H)<o.width/2||Math.abs(H)==o.width/2&&Math.abs(F.y-o.y)>o.height/2-b)){let j=b*b*(1-H*H/(k*k));j!=0&&(j=Math.sqrt(j)),j=b-j,B.y-o.y>0&&(j=-j),F.y+=j}return F},f},MPt=(s,o)=>{const{shapeSvg:f,bbox:p,halfPadding:w}=y0(s,o,"node "+o.classes,!0);je.trace("Classes = ",o.classes);const k=f.insert("rect",":first-child"),b=p.width+o.padding,_=p.height+o.padding;if(k.attr("class","basic label-container").attr("style",o.style).attr("rx",o.rx).attr("ry",o.ry).attr("x",-p.width/2-w).attr("y",-p.height/2-w).attr("width",b).attr("height",_),o.props){const A=new Set(Object.keys(o.props));o.props.borders&&(jNe(k,o.props.borders,b,_),A.delete("borders")),A.forEach(N=>{je.warn(`Unknown node property ${N}`)})}return cf(o,k),o.intersect=function(A){return Ah.rect(o,A)},f},DPt=(s,o)=>{const{shapeSvg:f}=y0(s,o,"label",!0);je.trace("Classes = ",o.classes);const p=f.insert("rect",":first-child"),w=0,k=0;if(p.attr("width",w).attr("height",k),f.attr("class","label edgeLabel"),o.props){const b=new Set(Object.keys(o.props));o.props.borders&&(jNe(p,o.props.borders,w,k),b.delete("borders")),b.forEach(_=>{je.warn(`Unknown node property ${_}`)})}return cf(o,p),o.intersect=function(b){return Ah.rect(o,b)},f};function jNe(s,o,f,p){const w=[],k=_=>{w.push(_,0)},b=_=>{w.push(0,_)};o.includes("t")?(je.debug("add top border"),k(f)):b(f),o.includes("r")?(je.debug("add right border"),k(p)):b(p),o.includes("b")?(je.debug("add bottom border"),k(f)):b(f),o.includes("l")?(je.debug("add left border"),k(p)):b(p),s.attr("stroke-dasharray",w.join(" "))}const IPt=(s,o)=>{let f;o.classes?f="node "+o.classes:f="node default";const p=s.insert("g").attr("class",f).attr("id",o.domId||o.id),w=p.insert("rect",":first-child"),k=p.insert("line"),b=p.insert("g").attr("class","label"),_=o.labelText.flat?o.labelText.flat():o.labelText;let A="";typeof _=="object"?A=_[0]:A=_,je.info("Label text abc79",A,_,typeof _=="object");const N=b.node().appendChild(ip(A,o.labelStyle,!0,!0));let B={width:0,height:0};if(l1(Pt().flowchart.htmlLabels)){const Z=N.children[0],ae=sr(N);B=Z.getBoundingClientRect(),ae.attr("width",B.width),ae.attr("height",B.height)}je.info("Text 2",_);const F=_.slice(1,_.length);let H=N.getBBox();const j=b.node().appendChild(ip(F.join?F.join("<br/>"):F,o.labelStyle,!0,!0));if(l1(Pt().flowchart.htmlLabels)){const Z=j.children[0],ae=sr(j);B=Z.getBoundingClientRect(),ae.attr("width",B.width),ae.attr("height",B.height)}const V=o.padding/2;return sr(j).attr("transform","translate( "+(B.width>H.width?0:(H.width-B.width)/2)+", "+(H.height+V+5)+")"),sr(N).attr("transform","translate( "+(B.width<H.width?0:-(H.width-B.width)/2)+", "+0+")"),B=b.node().getBBox(),b.attr("transform","translate("+-B.width/2+", "+(-B.height/2-V+3)+")"),w.attr("class","outer title-state").attr("x",-B.width/2-V).attr("y",-B.height/2-V).attr("width",B.width+o.padding).attr("height",B.height+o.padding),k.attr("class","divider").attr("x1",-B.width/2-V).attr("x2",B.width/2+V).attr("y1",-B.height/2-V+H.height+V).attr("y2",-B.height/2-V+H.height+V),cf(o,w),o.intersect=function(Z){return Ah.rect(o,Z)},p},OPt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.height+o.padding,k=p.width+w/4+o.padding,b=f.insert("rect",":first-child").attr("style",o.style).attr("rx",w/2).attr("ry",w/2).attr("x",-k/2).attr("y",-w/2).attr("width",k).attr("height",w);return cf(o,b),o.intersect=function(_){return Ah.rect(o,_)},f},NPt=(s,o)=>{const{shapeSvg:f,bbox:p,halfPadding:w}=y0(s,o,void 0,!0),k=f.insert("circle",":first-child");return k.attr("style",o.style).attr("rx",o.rx).attr("ry",o.ry).attr("r",p.width/2+w).attr("width",p.width+o.padding).attr("height",p.height+o.padding),je.info("Circle main"),cf(o,k),o.intersect=function(b){return je.info("Circle intersect",o,p.width/2+w,b),Ah.circle(o,p.width/2+w,b)},f},PPt=(s,o)=>{const{shapeSvg:f,bbox:p,halfPadding:w}=y0(s,o,void 0,!0),k=5,b=f.insert("g",":first-child"),_=b.insert("circle"),A=b.insert("circle");return _.attr("style",o.style).attr("rx",o.rx).attr("ry",o.ry).attr("r",p.width/2+w+k).attr("width",p.width+o.padding+k*2).attr("height",p.height+o.padding+k*2),A.attr("style",o.style).attr("rx",o.rx).attr("ry",o.ry).attr("r",p.width/2+w).attr("width",p.width+o.padding).attr("height",p.height+o.padding),je.info("DoubleCircle main"),cf(o,_),o.intersect=function(N){return je.info("DoubleCircle intersect",o,p.width/2+w+k,N),Ah.circle(o,p.width/2+w+k,N)},f},BPt=(s,o)=>{const{shapeSvg:f,bbox:p}=y0(s,o,void 0,!0),w=p.width+o.padding,k=p.height+o.padding,b=[{x:0,y:0},{x:w,y:0},{x:w,y:-k},{x:0,y:-k},{x:0,y:0},{x:-8,y:0},{x:w+8,y:0},{x:w+8,y:-k},{x:-8,y:-k},{x:-8,y:0}],_=y5(f,w,k,b);return _.attr("style",o.style),cf(o,_),o.intersect=function(A){return Ah.polygon(o,b,A)},f},FPt=(s,o)=>{const f=s.insert("g").attr("class","node default").attr("id",o.domId||o.id),p=f.insert("circle",":first-child");return p.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),cf(o,p),o.intersect=function(w){return Ah.circle(o,7,w)},f},$Ne=(s,o,f)=>{const p=s.insert("g").attr("class","node default").attr("id",o.domId||o.id);let w=70,k=10;f==="LR"&&(w=10,k=70);const b=p.append("rect").attr("x",-1*w/2).attr("y",-1*k/2).attr("width",w).attr("height",k).attr("class","fork-join");return cf(o,b),o.height=o.height+o.padding/2,o.width=o.width+o.padding/2,o.intersect=function(_){return Ah.rect(o,_)},p},HNe={rhombus:RNe,question:RNe,rect:MPt,labelRect:DPt,rectWithTitle:IPt,choice:kPt,circle:NPt,doublecircle:PPt,stadium:OPt,hexagon:xPt,rect_left_inv_arrow:EPt,lean_right:TPt,lean_left:_Pt,trapezoid:CPt,inv_trapezoid:SPt,rect_right_inv_arrow:APt,cylinder:LPt,start:FPt,end:(s,o)=>{const f=s.insert("g").attr("class","node default").attr("id",o.domId||o.id),p=f.insert("circle",":first-child"),w=f.insert("circle",":first-child");return w.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),p.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),cf(o,w),o.intersect=function(k){return Ah.circle(o,7,k)},f},note:yPt,subroutine:BPt,fork:$Ne,join:$Ne,class_box:(s,o)=>{const f=o.padding/2,p=4,w=8;let k;o.classes?k="node "+o.classes:k="node default";const b=s.insert("g").attr("class",k).attr("id",o.domId||o.id),_=b.insert("rect",":first-child"),A=b.insert("line"),N=b.insert("line");let B=0,F=p;const H=b.insert("g").attr("class","label");let j=0;const V=o.classData.annotations&&o.classData.annotations[0],Z=o.classData.annotations[0]?"«"+o.classData.annotations[0]+"»":"",ae=H.node().appendChild(ip(Z,o.labelStyle,!0,!0));let le=ae.getBBox();if(l1(Pt().flowchart.htmlLabels)){const ye=ae.children[0],re=sr(ae);le=ye.getBoundingClientRect(),re.attr("width",le.width),re.attr("height",le.height)}o.classData.annotations[0]&&(F+=le.height+p,B+=le.width);let ce=o.classData.id;o.classData.type!==void 0&&o.classData.type!==""&&(Pt().flowchart.htmlLabels?ce+="&lt;"+o.classData.type+"&gt;":ce+="<"+o.classData.type+">");const be=H.node().appendChild(ip(ce,o.labelStyle,!0,!0));sr(be).attr("class","classTitle");let xe=be.getBBox();if(l1(Pt().flowchart.htmlLabels)){const ye=be.children[0],re=sr(be);xe=ye.getBoundingClientRect(),re.attr("width",xe.width),re.attr("height",xe.height)}F+=xe.height+p,xe.width>B&&(B=xe.width);const Ee=[];o.classData.members.forEach(ye=>{const re=$K(ye);let we=re.displayText;Pt().flowchart.htmlLabels&&(we=we.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const ke=H.node().appendChild(ip(we,re.cssStyle?re.cssStyle:o.labelStyle,!0,!0));let he=ke.getBBox();if(l1(Pt().flowchart.htmlLabels)){const De=ke.children[0],X=sr(ke);he=De.getBoundingClientRect(),X.attr("width",he.width),X.attr("height",he.height)}he.width>B&&(B=he.width),F+=he.height+p,Ee.push(ke)}),F+=w;const Me=[];if(o.classData.methods.forEach(ye=>{const re=$K(ye);let we=re.displayText;Pt().flowchart.htmlLabels&&(we=we.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const ke=H.node().appendChild(ip(we,re.cssStyle?re.cssStyle:o.labelStyle,!0,!0));let he=ke.getBBox();if(l1(Pt().flowchart.htmlLabels)){const De=ke.children[0],X=sr(ke);he=De.getBoundingClientRect(),X.attr("width",he.width),X.attr("height",he.height)}he.width>B&&(B=he.width),F+=he.height+p,Me.push(ke)}),F+=w,V){let ye=(B-le.width)/2;sr(ae).attr("transform","translate( "+(-1*B/2+ye)+", "+-1*F/2+")"),j=le.height+p}let fe=(B-xe.width)/2;return sr(be).attr("transform","translate( "+(-1*B/2+fe)+", "+(-1*F/2+j)+")"),j+=xe.height+p,A.attr("class","divider").attr("x1",-B/2-f).attr("x2",B/2+f).attr("y1",-F/2-f+w+j).attr("y2",-F/2-f+w+j),j+=w,Ee.forEach(ye=>{sr(ye).attr("transform","translate( "+-B/2+", "+(-1*F/2+j+w/2)+")"),j+=xe.height+p}),j+=w,N.attr("class","divider").attr("x1",-B/2-f).attr("x2",B/2+f).attr("y1",-F/2-f+w+j).attr("y2",-F/2-f+w+j),j+=w,Me.forEach(ye=>{sr(ye).attr("transform","translate( "+-B/2+", "+(-1*F/2+j)+")"),j+=xe.height+p}),_.attr("class","outer title-state").attr("x",-B/2-f).attr("y",-(F/2)-f).attr("width",B+o.padding).attr("height",F+o.padding),cf(o,_),o.intersect=function(ye){return Ah.rect(o,ye)},b}};let $A={};const zNe=(s,o,f)=>{let p,w;if(o.link){let k;Pt().securityLevel==="sandbox"?k="_top":o.linkTarget&&(k=o.linkTarget||"_blank"),p=s.insert("svg:a").attr("xlink:href",o.link).attr("target",k),w=HNe[o.shape](p,o,f)}else w=HNe[o.shape](s,o,f),p=w;return o.tooltip&&w.attr("title",o.tooltip),o.class&&w.attr("class","node default "+o.class),$A[o.id]=p,o.haveCallback&&$A[o.id].attr("class",$A[o.id].attr("class")+" clickable"),p},RPt=(s,o)=>{$A[o.id]=s},jPt=()=>{$A={}},GNe=s=>{const o=$A[s.id];je.trace("Transforming node",s.diff,s,"translate("+(s.x-s.width/2-5)+", "+s.width/2+")");const f=8,p=s.diff||0;return s.clusterNode?o.attr("transform","translate("+(s.x+p-s.width/2)+", "+(s.y-s.height/2-f)+")"):o.attr("transform","translate("+s.x+", "+s.y+")"),p},$Pt={rect:(s,o)=>{je.trace("Creating subgraph rect for ",o.id,o);const f=s.insert("g").attr("class","cluster"+(o.class?" "+o.class:"")).attr("id",o.id),p=f.insert("rect",":first-child"),w=f.insert("g").attr("class","cluster-label"),k=w.node().appendChild(ip(o.labelText,o.labelStyle,void 0,!0));let b=k.getBBox();if(l1(Pt().flowchart.htmlLabels)){const F=k.children[0],H=sr(k);b=F.getBoundingClientRect(),H.attr("width",b.width),H.attr("height",b.height)}const _=0*o.padding,A=_/2,N=o.width<=b.width+_?b.width+_:o.width;o.width<=b.width+_?o.diff=(b.width-o.width)/2-o.padding/2:o.diff=-o.padding/2,je.trace("Data ",o,JSON.stringify(o)),p.attr("style",o.style).attr("rx",o.rx).attr("ry",o.ry).attr("x",o.x-N/2).attr("y",o.y-o.height/2-A).attr("width",N).attr("height",o.height+_),w.attr("transform","translate("+(o.x-b.width/2)+", "+(o.y-o.height/2)+")");const B=p.node().getBBox();return o.width=B.width,o.height=B.height,o.intersect=function(F){return ZN(o,F)},f},roundedWithTitle:(s,o)=>{const f=s.insert("g").attr("class",o.classes).attr("id",o.id),p=f.insert("rect",":first-child"),w=f.insert("g").attr("class","cluster-label"),k=f.append("rect"),b=w.node().appendChild(ip(o.labelText,o.labelStyle,void 0,!0));let _=b.getBBox();if(l1(Pt().flowchart.htmlLabels)){const H=b.children[0],j=sr(b);_=H.getBoundingClientRect(),j.attr("width",_.width),j.attr("height",_.height)}_=b.getBBox();const A=0*o.padding,N=A/2,B=o.width<=_.width+o.padding?_.width+o.padding:o.width;o.width<=_.width+o.padding?o.diff=(_.width+o.padding*0-o.width)/2:o.diff=-o.padding/2,p.attr("class","outer").attr("x",o.x-B/2-N).attr("y",o.y-o.height/2-N).attr("width",B+A).attr("height",o.height+A),k.attr("class","inner").attr("x",o.x-B/2-N).attr("y",o.y-o.height/2-N+_.height-1).attr("width",B+A).attr("height",o.height+A-_.height-3),w.attr("transform","translate("+(o.x-_.width/2)+", "+(o.y-o.height/2-o.padding/3+(l1(Pt().flowchart.htmlLabels)?5:3))+")");const F=p.node().getBBox();return o.height=F.height,o.intersect=function(H){return ZN(o,H)},f},noteGroup:(s,o)=>{const f=s.insert("g").attr("class","note-cluster").attr("id",o.id),p=f.insert("rect",":first-child"),w=0*o.padding,k=w/2;p.attr("rx",o.rx).attr("ry",o.ry).attr("x",o.x-o.width/2-k).attr("y",o.y-o.height/2-k).attr("width",o.width+w).attr("height",o.height+w).attr("fill","none");const b=p.node().getBBox();return o.width=b.width,o.height=b.height,o.intersect=function(_){return ZN(o,_)},f},divider:(s,o)=>{const f=s.insert("g").attr("class",o.classes).attr("id",o.id),p=f.insert("rect",":first-child"),w=0*o.padding,k=w/2;p.attr("class","divider").attr("x",o.x-o.width/2-k).attr("y",o.y-o.height/2).attr("width",o.width+w).attr("height",o.height+w);const b=p.node().getBBox();return o.width=b.width,o.height=b.height,o.diff=-o.padding/2,o.intersect=function(_){return ZN(o,_)},f}};let qNe={};const HPt=(s,o)=>{je.trace("Inserting cluster");const f=o.shape||"rect";qNe[o.id]=$Pt[f](s,o)},zPt=()=>{qNe={}};let VK={},Bd={};const GPt=()=>{VK={},Bd={}},VNe=(s,o)=>{const f=ip(o.label,o.labelStyle),p=s.insert("g").attr("class","edgeLabel"),w=p.insert("g").attr("class","label");w.node().appendChild(f);let k=f.getBBox();if(l1(Pt().flowchart.htmlLabels)){const _=f.children[0],A=sr(f);k=_.getBoundingClientRect(),A.attr("width",k.width),A.attr("height",k.height)}w.attr("transform","translate("+-k.width/2+", "+-k.height/2+")"),VK[o.id]=p,o.width=k.width,o.height=k.height;let b;if(o.startLabelLeft){const _=ip(o.startLabelLeft,o.labelStyle),A=s.insert("g").attr("class","edgeTerminals"),N=A.insert("g").attr("class","inner");b=N.node().appendChild(_);const B=_.getBBox();N.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),Bd[o.id]||(Bd[o.id]={}),Bd[o.id].startLeft=A,UK(b,o.startLabelLeft)}if(o.startLabelRight){const _=ip(o.startLabelRight,o.labelStyle),A=s.insert("g").attr("class","edgeTerminals"),N=A.insert("g").attr("class","inner");b=A.node().appendChild(_),N.node().appendChild(_);const B=_.getBBox();N.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),Bd[o.id]||(Bd[o.id]={}),Bd[o.id].startRight=A,UK(b,o.startLabelRight)}if(o.endLabelLeft){const _=ip(o.endLabelLeft,o.labelStyle),A=s.insert("g").attr("class","edgeTerminals"),N=A.insert("g").attr("class","inner");b=N.node().appendChild(_);const B=_.getBBox();N.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),A.node().appendChild(_),Bd[o.id]||(Bd[o.id]={}),Bd[o.id].endLeft=A,UK(b,o.endLabelLeft)}if(o.endLabelRight){const _=ip(o.endLabelRight,o.labelStyle),A=s.insert("g").attr("class","edgeTerminals"),N=A.insert("g").attr("class","inner");b=N.node().appendChild(_);const B=_.getBBox();N.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),A.node().appendChild(_),Bd[o.id]||(Bd[o.id]={}),Bd[o.id].endRight=A,UK(b,o.endLabelRight)}return f};function UK(s,o){Pt().flowchart.htmlLabels&&s&&(s.style.width=o.length*9+"px",s.style.height="12px")}const qPt=(s,o)=>{je.info("Moving label abc78 ",s.id,s.label,VK[s.id]);let f=o.updatedPath?o.updatedPath:o.originalPath;if(s.label){const p=VK[s.id];let w=s.x,k=s.y;if(f){const b=Pa.calcLabelPosition(f);je.info("Moving label "+s.label+" from (",w,",",k,") to (",b.x,",",b.y,") abc78"),o.updatedPath&&(w=b.x,k=b.y)}p.attr("transform","translate("+w+", "+k+")")}if(s.startLabelLeft){const p=Bd[s.id].startLeft;let w=s.x,k=s.y;if(f){const b=Pa.calcTerminalLabelPosition(s.arrowTypeStart?10:0,"start_left",f);w=b.x,k=b.y}p.attr("transform","translate("+w+", "+k+")")}if(s.startLabelRight){const p=Bd[s.id].startRight;let w=s.x,k=s.y;if(f){const b=Pa.calcTerminalLabelPosition(s.arrowTypeStart?10:0,"start_right",f);w=b.x,k=b.y}p.attr("transform","translate("+w+", "+k+")")}if(s.endLabelLeft){const p=Bd[s.id].endLeft;let w=s.x,k=s.y;if(f){const b=Pa.calcTerminalLabelPosition(s.arrowTypeEnd?10:0,"end_left",f);w=b.x,k=b.y}p.attr("transform","translate("+w+", "+k+")")}if(s.endLabelRight){const p=Bd[s.id].endRight;let w=s.x,k=s.y;if(f){const b=Pa.calcTerminalLabelPosition(s.arrowTypeEnd?10:0,"end_right",f);w=b.x,k=b.y}p.attr("transform","translate("+w+", "+k+")")}},VPt=(s,o)=>{const f=s.x,p=s.y,w=Math.abs(o.x-f),k=Math.abs(o.y-p),b=s.width/2,_=s.height/2;return w>=b||k>=_},UPt=(s,o,f)=>{je.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(o)}
  insidePoint : ${JSON.stringify(f)}
  node        : x:${s.x} y:${s.y} w:${s.width} h:${s.height}`);const p=s.x,w=s.y,k=Math.abs(p-f.x),b=s.width/2;let _=f.x<o.x?b-k:b+k;const A=s.height/2,N=Math.abs(o.y-f.y),B=Math.abs(o.x-f.x);if(Math.abs(w-o.y)*b>Math.abs(p-o.x)*A){let F=f.y<o.y?o.y-A-w:w-A-o.y;_=B*F/N;const H={x:f.x<o.x?f.x+_:f.x-B+_,y:f.y<o.y?f.y+N-F:f.y-N+F};return _===0&&(H.x=o.x,H.y=o.y),B===0&&(H.x=o.x),N===0&&(H.y=o.y),je.warn(`abc89 topp/bott calc, Q ${N}, q ${F}, R ${B}, r ${_}`,H),H}else{f.x<o.x?_=o.x-b-p:_=p-b-o.x;let F=N*_/B,H=f.x<o.x?f.x+B-_:f.x-B+_,j=f.y<o.y?f.y+F:f.y-F;return je.warn(`sides calc abc89, Q ${N}, q ${F}, R ${B}, r ${_}`,{_x:H,_y:j}),_===0&&(H=o.x,j=o.y),B===0&&(H=o.x),N===0&&(j=o.y),{x:H,y:j}}},UNe=(s,o)=>{je.warn("abc88 cutPathAtIntersect",s,o);let f=[],p=s[0],w=!1;return s.forEach(k=>{if(je.info("abc88 checking point",k,o),!VPt(o,k)&&!w){const b=UPt(o,p,k);je.warn("abc88 inside",k,p,b),je.warn("abc88 intersection",b);let _=!1;f.forEach(A=>{_=_||A.x===b.x&&A.y===b.y}),f.some(A=>A.x===b.x&&A.y===b.y)?je.warn("abc88 no intersect",b,f):f.push(b),w=!0}else je.warn("abc88 outside",k,p),p=k,w||f.push(k)}),je.warn("abc88 returning points",f),f},KPt=function(s,o,f,p,w,k){let b=f.points,_=!1;const A=k.node(o.v);var N=k.node(o.w);je.info("abc88 InsertEdge: ",f),N.intersect&&A.intersect&&(b=b.slice(1,f.points.length-1),b.unshift(A.intersect(b[0])),je.info("Last point",b[b.length-1],N,N.intersect(b[b.length-1])),b.push(N.intersect(b[b.length-1]))),f.toCluster&&(je.info("to cluster abc88",p[f.toCluster]),b=UNe(f.points,p[f.toCluster].node),_=!0),f.fromCluster&&(je.info("from cluster abc88",p[f.fromCluster]),b=UNe(b.reverse(),p[f.fromCluster].node).reverse(),_=!0);const B=b.filter(le=>!Number.isNaN(le.y));let F;w==="graph"||w==="flowchart"?F=f.curve||pA:F=pA;const H=RE().x(function(le){return le.x}).y(function(le){return le.y}).curve(F);let j;switch(f.thickness){case"normal":j="edge-thickness-normal";break;case"thick":j="edge-thickness-thick";break;default:j=""}switch(f.pattern){case"solid":j+=" edge-pattern-solid";break;case"dotted":j+=" edge-pattern-dotted";break;case"dashed":j+=" edge-pattern-dashed";break}const V=s.append("path").attr("d",H(B)).attr("id",f.id).attr("class"," "+j+(f.classes?" "+f.classes:"")).attr("style",f.style);let Z="";switch((Pt().flowchart.arrowMarkerAbsolute||Pt().state.arrowMarkerAbsolute)&&(Z=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Z=Z.replace(/\(/g,"\\("),Z=Z.replace(/\)/g,"\\)")),je.info("arrowTypeStart",f.arrowTypeStart),je.info("arrowTypeEnd",f.arrowTypeEnd),f.arrowTypeStart){case"arrow_cross":V.attr("marker-start","url("+Z+"#"+w+"-crossStart)");break;case"arrow_point":V.attr("marker-start","url("+Z+"#"+w+"-pointStart)");break;case"arrow_barb":V.attr("marker-start","url("+Z+"#"+w+"-barbStart)");break;case"arrow_circle":V.attr("marker-start","url("+Z+"#"+w+"-circleStart)");break;case"aggregation":V.attr("marker-start","url("+Z+"#"+w+"-aggregationStart)");break;case"extension":V.attr("marker-start","url("+Z+"#"+w+"-extensionStart)");break;case"composition":V.attr("marker-start","url("+Z+"#"+w+"-compositionStart)");break;case"dependency":V.attr("marker-start","url("+Z+"#"+w+"-dependencyStart)");break;case"lollipop":V.attr("marker-start","url("+Z+"#"+w+"-lollipopStart)");break}switch(f.arrowTypeEnd){case"arrow_cross":V.attr("marker-end","url("+Z+"#"+w+"-crossEnd)");break;case"arrow_point":V.attr("marker-end","url("+Z+"#"+w+"-pointEnd)");break;case"arrow_barb":V.attr("marker-end","url("+Z+"#"+w+"-barbEnd)");break;case"arrow_circle":V.attr("marker-end","url("+Z+"#"+w+"-circleEnd)");break;case"aggregation":V.attr("marker-end","url("+Z+"#"+w+"-aggregationEnd)");break;case"extension":V.attr("marker-end","url("+Z+"#"+w+"-extensionEnd)");break;case"composition":V.attr("marker-end","url("+Z+"#"+w+"-compositionEnd)");break;case"dependency":V.attr("marker-end","url("+Z+"#"+w+"-dependencyEnd)");break;case"lollipop":V.attr("marker-end","url("+Z+"#"+w+"-lollipopEnd)");break}let ae={};return _&&(ae.updatedPath=b),ae.originalPath=f.points,ae},KNe=(s,o,f,p)=>{je.info("Graph in recursive render: XXX",m5(o),p);const w=o.graph().rankdir;je.trace("Dir in recursive render - dir:",w);const k=s.insert("g").attr("class","root");o.nodes()?je.info("Recursive render XXX",o.nodes()):je.info("No nodes found for",o),o.edges().length>0&&je.trace("Recursive edges",o.edge(o.edges()[0]));const b=k.insert("g").attr("class","clusters"),_=k.insert("g").attr("class","edgePaths"),A=k.insert("g").attr("class","edgeLabels"),N=k.insert("g").attr("class","nodes");o.nodes().forEach(function(F){const H=o.node(F);if(p!==void 0){const j=JSON.parse(JSON.stringify(p.clusterData));je.info("Setting data for cluster XXX (",F,") ",j,p),o.setNode(p.id,j),o.parent(F)||(je.trace("Setting parent",F,p.id),o.setParent(F,p.id,j))}if(je.info("(Insert) Node XXX"+F+": "+JSON.stringify(o.node(F))),H&&H.clusterNode){je.info("Cluster identified",F,H.width,o.node(F));const j=KNe(N,H.graph,f,o.node(F)),V=j.elem;cf(H,V),H.diff=j.diff||0,je.info("Node bounds (abc123)",F,H,H.width,H.x,H.y),RPt(V,H),je.warn("Recursive render complete ",V,H)}else o.children(F).length>0?(je.info("Cluster - the non recursive path XXX",F,H.id,H,o),je.info(QN(H.id,o)),Zo[H.id]={id:QN(H.id,o),node:H}):(je.info("Node - the non recursive path",F,H.id,H),zNe(N,o.node(F),w))}),o.edges().forEach(function(F){const H=o.edge(F.v,F.w,F.name);je.info("Edge "+F.v+" -> "+F.w+": "+JSON.stringify(F)),je.info("Edge "+F.v+" -> "+F.w+": ",F," ",JSON.stringify(o.edge(F))),je.info("Fix",Zo,"ids:",F.v,F.w,"Translateing: ",Zo[F.v],Zo[F.w]),VNe(A,H)}),o.edges().forEach(function(F){je.info("Edge "+F.v+" -> "+F.w+": "+JSON.stringify(F))}),je.info("#############################################"),je.info("###                Layout                 ###"),je.info("#############################################"),je.info(o),jA(o),je.info("Graph after layout:",m5(o));let B=0;return pPt(o).forEach(function(F){const H=o.node(F);je.info("Position "+F+": "+JSON.stringify(o.node(F))),je.info("Position "+F+": ("+H.x,","+H.y,") width: ",H.width," height: ",H.height),H&&H.clusterNode?GNe(H):o.children(F).length>0?(HPt(b,H),Zo[H.id].node=H):GNe(H)}),o.edges().forEach(function(F){const H=o.edge(F);je.info("Edge "+F.v+" -> "+F.w+": "+JSON.stringify(H),H);const j=KPt(_,F,H,Zo,f,o);qPt(H,j)}),o.nodes().forEach(function(F){const H=o.node(F);je.info(F,H.type,H.diff),H.type==="group"&&(B=H.diff)}),{elem:k,diff:B}},$de=(s,o,f,p,w)=>{MNe(s,f,p,w),jPt(),GPt(),zPt(),fPt(),je.warn("Graph at first:",m5(o)),gPt(o),je.warn("Graph after:",m5(o)),KNe(s,o,p)},WNe=s=>xa.sanitizeText(s,Pt());let YNe={dividerMargin:10,padding:5,textHeight:10};const WPt=function(s,o,f,p){const w=Object.keys(s);je.info("keys:",w),je.info(s),w.forEach(function(k){const b=s[k];let _="";b.cssClasses.length>0&&(_=_+" "+b.cssClasses.join(" "));const A={labelStyle:""};let N=b.text!==void 0?b.text:b.id,B=0,F="";switch(b.type){case"class":F="class_box";break;default:F="class_box"}o.setNode(b.id,{labelStyle:A.labelStyle,shape:F,labelText:WNe(N),classData:b,rx:B,ry:B,class:_,style:A.style,id:b.id,domId:b.domId,tooltip:p.db.getTooltip(b.id)||"",haveCallback:b.haveCallback,link:b.link,width:b.type==="group"?500:void 0,type:b.type,padding:Pt().flowchart.padding}),je.info("setNode",{labelStyle:A.labelStyle,shape:F,labelText:N,rx:B,ry:B,class:_,style:A.style,id:b.id,width:b.type==="group"?500:void 0,type:b.type,padding:Pt().flowchart.padding})})},YPt=function(s,o,f,p){je.info(s),s.forEach(function(w,k){const b=w;let _="";const A={labelStyle:"",style:""};let N=b.text,B=0,F="note";if(o.setNode(b.id,{labelStyle:A.labelStyle,shape:F,labelText:WNe(N),noteData:b,rx:B,ry:B,class:_,style:A.style,id:b.id,domId:b.id,tooltip:"",type:"note",padding:Pt().flowchart.padding}),je.info("setNode",{labelStyle:A.labelStyle,shape:F,labelText:N,rx:B,ry:B,style:A.style,id:b.id,type:"note",padding:Pt().flowchart.padding}),!b.class||!(b.class in p))return;const H=f+k,j={};j.classes="relation",j.pattern="dotted",j.id=`edgeNote${H}`,j.arrowhead="none",je.info(`Note edge: ${JSON.stringify(j)}, ${JSON.stringify(b)}`),j.startLabelRight="",j.endLabelLeft="",j.arrowTypeStart="none",j.arrowTypeEnd="none";let V="fill:none",Z="";j.style=V,j.labelStyle=Z,j.curve=Jg(YNe.curve,Pd),o.setEdge(b.id,b.class,j,H)})},XPt=function(s,o){const f=Pt().flowchart;let p=0;s.forEach(function(w){p++;const k={};k.classes="relation",k.pattern=w.relation.lineType==1?"dashed":"solid",k.id="id"+p,w.type==="arrow_open"?k.arrowhead="none":k.arrowhead="normal",je.info(k,w),k.startLabelRight=w.relationTitle1==="none"?"":w.relationTitle1,k.endLabelLeft=w.relationTitle2==="none"?"":w.relationTitle2,k.arrowTypeStart=XNe(w.relation.type1),k.arrowTypeEnd=XNe(w.relation.type2);let b="",_="";if(w.style!==void 0){const A=qw(w.style);b=A.style,_=A.labelStyle}else b="fill:none";k.style=b,k.labelStyle=_,w.interpolate!==void 0?k.curve=Jg(w.interpolate,Pd):s.defaultInterpolate!==void 0?k.curve=Jg(s.defaultInterpolate,Pd):k.curve=Jg(f.curve,Pd),w.text=w.title,w.text===void 0?w.style!==void 0&&(k.arrowheadStyle="fill: #333"):(k.arrowheadStyle="fill: #333",k.labelpos="c",Pt().flowchart.htmlLabels?(k.labelType="html",k.label='<span class="edgeLabel">'+w.text+"</span>"):(k.labelType="text",k.label=w.text.replace(xa.lineBreakRegex,`
`),w.style===void 0&&(k.style=k.style||"stroke: #333; stroke-width: 1.5px;fill:none"),k.labelStyle=k.labelStyle.replace("color:","fill:"))),o.setEdge(w.id1,w.id2,k,p)})},QPt=function(s){Object.keys(s).forEach(function(f){YNe[f]=s[f]})},ZPt=function(s,o,f,p){je.info("Drawing class - ",o);const w=Pt().flowchart,k=Pt().securityLevel;je.info("config:",w);const b=w.nodeSpacing||50,_=w.rankSpacing||50,A=new Hf({multigraph:!0,compound:!0}).setGraph({rankdir:p.db.getDirection(),nodesep:b,ranksep:_,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),N=p.db.getClasses(),B=p.db.getRelations(),F=p.db.getNotes();je.info(B),WPt(N,A,o,p),XPt(B,A),YPt(F,A,B.length+1,N);let H;k==="sandbox"&&(H=sr("#i"+o));const j=sr(k==="sandbox"?H.nodes()[0].contentDocument.body:"body"),V=j.select(`[id="${o}"]`),Z=j.select("#"+o+" g");if($de(Z,A,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",o),Pa.insertTitle(V,"classTitleText",w.titleTopMargin,p.db.getDiagramTitle()),KE(A,V,w.diagramPadding,w.useMaxWidth),!w.htmlLabels){const ae=k==="sandbox"?H.nodes()[0].contentDocument:document,le=ae.querySelectorAll('[id="'+o+'"] .edgeLabel .label');for(const ce of le){const be=ce.getBBox(),xe=ae.createElementNS("http://www.w3.org/2000/svg","rect");xe.setAttribute("rx",0),xe.setAttribute("ry",0),xe.setAttribute("width",be.width),xe.setAttribute("height",be.height),ce.insertBefore(xe,ce.firstChild)}}};function XNe(s){let o;switch(s){case 0:o="aggregation";break;case 1:o="extension";break;case 2:o="composition";break;case 3:o="dependency";break;case 4:o="lollipop";break;default:o="none"}return o}const JPt={setConf:QPt,draw:ZPt};var Hde=function(){var s=function(ke,he,De,X){for(De=De||{},X=ke.length;X--;De[ke[X]]=he);return De},o=[1,2],f=[1,5],p=[6,9,11,23,25,27,29,30,31,51],w=[1,17],k=[1,18],b=[1,19],_=[1,20],A=[1,21],N=[1,22],B=[1,25],F=[1,30],H=[1,31],j=[1,32],V=[1,33],Z=[6,9,11,15,20,23,25,27,29,30,31,44,45,46,47,51],ae=[1,45],le=[30,31,48,49],ce=[4,6,9,11,23,25,27,29,30,31,51],be=[44,45,46,47],xe=[22,37],Ee=[1,65],Me=[1,64],fe=[22,37,39,41],ye={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyTypeList:35,attributeComment:36,ATTRIBUTE_WORD:37,attributeKeyType:38,COMMA:39,ATTRIBUTE_KEY:40,COMMENT:41,cardinality:42,relType:43,ZERO_OR_ONE:44,ZERO_OR_MORE:45,ONE_OR_MORE:46,ONLY_ONE:47,NON_IDENTIFYING:48,IDENTIFYING:49,WORD:50,open_directive:51,type_directive:52,arg_directive:53,close_directive:54,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",39:"COMMA",40:"ATTRIBUTE_KEY",41:"COMMENT",44:"ZERO_OR_ONE",45:"ZERO_OR_MORE",46:"ONE_OR_MORE",47:"ONLY_ONE",48:"NON_IDENTIFYING",49:"IDENTIFYING",50:"WORD",51:"open_directive",52:"type_directive",53:"arg_directive",54:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[35,3],[38,1],[36,1],[18,3],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(he,De,X,Re,pe,Ge,de){var ct=Ge.length-1;switch(pe){case 1:break;case 3:this.$=[];break;case 4:Ge[ct-1].push(Ge[ct]),this.$=Ge[ct-1];break;case 5:case 6:this.$=Ge[ct];break;case 7:case 8:this.$=[];break;case 12:Re.addEntity(Ge[ct-4]),Re.addEntity(Ge[ct-2]),Re.addRelationship(Ge[ct-4],Ge[ct],Ge[ct-2],Ge[ct-3]);break;case 13:Re.addEntity(Ge[ct-3]),Re.addAttributes(Ge[ct-3],Ge[ct-1]);break;case 14:Re.addEntity(Ge[ct-2]);break;case 15:Re.addEntity(Ge[ct]);break;case 16:case 17:this.$=Ge[ct].trim(),Re.setAccTitle(this.$);break;case 18:case 19:this.$=Ge[ct].trim(),Re.setAccDescription(this.$);break;case 20:case 43:this.$=Ge[ct];break;case 21:case 41:case 42:this.$=Ge[ct].replace(/"/g,"");break;case 22:case 30:this.$=[Ge[ct]];break;case 23:Ge[ct].push(Ge[ct-1]),this.$=Ge[ct];break;case 24:this.$={attributeType:Ge[ct-1],attributeName:Ge[ct]};break;case 25:this.$={attributeType:Ge[ct-2],attributeName:Ge[ct-1],attributeKeyTypeList:Ge[ct]};break;case 26:this.$={attributeType:Ge[ct-2],attributeName:Ge[ct-1],attributeComment:Ge[ct]};break;case 27:this.$={attributeType:Ge[ct-3],attributeName:Ge[ct-2],attributeKeyTypeList:Ge[ct-1],attributeComment:Ge[ct]};break;case 28:case 29:case 32:this.$=Ge[ct];break;case 31:Ge[ct-2].push(Ge[ct]),this.$=Ge[ct-2];break;case 33:this.$=Ge[ct].replace(/"/g,"");break;case 34:this.$={cardA:Ge[ct],relType:Ge[ct-1],cardB:Ge[ct-2]};break;case 35:this.$=Re.Cardinality.ZERO_OR_ONE;break;case 36:this.$=Re.Cardinality.ZERO_OR_MORE;break;case 37:this.$=Re.Cardinality.ONE_OR_MORE;break;case 38:this.$=Re.Cardinality.ONLY_ONE;break;case 39:this.$=Re.Identification.NON_IDENTIFYING;break;case 40:this.$=Re.Identification.IDENTIFYING;break;case 44:Re.parseDirective("%%{","open_directive");break;case 45:Re.parseDirective(Ge[ct],"type_directive");break;case 46:Ge[ct]=Ge[ct].trim().replace(/'/g,'"'),Re.parseDirective(Ge[ct],"arg_directive");break;case 47:Re.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:o,7:3,12:4,51:f},{1:[3]},s(p,[2,3],{5:6}),{3:7,4:o,7:3,12:4,51:f},{13:8,52:[1,9]},{52:[2,44]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:w,25:k,27:b,29:_,30:A,31:N,51:f},{1:[2,2]},{14:23,15:[1,24],54:B},s([15,54],[2,45]),s(p,[2,8],{1:[2,1]}),s(p,[2,4]),{7:15,10:26,12:4,17:16,23:w,25:k,27:b,29:_,30:A,31:N,51:f},s(p,[2,6]),s(p,[2,7]),s(p,[2,11]),s(p,[2,15],{18:27,42:29,20:[1,28],44:F,45:H,46:j,47:V}),{24:[1,34]},{26:[1,35]},{28:[1,36]},s(p,[2,19]),s(Z,[2,20]),s(Z,[2,21]),{11:[1,37]},{16:38,53:[1,39]},{11:[2,47]},s(p,[2,5]),{17:40,30:A,31:N},{21:41,22:[1,42],32:43,33:44,37:ae},{43:46,48:[1,47],49:[1,48]},s(le,[2,35]),s(le,[2,36]),s(le,[2,37]),s(le,[2,38]),s(p,[2,16]),s(p,[2,17]),s(p,[2,18]),s(ce,[2,9]),{14:49,54:B},{54:[2,46]},{15:[1,50]},{22:[1,51]},s(p,[2,14]),{21:52,22:[2,22],32:43,33:44,37:ae},{34:53,37:[1,54]},{37:[2,28]},{42:55,44:F,45:H,46:j,47:V},s(be,[2,39]),s(be,[2,40]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],50:[1,58]},s(p,[2,13]),{22:[2,23]},s(xe,[2,24],{35:61,36:62,38:63,40:Ee,41:Me}),s([22,37,40,41],[2,29]),s([30,31],[2,34]),s(ce,[2,10]),s(p,[2,12]),s(p,[2,41]),s(p,[2,42]),s(p,[2,43]),s(xe,[2,25],{36:66,39:[1,67],41:Me}),s(xe,[2,26]),s(fe,[2,30]),s(xe,[2,33]),s(fe,[2,32]),s(xe,[2,27]),{38:68,40:Ee},s(fe,[2,31])],defaultActions:{5:[2,44],7:[2,2],25:[2,47],39:[2,46],45:[2,28],52:[2,23]},parseError:function(he,De){if(De.recoverable)this.trace(he);else{var X=new Error(he);throw X.hash=De,X}},parse:function(he){var De=this,X=[0],Re=[],pe=[null],Ge=[],de=this.table,ct="",bt=0,St=0,yt=2,Mt=1,nn=Ge.slice.call(arguments,1),dn=Object.create(this.lexer),vt={yy:{}};for(var Lr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Lr)&&(vt.yy[Lr]=this.yy[Lr]);dn.setInput(he,vt.yy),vt.yy.lexer=dn,vt.yy.parser=this,typeof dn.yylloc>"u"&&(dn.yylloc={});var xt=dn.yylloc;Ge.push(xt);var Tt=dn.options&&dn.options.ranges;typeof vt.yy.parseError=="function"?this.parseError=vt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function wt(){var Fr;return Fr=Re.pop()||dn.lex()||Mt,typeof Fr!="number"&&(Fr instanceof Array&&(Re=Fr,Fr=Re.pop()),Fr=De.symbols_[Fr]||Fr),Fr}for(var At,He,Ze,Lt,Ve={},Mn,Oe,Di,rn;;){if(He=X[X.length-1],this.defaultActions[He]?Ze=this.defaultActions[He]:((At===null||typeof At>"u")&&(At=wt()),Ze=de[He]&&de[He][At]),typeof Ze>"u"||!Ze.length||!Ze[0]){var pi="";rn=[];for(Mn in de[He])this.terminals_[Mn]&&Mn>yt&&rn.push("'"+this.terminals_[Mn]+"'");dn.showPosition?pi="Parse error on line "+(bt+1)+`:
`+dn.showPosition()+`
Expecting `+rn.join(", ")+", got '"+(this.terminals_[At]||At)+"'":pi="Parse error on line "+(bt+1)+": Unexpected "+(At==Mt?"end of input":"'"+(this.terminals_[At]||At)+"'"),this.parseError(pi,{text:dn.match,token:this.terminals_[At]||At,line:dn.yylineno,loc:xt,expected:rn})}if(Ze[0]instanceof Array&&Ze.length>1)throw new Error("Parse Error: multiple actions possible at state: "+He+", token: "+At);switch(Ze[0]){case 1:X.push(At),pe.push(dn.yytext),Ge.push(dn.yylloc),X.push(Ze[1]),At=null,St=dn.yyleng,ct=dn.yytext,bt=dn.yylineno,xt=dn.yylloc;break;case 2:if(Oe=this.productions_[Ze[1]][1],Ve.$=pe[pe.length-Oe],Ve._$={first_line:Ge[Ge.length-(Oe||1)].first_line,last_line:Ge[Ge.length-1].last_line,first_column:Ge[Ge.length-(Oe||1)].first_column,last_column:Ge[Ge.length-1].last_column},Tt&&(Ve._$.range=[Ge[Ge.length-(Oe||1)].range[0],Ge[Ge.length-1].range[1]]),Lt=this.performAction.apply(Ve,[ct,St,bt,vt.yy,Ze[1],pe,Ge].concat(nn)),typeof Lt<"u")return Lt;Oe&&(X=X.slice(0,-1*Oe*2),pe=pe.slice(0,-1*Oe),Ge=Ge.slice(0,-1*Oe)),X.push(this.productions_[Ze[1]][0]),pe.push(Ve.$),Ge.push(Ve._$),Di=de[X[X.length-2]][X[X.length-1]],X.push(Di);break;case 3:return!0}}return!0}},re=function(){var ke={EOF:1,parseError:function(De,X){if(this.yy.parser)this.yy.parser.parseError(De,X);else throw new Error(De)},setInput:function(he,De){return this.yy=De||this.yy||{},this._input=he,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var he=this._input[0];this.yytext+=he,this.yyleng++,this.offset++,this.match+=he,this.matched+=he;var De=he.match(/(?:\r\n?|\n).*/g);return De?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),he},unput:function(he){var De=he.length,X=he.split(/(?:\r\n?|\n)/g);this._input=he+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-De),this.offset-=De;var Re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),X.length-1&&(this.yylineno-=X.length-1);var pe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:X?(X.length===Re.length?this.yylloc.first_column:0)+Re[Re.length-X.length].length-X[0].length:this.yylloc.first_column-De},this.options.ranges&&(this.yylloc.range=[pe[0],pe[0]+this.yyleng-De]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(he){this.unput(this.match.slice(he))},pastInput:function(){var he=this.matched.substr(0,this.matched.length-this.match.length);return(he.length>20?"...":"")+he.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var he=this.match;return he.length<20&&(he+=this._input.substr(0,20-he.length)),(he.substr(0,20)+(he.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var he=this.pastInput(),De=new Array(he.length+1).join("-");return he+this.upcomingInput()+`
`+De+"^"},test_match:function(he,De){var X,Re,pe;if(this.options.backtrack_lexer&&(pe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(pe.yylloc.range=this.yylloc.range.slice(0))),Re=he[0].match(/(?:\r\n?|\n).*/g),Re&&(this.yylineno+=Re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Re?Re[Re.length-1].length-Re[Re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+he[0].length},this.yytext+=he[0],this.match+=he[0],this.matches=he,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(he[0].length),this.matched+=he[0],X=this.performAction.call(this,this.yy,this,De,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),X)return X;if(this._backtrack){for(var Ge in pe)this[Ge]=pe[Ge];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var he,De,X,Re;this._more||(this.yytext="",this.match="");for(var pe=this._currentRules(),Ge=0;Ge<pe.length;Ge++)if(X=this._input.match(this.rules[pe[Ge]]),X&&(!De||X[0].length>De[0].length)){if(De=X,Re=Ge,this.options.backtrack_lexer){if(he=this.test_match(X,pe[Ge]),he!==!1)return he;if(this._backtrack){De=!1;continue}else return!1}else if(!this.options.flex)break}return De?(he=this.test_match(De,pe[Re]),he!==!1?he:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var De=this.next();return De||this.lex()},begin:function(De){this.conditionStack.push(De)},popState:function(){var De=this.conditionStack.length-1;return De>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(De){return De=this.conditionStack.length-1-Math.abs(De||0),De>=0?this.conditionStack[De]:"INITIAL"},pushState:function(De){this.begin(De)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(De,X,Re,pe){switch(Re){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),51;case 8:return this.begin("type_directive"),52;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),54;case 11:return 53;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 50;case 19:return 4;case 20:return this.begin("block"),20;case 21:return 39;case 22:break;case 23:return 40;case 24:return 37;case 25:return 37;case 26:return 41;case 27:break;case 28:return this.popState(),22;case 29:return X.yytext[0];case 30:return 44;case 31:return 46;case 32:return 46;case 33:return 46;case 34:return 44;case 35:return 44;case 36:return 45;case 37:return 45;case 38:return 45;case 39:return 45;case 40:return 45;case 41:return 46;case 42:return 45;case 43:return 46;case 44:return 47;case 45:return 47;case 46:return 47;case 47:return 47;case 48:return 44;case 49:return 45;case 50:return 46;case 51:return 48;case 52:return 49;case 53:return 49;case 54:return 48;case 55:return 48;case 56:return 48;case 57:return 30;case 58:return X.yytext[0];case 59:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28,29],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}}};return ke}();ye.lexer=re;function we(){this.yy={}}return we.prototype=ye,ye.Parser=we,new we}();Hde.parser=Hde;const eBt=Hde,tBt=s=>s.match(/^\s*erDiagram/)!==null;let JN={},zde=[];const nBt={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},rBt={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},iBt=function(s,o,f){Fl.parseDirective(this,s,o,f)},QNe=function(s){return JN[s]===void 0&&(JN[s]={attributes:[]},je.info("Added new entity :",s)),JN[s]},sBt={Cardinality:nBt,Identification:rBt,parseDirective:iBt,getConfig:()=>Pt().er,addEntity:QNe,addAttributes:function(s,o){let f=QNe(s),p;for(p=o.length-1;p>=0;p--)f.attributes.push(o[p]),je.debug("Added attribute ",o[p].attributeName)},getEntities:()=>JN,addRelationship:function(s,o,f,p){let w={entityA:s,roleA:o,entityB:f,relSpec:p};zde.push(w),je.debug("Added new relationship :",w)},getRelationships:()=>zde,clear:function(){JN={},zde=[],tp()},setAccTitle:np,getAccTitle:C2,setAccDescription:S2,getAccDescription:A2,setDiagramTitle:Kw,getDiagramTitle:Ww},k5={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},x5={ERMarkers:k5,insertMarkers:function(s,o){let f;s.append("defs").append("marker").attr("id",k5.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),s.append("defs").append("marker").attr("id",k5.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),f=s.append("defs").append("marker").attr("id",k5.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),f.append("circle").attr("stroke",o.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),f.append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M9,0 L9,18"),f=s.append("defs").append("marker").attr("id",k5.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),f.append("circle").attr("stroke",o.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),f.append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M21,0 L21,18"),s.append("defs").append("marker").attr("id",k5.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),s.append("defs").append("marker").attr("id",k5.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),f=s.append("defs").append("marker").attr("id",k5.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),f.append("circle").attr("stroke",o.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),f.append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),f=s.append("defs").append("marker").attr("id",k5.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),f.append("circle").attr("stroke",o.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),f.append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}},aBt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function oBt(s){return typeof s=="string"&&aBt.test(s)}const Fd=[];for(let s=0;s<256;++s)Fd.push((s+256).toString(16).slice(1));function cBt(s,o=0){return(Fd[s[o+0]]+Fd[s[o+1]]+Fd[s[o+2]]+Fd[s[o+3]]+"-"+Fd[s[o+4]]+Fd[s[o+5]]+"-"+Fd[s[o+6]]+Fd[s[o+7]]+"-"+Fd[s[o+8]]+Fd[s[o+9]]+"-"+Fd[s[o+10]]+Fd[s[o+11]]+Fd[s[o+12]]+Fd[s[o+13]]+Fd[s[o+14]]+Fd[s[o+15]]).toLowerCase()}function uBt(s){if(!oBt(s))throw TypeError("Invalid UUID");let o;const f=new Uint8Array(16);return f[0]=(o=parseInt(s.slice(0,8),16))>>>24,f[1]=o>>>16&255,f[2]=o>>>8&255,f[3]=o&255,f[4]=(o=parseInt(s.slice(9,13),16))>>>8,f[5]=o&255,f[6]=(o=parseInt(s.slice(14,18),16))>>>8,f[7]=o&255,f[8]=(o=parseInt(s.slice(19,23),16))>>>8,f[9]=o&255,f[10]=(o=parseInt(s.slice(24,36),16))/1099511627776&255,f[11]=o/4294967296&255,f[12]=o>>>24&255,f[13]=o>>>16&255,f[14]=o>>>8&255,f[15]=o&255,f}function lBt(s){s=unescape(encodeURIComponent(s));const o=[];for(let f=0;f<s.length;++f)o.push(s.charCodeAt(f));return o}const hBt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",fBt="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function dBt(s,o,f){function p(w,k,b,_){var A;if(typeof w=="string"&&(w=lBt(w)),typeof k=="string"&&(k=uBt(k)),((A=k)===null||A===void 0?void 0:A.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let N=new Uint8Array(16+w.length);if(N.set(k),N.set(w,k.length),N=f(N),N[6]=N[6]&15|o,N[8]=N[8]&63|128,b){_=_||0;for(let B=0;B<16;++B)b[_+B]=N[B];return b}return cBt(N)}try{p.name=s}catch{}return p.DNS=hBt,p.URL=fBt,p}function gBt(s,o,f,p){switch(s){case 0:return o&f^~o&p;case 1:return o^f^p;case 2:return o&f^o&p^f&p;case 3:return o^f^p}}function Gde(s,o){return s<<o|s>>>32-o}function pBt(s){const o=[1518500249,1859775393,2400959708,3395469782],f=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){const b=unescape(encodeURIComponent(s));s=[];for(let _=0;_<b.length;++_)s.push(b.charCodeAt(_))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);const p=s.length/4+2,w=Math.ceil(p/16),k=new Array(w);for(let b=0;b<w;++b){const _=new Uint32Array(16);for(let A=0;A<16;++A)_[A]=s[b*64+A*4]<<24|s[b*64+A*4+1]<<16|s[b*64+A*4+2]<<8|s[b*64+A*4+3];k[b]=_}k[w-1][14]=(s.length-1)*8/Math.pow(2,32),k[w-1][14]=Math.floor(k[w-1][14]),k[w-1][15]=(s.length-1)*8&4294967295;for(let b=0;b<w;++b){const _=new Uint32Array(80);for(let j=0;j<16;++j)_[j]=k[b][j];for(let j=16;j<80;++j)_[j]=Gde(_[j-3]^_[j-8]^_[j-14]^_[j-16],1);let A=f[0],N=f[1],B=f[2],F=f[3],H=f[4];for(let j=0;j<80;++j){const V=Math.floor(j/20),Z=Gde(A,5)+gBt(V,N,B,F)+H+o[V]+_[j]>>>0;H=F,F=B,B=Gde(N,30)>>>0,N=A,A=Z}f[0]=f[0]+A>>>0,f[1]=f[1]+N>>>0,f[2]=f[2]+B>>>0,f[3]=f[3]+F>>>0,f[4]=f[4]+H>>>0}return[f[0]>>24&255,f[0]>>16&255,f[0]>>8&255,f[0]&255,f[1]>>24&255,f[1]>>16&255,f[1]>>8&255,f[1]&255,f[2]>>24&255,f[2]>>16&255,f[2]>>8&255,f[2]&255,f[3]>>24&255,f[3]>>16&255,f[3]>>8&255,f[3]&255,f[4]>>24&255,f[4]>>16&255,f[4]>>8&255,f[4]&255]}const bBt=dBt("v5",80,pBt),vBt=/[^\dA-Za-z](\W)*/g;let d1={},eP=new Map;const wBt=function(s){const o=Object.keys(s);for(const f of o)d1[f]=s[f]},mBt=(s,o,f)=>{const p=d1.entityPadding/3,w=d1.entityPadding/3,k=d1.fontSize*.85,b=o.node().getBBox(),_=[];let A=!1,N=!1,B=0,F=0,H=0,j=0,V=b.height+p*2,Z=1;f.forEach(be=>{be.attributeKeyTypeList!==void 0&&be.attributeKeyTypeList.length>0&&(A=!0),be.attributeComment!==void 0&&(N=!0)}),f.forEach(be=>{const xe=`${o.node().id}-attr-${Z}`;let Ee=0;const Me=Uk(be.attributeType),fe=s.append("text").classed("er entityLabel",!0).attr("id",`${xe}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Pt().fontFamily).style("font-size",k+"px").text(Me),ye=s.append("text").classed("er entityLabel",!0).attr("id",`${xe}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Pt().fontFamily).style("font-size",k+"px").text(be.attributeName),re={};re.tn=fe,re.nn=ye;const we=fe.node().getBBox(),ke=ye.node().getBBox();if(B=Math.max(B,we.width),F=Math.max(F,ke.width),Ee=Math.max(we.height,ke.height),A){const he=be.attributeKeyTypeList!==void 0?be.attributeKeyTypeList.join(","):"",De=s.append("text").classed("er entityLabel",!0).attr("id",`${xe}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Pt().fontFamily).style("font-size",k+"px").text(he);re.kn=De;const X=De.node().getBBox();H=Math.max(H,X.width),Ee=Math.max(Ee,X.height)}if(N){const he=s.append("text").classed("er entityLabel",!0).attr("id",`${xe}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Pt().fontFamily).style("font-size",k+"px").text(be.attributeComment||"");re.cn=he;const De=he.node().getBBox();j=Math.max(j,De.width),Ee=Math.max(Ee,De.height)}re.height=Ee,_.push(re),V+=Ee+p*2,Z+=1});let ae=4;A&&(ae+=2),N&&(ae+=2);const le=B+F+H+j,ce={width:Math.max(d1.minEntityWidth,Math.max(b.width+d1.entityPadding*2,le+w*ae)),height:f.length>0?V:Math.max(d1.minEntityHeight,b.height+d1.entityPadding*2)};if(f.length>0){const be=Math.max(0,(ce.width-le-w*ae)/(ae/2));o.attr("transform","translate("+ce.width/2+","+(p+b.height/2)+")");let xe=b.height+p*2,Ee="attributeBoxOdd";_.forEach(Me=>{const fe=xe+p+Me.height/2;Me.tn.attr("transform","translate("+w+","+fe+")");const ye=s.insert("rect","#"+Me.tn.node().id).classed(`er ${Ee}`,!0).attr("x",0).attr("y",xe).attr("width",B+w*2+be).attr("height",Me.height+p*2),re=parseFloat(ye.attr("x"))+parseFloat(ye.attr("width"));Me.nn.attr("transform","translate("+(re+w)+","+fe+")");const we=s.insert("rect","#"+Me.nn.node().id).classed(`er ${Ee}`,!0).attr("x",re).attr("y",xe).attr("width",F+w*2+be).attr("height",Me.height+p*2);let ke=parseFloat(we.attr("x"))+parseFloat(we.attr("width"));if(A){Me.kn.attr("transform","translate("+(ke+w)+","+fe+")");const he=s.insert("rect","#"+Me.kn.node().id).classed(`er ${Ee}`,!0).attr("x",ke).attr("y",xe).attr("width",H+w*2+be).attr("height",Me.height+p*2);ke=parseFloat(he.attr("x"))+parseFloat(he.attr("width"))}N&&(Me.cn.attr("transform","translate("+(ke+w)+","+fe+")"),s.insert("rect","#"+Me.cn.node().id).classed(`er ${Ee}`,"true").attr("x",ke).attr("y",xe).attr("width",j+w*2+be).attr("height",Me.height+p*2)),xe+=Me.height+p*2,Ee=Ee==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else ce.height=Math.max(d1.minEntityHeight,V),o.attr("transform","translate("+ce.width/2+","+ce.height/2+")");return ce},yBt=function(s,o,f){const p=Object.keys(o);let w;return p.forEach(function(k){const b=CBt(k,"entity");eP.set(k,b);const _=s.append("g").attr("id",b);w=w===void 0?b:w;const A="text-"+b,N=_.append("text").classed("er entityLabel",!0).attr("id",A).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Pt().fontFamily).style("font-size",d1.fontSize+"px").text(k),{width:B,height:F}=mBt(_,N,o[k].attributes),j=_.insert("rect","#"+A).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",B).attr("height",F).node().getBBox();f.setNode(b,{width:j.width,height:j.height,shape:"rect",id:b})}),w},kBt=function(s,o){o.nodes().forEach(function(f){f!==void 0&&o.node(f)!==void 0&&s.select("#"+f).attr("transform","translate("+(o.node(f).x-o.node(f).width/2)+","+(o.node(f).y-o.node(f).height/2)+" )")})},ZNe=function(s){return(s.entityA+s.roleA+s.entityB).replace(/\s/g,"")},xBt=function(s,o){return s.forEach(function(f){o.setEdge(eP.get(f.entityA),eP.get(f.entityB),{relationship:f},ZNe(f))}),s};let JNe=0;const EBt=function(s,o,f,p,w){JNe++;const k=f.edge(eP.get(o.entityA),eP.get(o.entityB),ZNe(o)),b=RE().x(function(V){return V.x}).y(function(V){return V.y}).curve(pA),_=s.insert("path","#"+p).classed("er relationshipLine",!0).attr("d",b(k.points)).style("stroke",d1.stroke).style("fill","none");o.relSpec.relType===w.db.Identification.NON_IDENTIFYING&&_.attr("stroke-dasharray","8,8");let A="";switch(d1.arrowMarkerAbsolute&&(A=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,A=A.replace(/\(/g,"\\("),A=A.replace(/\)/g,"\\)")),o.relSpec.cardA){case w.db.Cardinality.ZERO_OR_ONE:_.attr("marker-end","url("+A+"#"+x5.ERMarkers.ZERO_OR_ONE_END+")");break;case w.db.Cardinality.ZERO_OR_MORE:_.attr("marker-end","url("+A+"#"+x5.ERMarkers.ZERO_OR_MORE_END+")");break;case w.db.Cardinality.ONE_OR_MORE:_.attr("marker-end","url("+A+"#"+x5.ERMarkers.ONE_OR_MORE_END+")");break;case w.db.Cardinality.ONLY_ONE:_.attr("marker-end","url("+A+"#"+x5.ERMarkers.ONLY_ONE_END+")");break}switch(o.relSpec.cardB){case w.db.Cardinality.ZERO_OR_ONE:_.attr("marker-start","url("+A+"#"+x5.ERMarkers.ZERO_OR_ONE_START+")");break;case w.db.Cardinality.ZERO_OR_MORE:_.attr("marker-start","url("+A+"#"+x5.ERMarkers.ZERO_OR_MORE_START+")");break;case w.db.Cardinality.ONE_OR_MORE:_.attr("marker-start","url("+A+"#"+x5.ERMarkers.ONE_OR_MORE_START+")");break;case w.db.Cardinality.ONLY_ONE:_.attr("marker-start","url("+A+"#"+x5.ERMarkers.ONLY_ONE_START+")");break}const N=_.node().getTotalLength(),B=_.node().getPointAtLength(N*.5),F="rel"+JNe,j=s.append("text").classed("er relationshipLabel",!0).attr("id",F).attr("x",B.x).attr("y",B.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Pt().fontFamily).style("font-size",d1.fontSize+"px").text(o.roleA).node().getBBox();s.insert("rect","#"+F).classed("er relationshipLabelBox",!0).attr("x",B.x-j.width/2).attr("y",B.y-j.height/2).attr("width",j.width).attr("height",j.height)},TBt=function(s,o,f,p){d1=Pt().er,je.info("Drawing ER diagram");const w=Pt().securityLevel;let k;w==="sandbox"&&(k=sr("#i"+o));const _=sr(w==="sandbox"?k.nodes()[0].contentDocument.body:"body").select(`[id='${o}']`);x5.insertMarkers(_,d1);let A;A=new Hf({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:d1.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const N=yBt(_,p.db.getEntities(),A),B=xBt(p.db.getRelationships(),A);jA(A),kBt(_,A),B.forEach(function(Z){EBt(_,Z,A,N,p)});const F=d1.diagramPadding;Pa.insertTitle(_,"entityTitleText",d1.titleTopMargin,p.db.getDiagramTitle());const H=_.node().getBBox(),j=H.width+F*2,V=H.height+F*2;Uw(_,V,j,d1.useMaxWidth),_.attr("viewBox",`${H.x-F} ${H.y-F} ${j} ${V}`)},_Bt="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function CBt(s="",o=""){const f=s.replace(vBt,"");return`${ePe(o)}${ePe(f)}${bBt(s,_Bt)}`}function ePe(s=""){return s.length>0?`${s}-`:""}const SBt={setConf:wBt,draw:TBt};var qde=function(){var s=function(Rd,cs,Es,Ya){for(Es=Es||{},Ya=Rd.length;Ya--;Es[Rd[Ya]]=cs);return Es},o=[1,9],f=[1,7],p=[1,6],w=[1,8],k=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],b=[2,10],_=[1,20],A=[1,21],N=[1,22],B=[1,23],F=[1,30],H=[1,32],j=[1,33],V=[1,34],Z=[1,62],ae=[1,48],le=[1,52],ce=[1,36],be=[1,37],xe=[1,38],Ee=[1,39],Me=[1,40],fe=[1,56],ye=[1,63],re=[1,51],we=[1,53],ke=[1,55],he=[1,59],De=[1,60],X=[1,41],Re=[1,42],pe=[1,43],Ge=[1,44],de=[1,61],ct=[1,50],bt=[1,54],St=[1,57],yt=[1,58],Mt=[1,49],nn=[1,66],dn=[1,71],vt=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Lr=[1,75],xt=[1,74],Tt=[1,76],wt=[20,21,23,81,82],At=[1,99],He=[1,104],Ze=[1,107],Lt=[1,108],Ve=[1,101],Mn=[1,106],Oe=[1,109],Di=[1,102],rn=[1,114],pi=[1,113],Fr=[1,103],tr=[1,105],Wn=[1,110],er=[1,111],Fn=[1,112],nr=[1,115],ha=[20,21,22,23,81,82],fa=[20,21,22,23,53,81,82],is=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Xi=[20,21,23],da=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Cc=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],na=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Ji=[1,149],Fi=[1,157],vr=[1,158],wr=[1,159],ni=[1,160],Yn=[1,144],Gi=[1,145],un=[1,141],Ks=[1,152],Hn=[1,153],Ms=[1,154],Ea=[1,155],Va=[1,156],Ba=[1,161],Ta=[1,162],ss=[1,147],Zs=[1,150],Fa=[1,146],$s=[1,143],ap=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Xb=[1,165],bu=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],ra=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],Ju=[12,21,22,24],lf=[22,106],el=[1,250],Rl=[1,245],vu=[1,246],Mh=[1,254],ah=[1,251],Ai=[1,248],$t=[1,247],Mr=[1,249],bi=[1,252],Aa=[1,253],Nc=[1,255],$c=[1,273],wu=[20,21,23,106],oh=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],tl={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(cs,Es,Ya,Ei,uc,Ot,im){var Kt=Ot.length-1;switch(uc){case 5:Ei.parseDirective("%%{","open_directive");break;case 6:Ei.parseDirective(Ot[Kt],"type_directive");break;case 7:Ot[Kt]=Ot[Kt].trim().replace(/'/g,'"'),Ei.parseDirective(Ot[Kt],"arg_directive");break;case 8:Ei.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(Ot[Kt])||Ot[Kt].length>0)&&Ot[Kt-1].push(Ot[Kt]),this.$=Ot[Kt-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=Ot[Kt];break;case 19:Ei.setDirection("TB"),this.$="TB";break;case 20:Ei.setDirection(Ot[Kt-1]),this.$=Ot[Kt-1];break;case 35:this.$=Ot[Kt-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=Ei.addSubGraph(Ot[Kt-6],Ot[Kt-1],Ot[Kt-4]);break;case 42:this.$=Ei.addSubGraph(Ot[Kt-3],Ot[Kt-1],Ot[Kt-3]);break;case 43:this.$=Ei.addSubGraph(void 0,Ot[Kt-1],void 0);break;case 45:this.$=Ot[Kt].trim(),Ei.setAccTitle(this.$);break;case 46:case 47:this.$=Ot[Kt].trim(),Ei.setAccDescription(this.$);break;case 51:Ei.addLink(Ot[Kt-2].stmt,Ot[Kt],Ot[Kt-1]),this.$={stmt:Ot[Kt],nodes:Ot[Kt].concat(Ot[Kt-2].nodes)};break;case 52:Ei.addLink(Ot[Kt-3].stmt,Ot[Kt-1],Ot[Kt-2]),this.$={stmt:Ot[Kt-1],nodes:Ot[Kt-1].concat(Ot[Kt-3].nodes)};break;case 53:this.$={stmt:Ot[Kt-1],nodes:Ot[Kt-1]};break;case 54:this.$={stmt:Ot[Kt],nodes:Ot[Kt]};break;case 55:this.$=[Ot[Kt]];break;case 56:this.$=Ot[Kt-4].concat(Ot[Kt]);break;case 57:this.$=[Ot[Kt-2]],Ei.setClass(Ot[Kt-2],Ot[Kt]);break;case 58:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"square");break;case 59:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"doublecircle");break;case 60:this.$=Ot[Kt-5],Ei.addVertex(Ot[Kt-5],Ot[Kt-2],"circle");break;case 61:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"ellipse");break;case 62:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"stadium");break;case 63:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"subroutine");break;case 64:this.$=Ot[Kt-7],Ei.addVertex(Ot[Kt-7],Ot[Kt-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Ot[Kt-5],Ot[Kt-3]]]));break;case 65:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"cylinder");break;case 66:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"round");break;case 67:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"diamond");break;case 68:this.$=Ot[Kt-5],Ei.addVertex(Ot[Kt-5],Ot[Kt-2],"hexagon");break;case 69:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"odd");break;case 70:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"trapezoid");break;case 71:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"inv_trapezoid");break;case 72:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"lean_right");break;case 73:this.$=Ot[Kt-3],Ei.addVertex(Ot[Kt-3],Ot[Kt-1],"lean_left");break;case 74:this.$=Ot[Kt],Ei.addVertex(Ot[Kt]);break;case 75:Ot[Kt-1].text=Ot[Kt],this.$=Ot[Kt-1];break;case 76:case 77:Ot[Kt-2].text=Ot[Kt-1],this.$=Ot[Kt-2];break;case 78:this.$=Ot[Kt];break;case 79:var id=Ei.destructLink(Ot[Kt],Ot[Kt-2]);this.$={type:id.type,stroke:id.stroke,length:id.length,text:Ot[Kt-1]};break;case 80:var id=Ei.destructLink(Ot[Kt]);this.$={type:id.type,stroke:id.stroke,length:id.length};break;case 81:this.$=Ot[Kt-1];break;case 83:case 97:case 153:this.$=Ot[Kt-1]+""+Ot[Kt];break;case 98:case 99:this.$=Ot[Kt-4],Ei.addClass(Ot[Kt-2],Ot[Kt]);break;case 100:this.$=Ot[Kt-4],Ei.setClass(Ot[Kt-2],Ot[Kt]);break;case 101:case 109:this.$=Ot[Kt-1],Ei.setClickEvent(Ot[Kt-1],Ot[Kt]);break;case 102:case 110:this.$=Ot[Kt-3],Ei.setClickEvent(Ot[Kt-3],Ot[Kt-2]),Ei.setTooltip(Ot[Kt-3],Ot[Kt]);break;case 103:this.$=Ot[Kt-2],Ei.setClickEvent(Ot[Kt-2],Ot[Kt-1],Ot[Kt]);break;case 104:this.$=Ot[Kt-4],Ei.setClickEvent(Ot[Kt-4],Ot[Kt-3],Ot[Kt-2]),Ei.setTooltip(Ot[Kt-4],Ot[Kt]);break;case 105:case 111:this.$=Ot[Kt-1],Ei.setLink(Ot[Kt-1],Ot[Kt]);break;case 106:case 112:this.$=Ot[Kt-3],Ei.setLink(Ot[Kt-3],Ot[Kt-2]),Ei.setTooltip(Ot[Kt-3],Ot[Kt]);break;case 107:case 113:this.$=Ot[Kt-3],Ei.setLink(Ot[Kt-3],Ot[Kt-2],Ot[Kt]);break;case 108:case 114:this.$=Ot[Kt-5],Ei.setLink(Ot[Kt-5],Ot[Kt-4],Ot[Kt]),Ei.setTooltip(Ot[Kt-5],Ot[Kt-2]);break;case 115:this.$=Ot[Kt-4],Ei.addVertex(Ot[Kt-2],void 0,void 0,Ot[Kt]);break;case 116:case 118:this.$=Ot[Kt-4],Ei.updateLink(Ot[Kt-2],Ot[Kt]);break;case 117:this.$=Ot[Kt-4],Ei.updateLink([Ot[Kt-2]],Ot[Kt]);break;case 119:this.$=Ot[Kt-8],Ei.updateLinkInterpolate([Ot[Kt-6]],Ot[Kt-2]),Ei.updateLink([Ot[Kt-6]],Ot[Kt]);break;case 120:this.$=Ot[Kt-8],Ei.updateLinkInterpolate(Ot[Kt-6],Ot[Kt-2]),Ei.updateLink(Ot[Kt-6],Ot[Kt]);break;case 121:this.$=Ot[Kt-6],Ei.updateLinkInterpolate([Ot[Kt-4]],Ot[Kt]);break;case 122:this.$=Ot[Kt-6],Ei.updateLinkInterpolate(Ot[Kt-4],Ot[Kt]);break;case 123:case 125:this.$=[Ot[Kt]];break;case 124:case 126:Ot[Kt-2].push(Ot[Kt]),this.$=Ot[Kt-2];break;case 128:this.$=Ot[Kt-1]+Ot[Kt];break;case 150:this.$=Ot[Kt];break;case 151:this.$=Ot[Kt-1]+""+Ot[Kt];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:o,16:4,21:f,22:p,24:w},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:o,16:4,21:f,22:p,24:w},s(k,b,{17:11}),{7:12,13:[1,13]},{16:14,21:f,22:p,24:w},{16:15,21:f,22:p,24:w},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:_,21:A,22:N,23:B,32:24,33:25,34:26,35:27,36:28,37:29,38:F,43:31,44:H,46:j,48:V,50:35,51:45,52:Z,54:46,66:ae,67:le,86:ce,87:be,88:xe,89:Ee,90:Me,91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,116:47,118:X,119:Re,120:pe,121:Ge,122:de,123:ct,124:bt,125:St,126:yt,127:Mt},{8:64,10:[1,65],15:nn},s([10,15],[2,6]),s(k,[2,17]),s(k,[2,18]),s(k,[2,19]),{20:[1,68],21:[1,69],22:dn,27:67,30:70},s(vt,[2,11]),s(vt,[2,12]),s(vt,[2,13]),s(vt,[2,14]),s(vt,[2,15]),s(vt,[2,16]),{9:72,20:Lr,21:xt,23:Tt,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:Lr,21:xt,23:Tt},{9:81,20:Lr,21:xt,23:Tt},{9:82,20:Lr,21:xt,23:Tt},{9:83,20:Lr,21:xt,23:Tt},{9:84,20:Lr,21:xt,23:Tt},{9:86,20:Lr,21:xt,22:[1,85],23:Tt},s(vt,[2,44]),{45:[1,87]},{47:[1,88]},s(vt,[2,47]),s(wt,[2,54],{30:89,22:dn}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:At,52:He,66:Ze,67:Lt,84:[1,97],91:Ve,97:96,98:[1,94],100:[1,95],105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:98,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(vt,[2,158]),s(vt,[2,159]),s(vt,[2,160]),s(vt,[2,161]),s(ha,[2,55],{53:[1,116]}),s(fa,[2,74],{116:129,40:[1,117],52:Z,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:ae,67:le,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,122:de,123:ct,124:bt,125:St,126:yt,127:Mt}),s(is,[2,150]),s(is,[2,175]),s(is,[2,176]),s(is,[2,177]),s(is,[2,178]),s(is,[2,179]),s(is,[2,180]),s(is,[2,181]),s(is,[2,182]),s(is,[2,183]),s(is,[2,184]),s(is,[2,185]),s(is,[2,186]),s(is,[2,187]),s(is,[2,188]),s(is,[2,189]),s(is,[2,190]),{9:130,20:Lr,21:xt,23:Tt},{11:131,14:[1,132]},s(Xi,[2,8]),s(k,[2,20]),s(k,[2,26]),s(k,[2,27]),{21:[1,133]},s(da,[2,34],{30:134,22:dn}),s(vt,[2,35]),{50:135,51:45,52:Z,54:46,66:ae,67:le,91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,116:47,122:de,123:ct,124:bt,125:St,126:yt,127:Mt},s(Cc,[2,48]),s(Cc,[2,49]),s(Cc,[2,50]),s(na,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Ji,24:Fi,26:vr,38:wr,39:139,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),s(vt,[2,36]),s(vt,[2,37]),s(vt,[2,38]),s(vt,[2,39]),s(vt,[2,40]),{22:Ji,24:Fi,26:vr,38:wr,39:163,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(ap,b,{17:164}),s(vt,[2,45]),s(vt,[2,46]),s(wt,[2,53],{52:Xb}),{26:At,52:He,66:Ze,67:Lt,91:Ve,97:166,102:[1,167],105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:98,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{95:[1,168],103:169,105:[1,170]},{26:At,52:He,66:Ze,67:Lt,91:Ve,95:[1,171],97:172,105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:98,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{26:At,52:He,66:Ze,67:Lt,91:Ve,97:173,105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:98,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(Xi,[2,101],{22:[1,174],99:[1,175]}),s(Xi,[2,105],{22:[1,176]}),s(Xi,[2,109],{115:100,117:178,22:[1,177],26:At,52:He,66:Ze,67:Lt,91:Ve,105:Mn,106:Oe,109:Di,111:rn,112:pi,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr}),s(Xi,[2,111],{22:[1,179]}),s(bu,[2,152]),s(bu,[2,154]),s(bu,[2,155]),s(bu,[2,156]),s(bu,[2,157]),s(ra,[2,162]),s(ra,[2,163]),s(ra,[2,164]),s(ra,[2,165]),s(ra,[2,166]),s(ra,[2,167]),s(ra,[2,168]),s(ra,[2,169]),s(ra,[2,170]),s(ra,[2,171]),s(ra,[2,172]),s(ra,[2,173]),s(ra,[2,174]),{52:Z,54:180,66:ae,67:le,91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,116:47,122:de,123:ct,124:bt,125:St,126:yt,127:Mt},{22:Ji,24:Fi,26:vr,38:wr,39:181,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:182,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:184,42:ni,52:He,57:[1,183],66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:185,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:186,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:187,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{66:[1,188]},{22:Ji,24:Fi,26:vr,38:wr,39:189,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:190,42:ni,52:He,66:Ze,67:Lt,71:[1,191],73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:192,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:193,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:194,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(is,[2,151]),s(Ju,[2,3]),{8:195,15:nn},{15:[2,7]},s(k,[2,28]),s(da,[2,33]),s(wt,[2,51],{30:196,22:dn}),s(na,[2,75],{22:[1,197]}),{22:[1,198]},{22:Ji,24:Fi,26:vr,38:wr,39:199,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,82:[1,200],83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(ra,[2,82]),s(ra,[2,84]),s(ra,[2,140]),s(ra,[2,141]),s(ra,[2,142]),s(ra,[2,143]),s(ra,[2,144]),s(ra,[2,145]),s(ra,[2,146]),s(ra,[2,147]),s(ra,[2,148]),s(ra,[2,149]),s(ra,[2,85]),s(ra,[2,86]),s(ra,[2,87]),s(ra,[2,88]),s(ra,[2,89]),s(ra,[2,90]),s(ra,[2,91]),s(ra,[2,92]),s(ra,[2,93]),s(ra,[2,94]),s(ra,[2,95]),{9:203,20:Lr,21:xt,22:Ji,23:Tt,24:Fi,26:vr,38:wr,40:[1,202],42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{18:18,19:19,20:_,21:A,22:N,23:B,32:24,33:25,34:26,35:27,36:28,37:29,38:F,42:[1,204],43:31,44:H,46:j,48:V,50:35,51:45,52:Z,54:46,66:ae,67:le,86:ce,87:be,88:xe,89:Ee,90:Me,91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,116:47,118:X,119:Re,120:pe,121:Ge,122:de,123:ct,124:bt,125:St,126:yt,127:Mt},{22:dn,30:205},{22:[1,206],26:At,52:He,66:Ze,67:Lt,91:Ve,105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:178,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},s(lf,[2,123]),{22:[1,211]},{22:[1,212],26:At,52:He,66:Ze,67:Lt,91:Ve,105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:178,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:[1,213],26:At,52:He,66:Ze,67:Lt,91:Ve,105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:178,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{84:[1,214]},s(Xi,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},s(bu,[2,153]),{84:[1,219],101:[1,220]},s(ha,[2,57],{116:129,52:Z,66:ae,67:le,91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,122:de,123:ct,124:bt,125:St,126:yt,127:Mt}),{22:Ji,24:Fi,26:vr,38:wr,41:[1,221],42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,56:[1,222],66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:223,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,58:[1,224],66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,60:[1,225],66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,62:[1,226],66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,64:[1,227],66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{67:[1,228]},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,66:Ze,67:Lt,70:[1,229],73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,66:Ze,67:Lt,72:[1,230],73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,39:231,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,41:[1,232],42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,66:Ze,67:Lt,73:Yn,75:[1,233],77:[1,234],81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,66:Ze,67:Lt,73:Yn,75:[1,236],77:[1,235],81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{9:237,20:Lr,21:xt,23:Tt},s(wt,[2,52],{52:Xb}),s(na,[2,77]),s(na,[2,76]),{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,66:Ze,67:Lt,68:[1,238],73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(na,[2,79]),s(ra,[2,83]),{22:Ji,24:Fi,26:vr,38:wr,39:239,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(ap,b,{17:240}),s(vt,[2,43]),{51:241,52:Z,54:46,66:ae,67:le,91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,116:47,122:de,123:ct,124:bt,125:St,126:yt,127:Mt},{22:el,66:Rl,67:vu,86:Mh,96:242,102:ah,105:Ai,107:243,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},{22:el,66:Rl,67:vu,86:Mh,96:256,102:ah,105:Ai,107:243,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},{22:el,66:Rl,67:vu,86:Mh,96:257,102:ah,104:[1,258],105:Ai,107:243,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},{22:el,66:Rl,67:vu,86:Mh,96:259,102:ah,104:[1,260],105:Ai,107:243,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},{105:[1,261]},{22:el,66:Rl,67:vu,86:Mh,96:262,102:ah,105:Ai,107:243,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},{22:el,66:Rl,67:vu,86:Mh,96:263,102:ah,105:Ai,107:243,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},{26:At,52:He,66:Ze,67:Lt,91:Ve,97:264,105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:98,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(Xi,[2,102]),{84:[1,265]},s(Xi,[2,106],{22:[1,266]}),s(Xi,[2,107]),s(Xi,[2,110]),s(Xi,[2,112],{22:[1,267]}),s(Xi,[2,113]),s(fa,[2,58]),s(fa,[2,59]),{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,58:[1,268],66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(fa,[2,66]),s(fa,[2,61]),s(fa,[2,62]),s(fa,[2,63]),{66:[1,269]},s(fa,[2,65]),s(fa,[2,67]),{22:Ji,24:Fi,26:vr,38:wr,42:ni,52:He,66:Ze,67:Lt,72:[1,270],73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(fa,[2,69]),s(fa,[2,70]),s(fa,[2,72]),s(fa,[2,71]),s(fa,[2,73]),s(Ju,[2,4]),s([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Ji,24:Fi,26:vr,38:wr,41:[1,271],42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{18:18,19:19,20:_,21:A,22:N,23:B,32:24,33:25,34:26,35:27,36:28,37:29,38:F,42:[1,272],43:31,44:H,46:j,48:V,50:35,51:45,52:Z,54:46,66:ae,67:le,86:ce,87:be,88:xe,89:Ee,90:Me,91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,116:47,118:X,119:Re,120:pe,121:Ge,122:de,123:ct,124:bt,125:St,126:yt,127:Mt},s(ha,[2,56]),s(Xi,[2,115],{106:$c}),s(wu,[2,125],{108:274,22:el,66:Rl,67:vu,86:Mh,102:ah,105:Ai,109:$t,110:Mr,111:bi,112:Aa,113:Nc}),s(oh,[2,127]),s(oh,[2,129]),s(oh,[2,130]),s(oh,[2,131]),s(oh,[2,132]),s(oh,[2,133]),s(oh,[2,134]),s(oh,[2,135]),s(oh,[2,136]),s(oh,[2,137]),s(oh,[2,138]),s(oh,[2,139]),s(Xi,[2,116],{106:$c}),s(Xi,[2,117],{106:$c}),{22:[1,275]},s(Xi,[2,118],{106:$c}),{22:[1,276]},s(lf,[2,124]),s(Xi,[2,98],{106:$c}),s(Xi,[2,99],{106:$c}),s(Xi,[2,100],{115:100,117:178,26:At,52:He,66:Ze,67:Lt,91:Ve,105:Mn,106:Oe,109:Di,111:rn,112:pi,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr}),s(Xi,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:Lr,21:xt,23:Tt},s(vt,[2,42]),{22:el,66:Rl,67:vu,86:Mh,102:ah,105:Ai,107:283,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},s(oh,[2,128]),{26:At,52:He,66:Ze,67:Lt,91:Ve,97:284,105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:98,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{26:At,52:He,66:Ze,67:Lt,91:Ve,97:285,105:Mn,106:Oe,109:Di,111:rn,112:pi,115:100,117:98,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(Xi,[2,108]),s(Xi,[2,114]),s(fa,[2,60]),{22:Ji,24:Fi,26:vr,38:wr,39:286,42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:140,84:un,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},s(fa,[2,68]),s(ap,b,{17:287}),s(wu,[2,126],{108:274,22:el,66:Rl,67:vu,86:Mh,102:ah,105:Ai,109:$t,110:Mr,111:bi,112:Aa,113:Nc}),s(Xi,[2,121],{115:100,117:178,22:[1,288],26:At,52:He,66:Ze,67:Lt,91:Ve,105:Mn,106:Oe,109:Di,111:rn,112:pi,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr}),s(Xi,[2,122],{115:100,117:178,22:[1,289],26:At,52:He,66:Ze,67:Lt,91:Ve,105:Mn,106:Oe,109:Di,111:rn,112:pi,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr}),{22:Ji,24:Fi,26:vr,38:wr,41:[1,290],42:ni,52:He,66:Ze,67:Lt,73:Yn,81:Gi,83:201,85:151,86:Ks,87:Hn,88:Ms,89:Ea,90:Va,91:Ba,92:Ta,94:142,95:ss,105:Mn,106:Oe,109:Zs,111:rn,112:pi,113:Fa,114:$s,115:148,122:Fr,123:tr,124:Wn,125:er,126:Fn,127:nr},{18:18,19:19,20:_,21:A,22:N,23:B,32:24,33:25,34:26,35:27,36:28,37:29,38:F,42:[1,291],43:31,44:H,46:j,48:V,50:35,51:45,52:Z,54:46,66:ae,67:le,86:ce,87:be,88:xe,89:Ee,90:Me,91:fe,95:ye,105:re,106:we,109:ke,111:he,112:De,116:47,118:X,119:Re,120:pe,121:Ge,122:de,123:ct,124:bt,125:St,126:yt,127:Mt},{22:el,66:Rl,67:vu,86:Mh,96:292,102:ah,105:Ai,107:243,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},{22:el,66:Rl,67:vu,86:Mh,96:293,102:ah,105:Ai,107:243,108:244,109:$t,110:Mr,111:bi,112:Aa,113:Nc},s(fa,[2,64]),s(vt,[2,41]),s(Xi,[2,119],{106:$c}),s(Xi,[2,120],{106:$c})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(cs,Es){if(Es.recoverable)this.trace(cs);else{var Ya=new Error(cs);throw Ya.hash=Es,Ya}},parse:function(cs){var Es=this,Ya=[0],Ei=[],uc=[null],Ot=[],im=this.table,Kt="",id=0,sm=0,f3=2,s8=1,I2=Ot.slice.call(arguments,1),fl=Object.create(this.lexer),Zb={yy:{}};for(var op in this.yy)Object.prototype.hasOwnProperty.call(this.yy,op)&&(Zb.yy[op]=this.yy[op]);fl.setInput(cs,Zb.yy),Zb.yy.lexer=fl,Zb.yy.parser=this,typeof fl.yylloc>"u"&&(fl.yylloc={});var I5=fl.yylloc;Ot.push(I5);var f9=fl.options&&fl.options.ranges;typeof Zb.yy.parseError=="function"?this.parseError=Zb.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function d9(){var up;return up=Ei.pop()||fl.lex()||s8,typeof up!="number"&&(up instanceof Array&&(Ei=up,up=Ei.pop()),up=Es.symbols_[up]||up),up}for(var p1,Jb,b1,O5,cp={},d3,x0,Fu,g3;;){if(Jb=Ya[Ya.length-1],this.defaultActions[Jb]?b1=this.defaultActions[Jb]:((p1===null||typeof p1>"u")&&(p1=d9()),b1=im[Jb]&&im[Jb][p1]),typeof b1>"u"||!b1.length||!b1[0]){var Jo="";g3=[];for(d3 in im[Jb])this.terminals_[d3]&&d3>f3&&g3.push("'"+this.terminals_[d3]+"'");fl.showPosition?Jo="Parse error on line "+(id+1)+`:
`+fl.showPosition()+`
Expecting `+g3.join(", ")+", got '"+(this.terminals_[p1]||p1)+"'":Jo="Parse error on line "+(id+1)+": Unexpected "+(p1==s8?"end of input":"'"+(this.terminals_[p1]||p1)+"'"),this.parseError(Jo,{text:fl.match,token:this.terminals_[p1]||p1,line:fl.yylineno,loc:I5,expected:g3})}if(b1[0]instanceof Array&&b1.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Jb+", token: "+p1);switch(b1[0]){case 1:Ya.push(p1),uc.push(fl.yytext),Ot.push(fl.yylloc),Ya.push(b1[1]),p1=null,sm=fl.yyleng,Kt=fl.yytext,id=fl.yylineno,I5=fl.yylloc;break;case 2:if(x0=this.productions_[b1[1]][1],cp.$=uc[uc.length-x0],cp._$={first_line:Ot[Ot.length-(x0||1)].first_line,last_line:Ot[Ot.length-1].last_line,first_column:Ot[Ot.length-(x0||1)].first_column,last_column:Ot[Ot.length-1].last_column},f9&&(cp._$.range=[Ot[Ot.length-(x0||1)].range[0],Ot[Ot.length-1].range[1]]),O5=this.performAction.apply(cp,[Kt,sm,id,Zb.yy,b1[1],uc,Ot].concat(I2)),typeof O5<"u")return O5;x0&&(Ya=Ya.slice(0,-1*x0*2),uc=uc.slice(0,-1*x0),Ot=Ot.slice(0,-1*x0)),Ya.push(this.productions_[b1[1]][0]),uc.push(cp.$),Ot.push(cp._$),Fu=im[Ya[Ya.length-2]][Ya[Ya.length-1]],Ya.push(Fu);break;case 3:return!0}}return!0}},Qb=function(){var Rd={EOF:1,parseError:function(Es,Ya){if(this.yy.parser)this.yy.parser.parseError(Es,Ya);else throw new Error(Es)},setInput:function(cs,Es){return this.yy=Es||this.yy||{},this._input=cs,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var cs=this._input[0];this.yytext+=cs,this.yyleng++,this.offset++,this.match+=cs,this.matched+=cs;var Es=cs.match(/(?:\r\n?|\n).*/g);return Es?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),cs},unput:function(cs){var Es=cs.length,Ya=cs.split(/(?:\r\n?|\n)/g);this._input=cs+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Es),this.offset-=Es;var Ei=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ya.length-1&&(this.yylineno-=Ya.length-1);var uc=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ya?(Ya.length===Ei.length?this.yylloc.first_column:0)+Ei[Ei.length-Ya.length].length-Ya[0].length:this.yylloc.first_column-Es},this.options.ranges&&(this.yylloc.range=[uc[0],uc[0]+this.yyleng-Es]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(cs){this.unput(this.match.slice(cs))},pastInput:function(){var cs=this.matched.substr(0,this.matched.length-this.match.length);return(cs.length>20?"...":"")+cs.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var cs=this.match;return cs.length<20&&(cs+=this._input.substr(0,20-cs.length)),(cs.substr(0,20)+(cs.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var cs=this.pastInput(),Es=new Array(cs.length+1).join("-");return cs+this.upcomingInput()+`
`+Es+"^"},test_match:function(cs,Es){var Ya,Ei,uc;if(this.options.backtrack_lexer&&(uc={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(uc.yylloc.range=this.yylloc.range.slice(0))),Ei=cs[0].match(/(?:\r\n?|\n).*/g),Ei&&(this.yylineno+=Ei.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ei?Ei[Ei.length-1].length-Ei[Ei.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+cs[0].length},this.yytext+=cs[0],this.match+=cs[0],this.matches=cs,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(cs[0].length),this.matched+=cs[0],Ya=this.performAction.call(this,this.yy,this,Es,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ya)return Ya;if(this._backtrack){for(var Ot in uc)this[Ot]=uc[Ot];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var cs,Es,Ya,Ei;this._more||(this.yytext="",this.match="");for(var uc=this._currentRules(),Ot=0;Ot<uc.length;Ot++)if(Ya=this._input.match(this.rules[uc[Ot]]),Ya&&(!Es||Ya[0].length>Es[0].length)){if(Es=Ya,Ei=Ot,this.options.backtrack_lexer){if(cs=this.test_match(Ya,uc[Ot]),cs!==!1)return cs;if(this._backtrack){Es=!1;continue}else return!1}else if(!this.options.flex)break}return Es?(cs=this.test_match(Es,uc[Ei]),cs!==!1?cs:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Es=this.next();return Es||this.lex()},begin:function(Es){this.conditionStack.push(Es)},popState:function(){var Es=this.conditionStack.length-1;return Es>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Es){return Es=this.conditionStack.length-1-Math.abs(Es||0),Es>=0?this.conditionStack[Es]:"INITIAL"},pushState:function(Es){this.begin(Es)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Es,Ya,Ei,uc){switch(Ei){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return Es.lex.firstGraph()&&this.begin("dir"),24;case 36:return Es.lex.firstGraph()&&this.begin("dir"),24;case 37:return Es.lex.firstGraph()&&this.begin("dir"),24;case 38:return 38;case 39:return 42;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return 101;case 44:return this.popState(),25;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return this.popState(),26;case 55:return 118;case 56:return 119;case 57:return 120;case 58:return 121;case 59:return 105;case 60:return 111;case 61:return 53;case 62:return 67;case 63:return 52;case 64:return 20;case 65:return 106;case 66:return 126;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[44,45,46,47,48,49,50,51,52,53,54],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return Rd}();tl.lexer=Qb;function rm(){this.yy={}}return rm.prototype=tl,tl.Parser=rm,new rm}();qde.parser=qde;const Vde=qde,ABt=(s,o)=>{var f,p;return((f=o==null?void 0:o.flowchart)==null?void 0:f.defaultRenderer)==="dagre-wrapper"||((p=o==null?void 0:o.flowchart)==null?void 0:p.defaultRenderer)==="elk"?!1:s.match(/^\s*graph/)!==null},LBt=(s,o)=>{var f,p;return((f=o==null?void 0:o.flowchart)==null?void 0:f.defaultRenderer)==="dagre-d3"||((p=o==null?void 0:o.flowchart)==null?void 0:p.defaultRenderer)==="elk"?!1:s.match(/^\s*graph/)!==null?!0:s.match(/^\s*flowchart/)!==null},MBt="flowchart-";let tPe=0,Ude=Pt(),Bl={},s9=[],HA={},E5=[],KK={},Kde={},WK=0,Wde=!0,Ub,YK,XK=[];const QK=s=>xa.sanitizeText(s,Ude),nPe=function(s,o,f){Fl.parseDirective(this,s,o,f)},tP=function(s){const o=Object.keys(Bl);for(const f of o)if(Bl[f].id===s)return Bl[f].domId;return s},rPe=function(s,o,f,p,w,k,b={}){let _,A=s;A!==void 0&&A.trim().length!==0&&(Bl[A]===void 0&&(Bl[A]={id:A,domId:MBt+A+"-"+tPe,styles:[],classes:[]}),tPe++,o!==void 0?(Ude=Pt(),_=QK(o.trim()),_[0]==='"'&&_[_.length-1]==='"'&&(_=_.substring(1,_.length-1)),Bl[A].text=_):Bl[A].text===void 0&&(Bl[A].text=s),f!==void 0&&(Bl[A].type=f),p!=null&&p.forEach(function(N){Bl[A].styles.push(N)}),w!=null&&w.forEach(function(N){Bl[A].classes.push(N)}),k!==void 0&&(Bl[A].dir=k),Bl[A].props===void 0?Bl[A].props=b:b!==void 0&&Object.assign(Bl[A].props,b))},iPe=function(s,o,f,p){const b={start:s,end:o,type:void 0,text:""};p=f.text,p!==void 0&&(b.text=QK(p.trim()),b.text[0]==='"'&&b.text[b.text.length-1]==='"'&&(b.text=b.text.substring(1,b.text.length-1))),f!==void 0&&(b.type=f.type,b.stroke=f.stroke,b.length=f.length),s9.push(b)},sPe=function(s,o,f,p){let w,k;for(w=0;w<s.length;w++)for(k=0;k<o.length;k++)iPe(s[w],o[k],f,p)},aPe=function(s,o){s.forEach(function(f){f==="default"?s9.defaultInterpolate=o:s9[f].interpolate=o})},oPe=function(s,o){s.forEach(function(f){f==="default"?s9.defaultStyle=o:(Pa.isSubstringInArray("fill",o)===-1&&o.push("fill:none"),s9[f].style=o)})},cPe=function(s,o){HA[s]===void 0&&(HA[s]={id:s,styles:[],textStyles:[]}),o!=null&&o.forEach(function(f){if(f.match("color")){const w=f.replace("fill","bgFill").replace("color","fill");HA[s].textStyles.push(w)}HA[s].styles.push(f)})},uPe=function(s){Ub=s,Ub.match(/.*</)&&(Ub="RL"),Ub.match(/.*\^/)&&(Ub="BT"),Ub.match(/.*>/)&&(Ub="LR"),Ub.match(/.*v/)&&(Ub="TB"),Ub==="TD"&&(Ub="TB")},ZK=function(s,o){s.split(",").forEach(function(f){let p=f;Bl[p]!==void 0&&Bl[p].classes.push(o),KK[p]!==void 0&&KK[p].classes.push(o)})},DBt=function(s,o){s.split(",").forEach(function(f){o!==void 0&&(Kde[YK==="gen-1"?tP(f):f]=QK(o))})},IBt=function(s,o,f){let p=tP(s);if(Pt().securityLevel!=="loose"||o===void 0)return;let w=[];if(typeof f=="string"){w=f.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let k=0;k<w.length;k++){let b=w[k].trim();b.charAt(0)==='"'&&b.charAt(b.length-1)==='"'&&(b=b.substr(1,b.length-2)),w[k]=b}}w.length===0&&w.push(s),Bl[s]!==void 0&&(Bl[s].haveCallback=!0,XK.push(function(){const k=document.querySelector(`[id="${p}"]`);k!==null&&k.addEventListener("click",function(){Pa.runFunc(o,...w)},!1)}))},lPe=function(s,o,f){s.split(",").forEach(function(p){Bl[p]!==void 0&&(Bl[p].link=Pa.formatUrl(o,Ude),Bl[p].linkTarget=f)}),ZK(s,"clickable")},hPe=function(s){return Kde[s]},fPe=function(s,o,f){s.split(",").forEach(function(p){IBt(p,o,f)}),ZK(s,"clickable")},dPe=function(s){XK.forEach(function(o){o(s)})},gPe=function(){return Ub.trim()},pPe=function(){return Bl},bPe=function(){return s9},vPe=function(){return HA},wPe=function(s){let o=sr(".mermaidTooltip");(o._groups||o)[0][0]===null&&(o=sr("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),sr(s).select("svg").selectAll("g.node").on("mouseover",function(){const w=sr(this);if(w.attr("title")===null)return;const b=this.getBoundingClientRect();o.transition().duration(200).style("opacity",".9"),o.text(w.attr("title")).style("left",window.scrollX+b.left+(b.right-b.left)/2+"px").style("top",window.scrollY+b.top-14+document.body.scrollTop+"px"),o.html(o.html().replace(/&lt;br\/&gt;/g,"<br/>")),w.classed("hover",!0)}).on("mouseout",function(){o.transition().duration(500).style("opacity",0),sr(this).classed("hover",!1)})};XK.push(wPe);const mPe=function(s="gen-1"){Bl={},HA={},s9=[],XK=[wPe],E5=[],KK={},WK=0,Kde=[],Wde=!0,YK=s,tp()},yPe=s=>{YK=s||"gen-2"},kPe=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},xPe=function(s,o,f){let p=s.trim(),w=f;s===f&&f.match(/\s/)&&(p=void 0);function k(B){const F={boolean:{},number:{},string:{}},H=[];let j;return{nodeList:B.filter(function(Z){const ae=typeof Z;return Z.stmt&&Z.stmt==="dir"?(j=Z.value,!1):Z.trim()===""?!1:ae in F?F[ae].hasOwnProperty(Z)?!1:F[ae][Z]=!0:H.includes(Z)?!1:H.push(Z)}),dir:j}}let b=[];const{nodeList:_,dir:A}=k(b.concat.apply(b,o));if(b=_,YK==="gen-1")for(let B=0;B<b.length;B++)b[B]=tP(b[B]);p=p||"subGraph"+WK,w=w||"",w=QK(w),WK=WK+1;const N={id:p,nodes:b,title:w.trim(),classes:[],dir:A};return je.info("Adding",N.id,N.nodes,N.dir),N.nodes=DPe(N,E5).nodes,E5.push(N),KK[p]=N,p},OBt=function(s){for(const[o,f]of E5.entries())if(f.id===s)return o;return-1};let nP=-1;const EPe=[],TPe=function(s,o){const f=E5[o].nodes;if(nP=nP+1,nP>2e3)return;if(EPe[nP]=o,E5[o].id===s)return{result:!0,count:0};let p=0,w=1;for(;p<f.length;){const k=OBt(f[p]);if(k>=0){const b=TPe(s,k);if(b.result)return{result:!0,count:w+b.count};w=w+b.count}p=p+1}return{result:!1,count:w}},_Pe=function(s){return EPe[s]},CPe=function(){nP=-1,E5.length>0&&TPe("none",E5.length-1)},SPe=function(){return E5},APe=()=>Wde?(Wde=!1,!0):!1,NBt=s=>{let o=s.trim(),f="arrow_open";switch(o[0]){case"<":f="arrow_point",o=o.slice(1);break;case"x":f="arrow_cross",o=o.slice(1);break;case"o":f="arrow_circle",o=o.slice(1);break}let p="normal";return o.includes("=")&&(p="thick"),o.includes(".")&&(p="dotted"),{type:f,stroke:p}},PBt=(s,o)=>{const f=o.length;let p=0;for(let w=0;w<f;++w)o[w]===s&&++p;return p},BBt=s=>{const o=s.trim();let f=o.slice(0,-1),p="arrow_open";switch(o.slice(-1)){case"x":p="arrow_cross",o[0]==="x"&&(p="double_"+p,f=f.slice(1));break;case">":p="arrow_point",o[0]==="<"&&(p="double_"+p,f=f.slice(1));break;case"o":p="arrow_circle",o[0]==="o"&&(p="double_"+p,f=f.slice(1));break}let w="normal",k=f.length-1;f[0]==="="&&(w="thick");let b=PBt(".",f);return b&&(w="dotted",k=b),{type:p,stroke:w,length:k}},LPe=(s,o)=>{const f=BBt(s);let p;if(o){if(p=NBt(o),p.stroke!==f.stroke)return{type:"INVALID",stroke:"INVALID"};if(p.type==="arrow_open")p.type=f.type;else{if(p.type!==f.type)return{type:"INVALID",stroke:"INVALID"};p.type="double_"+p.type}return p.type==="double_arrow"&&(p.type="double_arrow_point"),p.length=f.length,p}return f},MPe=(s,o)=>{let f=!1;return s.forEach(p=>{p.nodes.indexOf(o)>=0&&(f=!0)}),f},DPe=(s,o)=>{const f=[];return s.nodes.forEach((p,w)=>{MPe(o,p)||f.push(s.nodes[w])}),{nodes:f}},IPe={firstGraph:APe},a3={parseDirective:nPe,defaultConfig:()=>_A.flowchart,setAccTitle:np,getAccTitle:C2,getAccDescription:A2,setAccDescription:S2,addVertex:rPe,lookUpDomId:tP,addLink:sPe,updateLinkInterpolate:aPe,updateLink:oPe,addClass:cPe,setDirection:uPe,setClass:ZK,setTooltip:DBt,getTooltip:hPe,setClickEvent:fPe,setLink:lPe,bindFunctions:dPe,getDirection:gPe,getVertices:pPe,getEdges:bPe,getClasses:vPe,clear:mPe,setGen:yPe,defaultStyle:kPe,addSubGraph:xPe,getDepthFirstPos:_Pe,indexNodes:CPe,getSubGraphs:SPe,destructLink:LPe,lex:IPe,exists:MPe,makeUniq:DPe,setDiagramTitle:Kw,getDiagramTitle:Ww},FBt=Object.freeze(Object.defineProperty({__proto__:null,addClass:cPe,addLink:sPe,addSingleLink:iPe,addSubGraph:xPe,addVertex:rPe,bindFunctions:dPe,clear:mPe,default:a3,defaultStyle:kPe,destructLink:LPe,firstGraph:APe,getClasses:vPe,getDepthFirstPos:_Pe,getDirection:gPe,getEdges:bPe,getSubGraphs:SPe,getTooltip:hPe,getVertices:pPe,indexNodes:CPe,lex:IPe,lookUpDomId:tP,parseDirective:nPe,setClass:ZK,setClickEvent:fPe,setDirection:uPe,setGen:yPe,setLink:lPe,updateLink:oPe,updateLinkInterpolate:aPe},Symbol.toStringTag,{value:"Module"}));function OPe(s,o){return!!s.children(o).length}function NPe(s){return Yde(s.v)+":"+Yde(s.w)+":"+Yde(s.name)}var RBt=/:/g;function Yde(s){return s?String(s).replace(RBt,"\\:"):""}function o3(s,o){o&&s.attr("style",o)}function PPe(s,o,f){o&&s.attr("class",o).attr("class",f+" "+s.attr("class"))}function em(s,o){var f=o.graph();if(fOe(f)){var p=f.transition;if(yA(p))return p(s)}return s}var Xde={normal:$Bt,vee:HBt,undirected:zBt};function jBt(s){Xde=s}function $Bt(s,o,f,p){var w=s.append("marker").attr("id",o).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),k=w.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");o3(k,f[p+"Style"]),f[p+"Class"]&&k.attr("class",f[p+"Class"])}function HBt(s,o,f,p){var w=s.append("marker").attr("id",o).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),k=w.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");o3(k,f[p+"Style"]),f[p+"Class"]&&k.attr("class",f[p+"Class"])}function zBt(s,o,f,p){var w=s.append("marker").attr("id",o).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),k=w.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");o3(k,f[p+"Style"]),f[p+"Class"]&&k.attr("class",f[p+"Class"])}function JK(s,o){var f=s.append("foreignObject").attr("width","100000"),p=f.append("xhtml:div");p.attr("xmlns","http://www.w3.org/1999/xhtml");var w=o.label;switch(typeof w){case"function":p.insert(w);break;case"object":p.insert(function(){return w});break;default:p.html(w)}o3(p,o.labelStyle),p.style("display","inline-block"),p.style("white-space","nowrap");var k=p.node().getBoundingClientRect();return f.attr("width",k.width).attr("height",k.height),f}function GBt(s,o){var f=s;return f.node().appendChild(o.label),o3(f,o.labelStyle),f}function qBt(s,o){for(var f=s.append("text"),p=VBt(o.label).split(`
`),w=0;w<p.length;w++)f.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(p[w]);return o3(f,o.labelStyle),f}function VBt(s){for(var o="",f=!1,p,w=0;w<s.length;++w)if(p=s[w],f){switch(p){case"n":o+=`
`;break;default:o+=p}f=!1}else p==="\\"?f=!0:o+=p;return o}function Qde(s,o,f){var p=o.label,w=s.append("g");o.labelType==="svg"?GBt(w,o):typeof p!="string"||o.labelType==="html"?JK(w,o):qBt(w,o);var k=w.node().getBBox(),b;switch(f){case"top":b=-o.height/2;break;case"bottom":b=o.height/2-k.height;break;default:b=-k.height/2}return w.attr("transform","translate("+-k.width/2+","+b+")"),w}var Zde=function(s,o){var f=o.nodes().filter(function(k){return OPe(o,k)}),p=s.selectAll("g.cluster").data(f,function(k){return k});em(p.exit(),o).style("opacity",0).remove();var w=p.enter().append("g").attr("class","cluster").attr("id",function(k){var b=o.node(k);return b.id}).style("opacity",0).each(function(k){var b=o.node(k),_=sr(this);sr(this).append("rect");var A=_.append("g").attr("class","label");Qde(A,b,b.clusterLabelPos)});return p=p.merge(w),p=em(p,o).style("opacity",1),p.selectAll("rect").each(function(k){var b=o.node(k),_=sr(this);o3(_,b.style)}),p};function UBt(s){Zde=s}let Jde=function(s,o){var f=s.selectAll("g.edgeLabel").data(o.edges(),function(w){return NPe(w)}).classed("update",!0);f.exit().remove(),f.enter().append("g").classed("edgeLabel",!0).style("opacity",0),f=s.selectAll("g.edgeLabel"),f.each(function(w){var k=sr(this);k.select(".label").remove();var b=o.edge(w),_=Qde(k,o.edge(w),0).classed("label",!0),A=_.node().getBBox();b.labelId&&_.attr("id",b.labelId),eo(b,"width")||(b.width=A.width),eo(b,"height")||(b.height=A.height)});var p;return f.exit?p=f.exit():p=f.selectAll(null),em(p,o).style("opacity",0).remove(),f};function KBt(s){Jde=s}function BPe(s,o){return s.intersect(o)}var e0e=function(s,o,f){var p=s.selectAll("g.edgePath").data(o.edges(),function(b){return NPe(b)}).classed("update",!0),w=ZBt(p,o);JBt(p,o);var k=p.merge!==void 0?p.merge(w):p;return em(k,o).style("opacity",1),k.each(function(b){var _=sr(this),A=o.edge(b);A.elem=this,A.id&&_.attr("id",A.id),PPe(_,A.class,(_.classed("update")?"update ":"")+"edgePath")}),k.selectAll("path.path").each(function(b){var _=o.edge(b);_.arrowheadId=RK("arrowhead");var A=sr(this).attr("marker-end",function(){return"url("+YBt(location.href,_.arrowheadId)+")"}).style("fill","none");em(A,o).attr("d",function(N){return XBt(o,N)}),o3(A,_.style)}),k.selectAll("defs *").remove(),k.selectAll("defs").each(function(b){var _=o.edge(b),A=f[_.arrowhead];A(sr(this),_.arrowheadId,_,"arrowhead")}),k};function WBt(s){e0e=s}function YBt(s,o){var f=s.split("#")[0];return f+"#"+o}function XBt(s,o){var f=s.edge(o),p=s.node(o.v),w=s.node(o.w),k=f.points.slice(1,f.points.length-1);return k.unshift(BPe(p,k[0])),k.push(BPe(w,k[k.length-1])),FPe(f,k)}function FPe(s,o){var f=(RE||s8t.line)().x(function(p){return p.x}).y(function(p){return p.y});return(f.curve||f.interpolate)(s.curve),f(o)}function QBt(s){var o=s.getBBox(),f=s.ownerSVGElement.getScreenCTM().inverse().multiply(s.getScreenCTM()).translate(o.width/2,o.height/2);return{x:f.e,y:f.f}}function ZBt(s,o){var f=s.enter().append("g").attr("class","edgePath").style("opacity",0);return f.append("path").attr("class","path").attr("d",function(p){var w=o.edge(p),k=o.node(p.v).elem,b=n9(w.points.length).map(function(){return QBt(k)});return FPe(w,b)}),f.append("defs"),f}function JBt(s,o){var f=s.exit();em(f,o).style("opacity",0).remove()}var t0e=function(s,o,f){var p=o.nodes().filter(function(b){return!OPe(o,b)}),w=s.selectAll("g.node").data(p,function(b){return b}).classed("update",!0);w.exit().remove(),w.enter().append("g").attr("class","node").style("opacity",0),w=s.selectAll("g.node"),w.each(function(b){var _=o.node(b),A=sr(this);PPe(A,_.class,(A.classed("update")?"update ":"")+"node"),A.select("g.label").remove();var N=A.append("g").attr("class","label"),B=Qde(N,_),F=f[_.shape],H=VN(B.node().getBBox(),"width","height");_.elem=this,_.id&&A.attr("id",_.id),_.labelId&&N.attr("id",_.labelId),eo(_,"width")&&(H.width=_.width),eo(_,"height")&&(H.height=_.height),H.width+=_.paddingLeft+_.paddingRight,H.height+=_.paddingTop+_.paddingBottom,N.attr("transform","translate("+(_.paddingLeft-_.paddingRight)/2+","+(_.paddingTop-_.paddingBottom)/2+")");var j=sr(this);j.select(".label-container").remove();var V=F(j,H,_).classed("label-container",!0);o3(V,_.style);var Z=V.node().getBBox();_.width=Z.width,_.height=Z.height});var k;return w.exit?k=w.exit():k=w.selectAll(null),em(k,o).style("opacity",0).remove(),w};function eFt(s){t0e=s}function tFt(s,o){var f=s.filter(function(){return!sr(this).classed("update")});function p(w){var k=o.node(w);return"translate("+k.x+","+k.y+")"}f.attr("transform",p),em(s,o).style("opacity",1).attr("transform",p),em(f.selectAll("rect"),o).attr("width",function(w){return o.node(w).width}).attr("height",function(w){return o.node(w).height}).attr("x",function(w){var k=o.node(w);return-k.width/2}).attr("y",function(w){var k=o.node(w);return-k.height/2})}function nFt(s,o){var f=s.filter(function(){return!sr(this).classed("update")});function p(w){var k=o.edge(w);return eo(k,"x")?"translate("+k.x+","+k.y+")":""}f.attr("transform",p),em(s,o).style("opacity",1).attr("transform",p)}function rFt(s,o){var f=s.filter(function(){return!sr(this).classed("update")});function p(w){var k=o.node(w);return"translate("+k.x+","+k.y+")"}f.attr("transform",p),em(s,o).style("opacity",1).attr("transform",p)}function RPe(s,o,f,p){var w=s.x,k=s.y,b=w-p.x,_=k-p.y,A=Math.sqrt(o*o*_*_+f*f*b*b),N=Math.abs(o*f*b/A);p.x<w&&(N=-N);var B=Math.abs(o*f*_/A);return p.y<k&&(B=-B),{x:w+N,y:k+B}}function iFt(s,o,f){return RPe(s,o,o,f)}function sFt(s,o,f,p){var w,k,b,_,A,N,B,F,H,j,V,Z,ae,le,ce;if(w=o.y-s.y,b=s.x-o.x,A=o.x*s.y-s.x*o.y,H=w*f.x+b*f.y+A,j=w*p.x+b*p.y+A,!(H!==0&&j!==0&&jPe(H,j))&&(k=p.y-f.y,_=f.x-p.x,N=p.x*f.y-f.x*p.y,B=k*s.x+_*s.y+N,F=k*o.x+_*o.y+N,!(B!==0&&F!==0&&jPe(B,F))&&(V=w*_-k*b,V!==0)))return Z=Math.abs(V/2),ae=b*N-_*A,le=ae<0?(ae-Z)/V:(ae+Z)/V,ae=k*A-w*N,ce=ae<0?(ae-Z)/V:(ae+Z)/V,{x:le,y:ce}}function jPe(s,o){return s*o>0}function c3(s,o,f){var p=s.x,w=s.y,k=[],b=Number.POSITIVE_INFINITY,_=Number.POSITIVE_INFINITY;o.forEach(function(V){b=Math.min(b,V.x),_=Math.min(_,V.y)});for(var A=p-s.width/2-b,N=w-s.height/2-_,B=0;B<o.length;B++){var F=o[B],H=o[B<o.length-1?B+1:0],j=sFt(s,f,{x:A+F.x,y:N+F.y},{x:A+H.x,y:N+H.y});j&&k.push(j)}return k.length?(k.length>1&&k.sort(function(V,Z){var ae=V.x-f.x,le=V.y-f.y,ce=Math.sqrt(ae*ae+le*le),be=Z.x-f.x,xe=Z.y-f.y,Ee=Math.sqrt(be*be+xe*xe);return ce<Ee?-1:ce===Ee?0:1}),k[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",s),s)}function n0e(s,o){var f=s.x,p=s.y,w=o.x-f,k=o.y-p,b=s.width/2,_=s.height/2,A,N;return Math.abs(k)*b>Math.abs(w)*_?(k<0&&(_=-_),A=k===0?0:_*w/k,N=_):(w<0&&(b=-b),A=b,N=w===0?0:b*k/w),{x:f+A,y:p+N}}var r0e={rect:oFt,ellipse:cFt,circle:uFt,diamond:lFt};function aFt(s){r0e=s}function oFt(s,o,f){var p=s.insert("rect",":first-child").attr("rx",f.rx).attr("ry",f.ry).attr("x",-o.width/2).attr("y",-o.height/2).attr("width",o.width).attr("height",o.height);return f.intersect=function(w){return n0e(f,w)},p}function cFt(s,o,f){var p=o.width/2,w=o.height/2,k=s.insert("ellipse",":first-child").attr("x",-o.width/2).attr("y",-o.height/2).attr("rx",p).attr("ry",w);return f.intersect=function(b){return RPe(f,p,w,b)},k}function uFt(s,o,f){var p=Math.max(o.width,o.height)/2,w=s.insert("circle",":first-child").attr("x",-o.width/2).attr("y",-o.height/2).attr("r",p);return f.intersect=function(k){return iFt(f,p,k)},w}function lFt(s,o,f){var p=o.width*Math.SQRT2/2,w=o.height*Math.SQRT2/2,k=[{x:0,y:-w},{x:-p,y:0},{x:0,y:w},{x:p,y:0}],b=s.insert("polygon",":first-child").attr("points",k.map(function(_){return _.x+","+_.y}).join(" "));return f.intersect=function(_){return c3(f,k,_)},b}function hFt(){var s=function(o,f){gFt(f);var p=rP(o,"output"),w=rP(p,"clusters"),k=rP(p,"edgePaths"),b=Jde(rP(p,"edgeLabels"),f),_=t0e(rP(p,"nodes"),f,r0e);jA(f),rFt(_,f),nFt(b,f),e0e(k,f,Xde);var A=Zde(w,f);tFt(A,f),pFt(f)};return s.createNodes=function(o){return arguments.length?(eFt(o),s):t0e},s.createClusters=function(o){return arguments.length?(UBt(o),s):Zde},s.createEdgeLabels=function(o){return arguments.length?(KBt(o),s):Jde},s.createEdgePaths=function(o){return arguments.length?(WBt(o),s):e0e},s.shapes=function(o){return arguments.length?(aFt(o),s):r0e},s.arrows=function(o){return arguments.length?(jBt(o),s):Xde},s}var fFt={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},dFt={arrowhead:"normal",curve:Pd};function gFt(s){s.nodes().forEach(function(o){var f=s.node(o);!eo(f,"label")&&!s.children(o).length&&(f.label=o),eo(f,"paddingX")&&BA(f,{paddingLeft:f.paddingX,paddingRight:f.paddingX}),eo(f,"paddingY")&&BA(f,{paddingTop:f.paddingY,paddingBottom:f.paddingY}),eo(f,"padding")&&BA(f,{paddingLeft:f.padding,paddingRight:f.padding,paddingTop:f.padding,paddingBottom:f.padding}),BA(f,fFt),hr(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(p){f[p]=Number(f[p])}),eo(f,"width")&&(f._prevWidth=f.width),eo(f,"height")&&(f._prevHeight=f.height)}),s.edges().forEach(function(o){var f=s.edge(o);eo(f,"label")||(f.label=""),BA(f,dFt)})}function pFt(s){hr(s.nodes(),function(o){var f=s.node(o);eo(f,"_prevWidth")?f.width=f._prevWidth:delete f.width,eo(f,"_prevHeight")?f.height=f._prevHeight:delete f.height,delete f._prevWidth,delete f._prevHeight})}function rP(s,o){var f=s.select("g."+o);return f.empty()&&(f=s.append("g").attr("class",o)),f}function $Pe(s,o,f){const p=o.width,w=o.height,k=(p+w)*.9,b=[{x:k/2,y:0},{x:k,y:-k/2},{x:k/2,y:-k},{x:0,y:-k/2}],_=T5(s,k,k,b);return f.intersect=function(A){return c3(f,b,A)},_}function HPe(s,o,f){const w=o.height,k=w/4,b=o.width+2*k,_=[{x:k,y:0},{x:b-k,y:0},{x:b,y:-w/2},{x:b-k,y:-w},{x:k,y:-w},{x:0,y:-w/2}],A=T5(s,b,w,_);return f.intersect=function(N){return c3(f,_,N)},A}function zPe(s,o,f){const p=o.width,w=o.height,k=[{x:-w/2,y:0},{x:p,y:0},{x:p,y:-w},{x:-w/2,y:-w},{x:0,y:-w/2}],b=T5(s,p,w,k);return f.intersect=function(_){return c3(f,k,_)},b}function GPe(s,o,f){const p=o.width,w=o.height,k=[{x:-2*w/6,y:0},{x:p-w/6,y:0},{x:p+2*w/6,y:-w},{x:w/6,y:-w}],b=T5(s,p,w,k);return f.intersect=function(_){return c3(f,k,_)},b}function qPe(s,o,f){const p=o.width,w=o.height,k=[{x:2*w/6,y:0},{x:p+w/6,y:0},{x:p-2*w/6,y:-w},{x:-w/6,y:-w}],b=T5(s,p,w,k);return f.intersect=function(_){return c3(f,k,_)},b}function VPe(s,o,f){const p=o.width,w=o.height,k=[{x:-2*w/6,y:0},{x:p+2*w/6,y:0},{x:p-w/6,y:-w},{x:w/6,y:-w}],b=T5(s,p,w,k);return f.intersect=function(_){return c3(f,k,_)},b}function UPe(s,o,f){const p=o.width,w=o.height,k=[{x:w/6,y:0},{x:p-w/6,y:0},{x:p+2*w/6,y:-w},{x:-2*w/6,y:-w}],b=T5(s,p,w,k);return f.intersect=function(_){return c3(f,k,_)},b}function KPe(s,o,f){const p=o.width,w=o.height,k=[{x:0,y:0},{x:p+w/2,y:0},{x:p,y:-w/2},{x:p+w/2,y:-w},{x:0,y:-w}],b=T5(s,p,w,k);return f.intersect=function(_){return c3(f,k,_)},b}function WPe(s,o,f){const p=o.height,w=o.width+p/4,k=s.insert("rect",":first-child").attr("rx",p/2).attr("ry",p/2).attr("x",-w/2).attr("y",-p/2).attr("width",w).attr("height",p);return f.intersect=function(b){return n0e(f,b)},k}function YPe(s,o,f){const p=o.width,w=o.height,k=[{x:0,y:0},{x:p,y:0},{x:p,y:-w},{x:0,y:-w},{x:0,y:0},{x:-8,y:0},{x:p+8,y:0},{x:p+8,y:-w},{x:-8,y:-w},{x:-8,y:0}],b=T5(s,p,w,k);return f.intersect=function(_){return c3(f,k,_)},b}function XPe(s,o,f){const p=o.width,w=p/2,k=w/(2.5+p/50),b=o.height+k,_="M 0,"+k+" a "+w+","+k+" 0,0,0 "+p+" 0 a "+w+","+k+" 0,0,0 "+-p+" 0 l 0,"+b+" a "+w+","+k+" 0,0,0 "+p+" 0 l 0,"+-b,A=s.attr("label-offset-y",k).insert("path",":first-child").attr("d",_).attr("transform","translate("+-p/2+","+-(b/2+k)+")");return f.intersect=function(N){const B=n0e(f,N),F=B.x-f.x;if(w!=0&&(Math.abs(F)<f.width/2||Math.abs(F)==f.width/2&&Math.abs(B.y-f.y)>f.height/2-k)){let H=k*k*(1-F*F/(w*w));H!=0&&(H=Math.sqrt(H)),H=k-H,N.y-f.y>0&&(H=-H),B.y+=H}return B},A}function bFt(s){s.shapes().question=$Pe,s.shapes().hexagon=HPe,s.shapes().stadium=WPe,s.shapes().subroutine=YPe,s.shapes().cylinder=XPe,s.shapes().rect_left_inv_arrow=zPe,s.shapes().lean_right=GPe,s.shapes().lean_left=qPe,s.shapes().trapezoid=VPe,s.shapes().inv_trapezoid=UPe,s.shapes().rect_right_inv_arrow=KPe}function vFt(s){s({question:$Pe}),s({hexagon:HPe}),s({stadium:WPe}),s({subroutine:YPe}),s({cylinder:XPe}),s({rect_left_inv_arrow:zPe}),s({lean_right:GPe}),s({lean_left:qPe}),s({trapezoid:VPe}),s({inv_trapezoid:UPe}),s({rect_right_inv_arrow:KPe})}function T5(s,o,f,p){return s.insert("polygon",":first-child").attr("points",p.map(function(w){return w.x+","+w.y}).join(" ")).attr("transform","translate("+-o/2+","+f/2+")")}const wFt={addToRender:bFt,addToRenderV2:vFt},QPe={},mFt=function(s){const o=Object.keys(s);for(const f of o)QPe[f]=s[f]},ZPe=function(s,o,f,p,w,k){const b=p?p.select(`[id="${f}"]`):sr(`[id="${f}"]`),_=w||document;Object.keys(s).forEach(function(N){const B=s[N];let F="default";B.classes.length>0&&(F=B.classes.join(" "));const H=qw(B.styles);let j=B.text!==void 0?B.text:B.id,V;if(l1(Pt().flowchart.htmlLabels)){const le={label:j.replace(/fa[blrs]?:fa-[\w-]+/g,ce=>`<i class='${ce.replace(":"," ")}'></i>`)};V=JK(b,le).node(),V.parentNode.removeChild(V)}else{const le=_.createElementNS("http://www.w3.org/2000/svg","text");le.setAttribute("style",H.labelStyle.replace("color:","fill:"));const ce=j.split(xa.lineBreakRegex);for(const be of ce){const xe=_.createElementNS("http://www.w3.org/2000/svg","tspan");xe.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),xe.setAttribute("dy","1em"),xe.setAttribute("x","1"),xe.textContent=be,le.appendChild(xe)}V=le}let Z=0,ae="";switch(B.type){case"round":Z=5,ae="rect";break;case"square":ae="rect";break;case"diamond":ae="question";break;case"hexagon":ae="hexagon";break;case"odd":ae="rect_left_inv_arrow";break;case"lean_right":ae="lean_right";break;case"lean_left":ae="lean_left";break;case"trapezoid":ae="trapezoid";break;case"inv_trapezoid":ae="inv_trapezoid";break;case"odd_right":ae="rect_left_inv_arrow";break;case"circle":ae="circle";break;case"ellipse":ae="ellipse";break;case"stadium":ae="stadium";break;case"subroutine":ae="subroutine";break;case"cylinder":ae="cylinder";break;case"group":ae="rect";break;default:ae="rect"}je.warn("Adding node",B.id,B.domId),o.setNode(k.db.lookUpDomId(B.id),{labelType:"svg",labelStyle:H.labelStyle,shape:ae,label:V,rx:Z,ry:Z,class:F,style:H.style,id:k.db.lookUpDomId(B.id)})})},JPe=function(s,o,f){let p=0,w,k;if(s.defaultStyle!==void 0){const b=qw(s.defaultStyle);w=b.style,k=b.labelStyle}s.forEach(function(b){p++;var _="L-"+b.start+"-"+b.end,A="LS-"+b.start,N="LE-"+b.end;const B={};b.type==="arrow_open"?B.arrowhead="none":B.arrowhead="normal";let F="",H="";if(b.style!==void 0){const j=qw(b.style);F=j.style,H=j.labelStyle}else switch(b.stroke){case"normal":F="fill:none",w!==void 0&&(F=w),k!==void 0&&(H=k);break;case"dotted":F="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":F=" stroke-width: 3.5px;fill:none";break}B.style=F,B.labelStyle=H,b.interpolate!==void 0?B.curve=Jg(b.interpolate,Pd):s.defaultInterpolate!==void 0?B.curve=Jg(s.defaultInterpolate,Pd):B.curve=Jg(QPe.curve,Pd),b.text===void 0?b.style!==void 0&&(B.arrowheadStyle="fill: #333"):(B.arrowheadStyle="fill: #333",B.labelpos="c",l1(Pt().flowchart.htmlLabels)?(B.labelType="html",B.label=`<span id="L-${_}" class="edgeLabel L-${A}' L-${N}" style="${B.labelStyle}">${b.text.replace(/fa[blrs]?:fa-[\w-]+/g,j=>`<i class='${j.replace(":"," ")}'></i>`)}</span>`):(B.labelType="text",B.label=b.text.replace(xa.lineBreakRegex,`
`),b.style===void 0&&(B.style=B.style||"stroke: #333; stroke-width: 1.5px;fill:none"),B.labelStyle=B.labelStyle.replace("color:","fill:"))),B.id=_,B.class=A+" "+N,B.minlen=b.length||1,o.setEdge(f.db.lookUpDomId(b.start),f.db.lookUpDomId(b.end),B,p)})},yFt={setConf:mFt,addVertices:ZPe,addEdges:JPe,getClasses:function(s,o){je.info("Extracting classes"),o.db.clear();try{return o.parse(s),o.db.getClasses()}catch(f){return je.error(f),{}}},draw:function(s,o,f,p){je.info("Drawing flowchart"),p.db.clear();const{securityLevel:w,flowchart:k}=Pt();let b;w==="sandbox"&&(b=sr("#i"+o));const _=sr(w==="sandbox"?b.nodes()[0].contentDocument.body:"body"),A=w==="sandbox"?b.nodes()[0].contentDocument:document;try{p.parser.parse(s)}catch{je.debug("Parsing failed")}let N=p.db.getDirection();N===void 0&&(N="TD");const B=k.nodeSpacing||50,F=k.rankSpacing||50,H=new Hf({multigraph:!0,compound:!0}).setGraph({rankdir:N,nodesep:B,ranksep:F,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let j;const V=p.db.getSubGraphs();for(let Me=V.length-1;Me>=0;Me--)j=V[Me],p.db.addVertex(j.id,j.title,"group",void 0,j.classes);const Z=p.db.getVertices();je.warn("Get vertices",Z);const ae=p.db.getEdges();let le=0;for(le=V.length-1;le>=0;le--){j=V[le],_fe("cluster").append("text");for(let Me=0;Me<j.nodes.length;Me++)je.warn("Setting subgraph",j.nodes[Me],p.db.lookUpDomId(j.nodes[Me]),p.db.lookUpDomId(j.id)),H.setParent(p.db.lookUpDomId(j.nodes[Me]),p.db.lookUpDomId(j.id))}ZPe(Z,H,o,_,A,p),JPe(ae,H,p);const ce=new hFt;wFt.addToRender(ce),ce.arrows().none=function(fe,ye,re,we){const he=fe.append("marker").attr("id",ye).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");o3(he,re[we+"Style"])},ce.arrows().normal=function(fe,ye){fe.append("marker").attr("id",ye).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const be=_.select(`[id="${o}"]`),xe=_.select("#"+o+" g");for(ce(xe,H),xe.selectAll("g.node").attr("title",function(){return p.db.getTooltip(this.id)}),p.db.indexNodes("subGraph"+le),le=0;le<V.length;le++)if(j=V[le],j.title!=="undefined"){const Me=A.querySelectorAll("#"+o+' [id="'+p.db.lookUpDomId(j.id)+'"] rect'),fe=A.querySelectorAll("#"+o+' [id="'+p.db.lookUpDomId(j.id)+'"]'),ye=Me[0].x.baseVal.value,re=Me[0].y.baseVal.value,we=Me[0].width.baseVal.value,he=sr(fe[0]).select(".label");he.attr("transform",`translate(${ye+we/2}, ${re+14})`),he.attr("id",o+"Text");for(let De=0;De<j.classes.length;De++)fe[0].classList.add(j.classes[De])}if(!k.htmlLabels){const Me=A.querySelectorAll('[id="'+o+'"] .edgeLabel .label');for(const fe of Me){const ye=fe.getBBox(),re=A.createElementNS("http://www.w3.org/2000/svg","rect");re.setAttribute("rx",0),re.setAttribute("ry",0),re.setAttribute("width",ye.width),re.setAttribute("height",ye.height),fe.insertBefore(re,fe.firstChild)}}KE(H,be,k.diagramPadding,k.useMaxWidth),Object.keys(Z).forEach(function(Me){const fe=Z[Me];if(fe.link){const ye=_.select("#"+o+' [id="'+p.db.lookUpDomId(Me)+'"]');if(ye){const re=A.createElementNS("http://www.w3.org/2000/svg","a");re.setAttributeNS("http://www.w3.org/2000/svg","class",fe.classes.join(" ")),re.setAttributeNS("http://www.w3.org/2000/svg","href",fe.link),re.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),w==="sandbox"?re.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):fe.linkTarget&&re.setAttributeNS("http://www.w3.org/2000/svg","target",fe.linkTarget);const we=ye.insert(function(){return re},":first-child"),ke=ye.select(".label-container");ke&&we.append(function(){return ke.node()});const he=ye.select(".label");he&&we.append(function(){return he.node()})}}})}},eBe={},kFt=function(s){const o=Object.keys(s);for(const f of o)eBe[f]=s[f]},tBe=function(s,o,f,p,w,k){const b=p.select(`[id="${f}"]`);Object.keys(s).forEach(function(A){const N=s[A];let B="default";N.classes.length>0&&(B=N.classes.join(" "));const F=qw(N.styles);let H=N.text!==void 0?N.text:N.id,j;if(l1(Pt().flowchart.htmlLabels)){const ae={label:H.replace(/fa[blrs]?:fa-[\w-]+/g,le=>`<i class='${le.replace(":"," ")}'></i>`)};j=JK(b,ae).node(),j.parentNode.removeChild(j)}else{const ae=w.createElementNS("http://www.w3.org/2000/svg","text");ae.setAttribute("style",F.labelStyle.replace("color:","fill:"));const le=H.split(xa.lineBreakRegex);for(const ce of le){const be=w.createElementNS("http://www.w3.org/2000/svg","tspan");be.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),be.setAttribute("dy","1em"),be.setAttribute("x","1"),be.textContent=ce,ae.appendChild(be)}j=ae}let V=0,Z="";switch(N.type){case"round":V=5,Z="rect";break;case"square":Z="rect";break;case"diamond":Z="question";break;case"hexagon":Z="hexagon";break;case"odd":Z="rect_left_inv_arrow";break;case"lean_right":Z="lean_right";break;case"lean_left":Z="lean_left";break;case"trapezoid":Z="trapezoid";break;case"inv_trapezoid":Z="inv_trapezoid";break;case"odd_right":Z="rect_left_inv_arrow";break;case"circle":Z="circle";break;case"ellipse":Z="ellipse";break;case"stadium":Z="stadium";break;case"subroutine":Z="subroutine";break;case"cylinder":Z="cylinder";break;case"group":Z="rect";break;case"doublecircle":Z="doublecircle";break;default:Z="rect"}o.setNode(N.id,{labelStyle:F.labelStyle,shape:Z,labelText:H,rx:V,ry:V,class:B,style:F.style,id:N.id,link:N.link,linkTarget:N.linkTarget,tooltip:k.db.getTooltip(N.id)||"",domId:k.db.lookUpDomId(N.id),haveCallback:N.haveCallback,width:N.type==="group"?500:void 0,dir:N.dir,type:N.type,props:N.props,padding:Pt().flowchart.padding}),je.info("setNode",{labelStyle:F.labelStyle,shape:Z,labelText:H,rx:V,ry:V,class:B,style:F.style,id:N.id,domId:k.db.lookUpDomId(N.id),width:N.type==="group"?500:void 0,type:N.type,dir:N.dir,props:N.props,padding:Pt().flowchart.padding})})},nBe=function(s,o,f){je.info("abc78 edges = ",s);let p=0,w={},k,b;if(s.defaultStyle!==void 0){const _=qw(s.defaultStyle);k=_.style,b=_.labelStyle}s.forEach(function(_){p++;var A="L-"+_.start+"-"+_.end;w[A]===void 0?(w[A]=0,je.info("abc78 new entry",A,w[A])):(w[A]++,je.info("abc78 new entry",A,w[A]));let N=A+"-"+w[A];je.info("abc78 new link id to be used is",A,N,w[A]);var B="LS-"+_.start,F="LE-"+_.end;const H={style:"",labelStyle:""};switch(H.minlen=_.length||1,_.type==="arrow_open"?H.arrowhead="none":H.arrowhead="normal",H.arrowTypeStart="arrow_open",H.arrowTypeEnd="arrow_open",_.type){case"double_arrow_cross":H.arrowTypeStart="arrow_cross";case"arrow_cross":H.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":H.arrowTypeStart="arrow_point";case"arrow_point":H.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":H.arrowTypeStart="arrow_circle";case"arrow_circle":H.arrowTypeEnd="arrow_circle";break}let j="",V="";switch(_.stroke){case"normal":j="fill:none;",k!==void 0&&(j=k),b!==void 0&&(V=b),H.thickness="normal",H.pattern="solid";break;case"dotted":H.thickness="normal",H.pattern="dotted",H.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":H.thickness="thick",H.pattern="solid",H.style="stroke-width: 3.5px;fill:none;";break}if(_.style!==void 0){const Z=qw(_.style);j=Z.style,V=Z.labelStyle}H.style=H.style+=j,H.labelStyle=H.labelStyle+=V,_.interpolate!==void 0?H.curve=Jg(_.interpolate,Pd):s.defaultInterpolate!==void 0?H.curve=Jg(s.defaultInterpolate,Pd):H.curve=Jg(eBe.curve,Pd),_.text===void 0?_.style!==void 0&&(H.arrowheadStyle="fill: #333"):(H.arrowheadStyle="fill: #333",H.labelpos="c"),H.labelType="text",H.label=_.text.replace(xa.lineBreakRegex,`
`),_.style===void 0&&(H.style=H.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),H.labelStyle=H.labelStyle.replace("color:","fill:"),H.id=N,H.classes="flowchart-link "+B+" "+F,o.setEdge(_.start,_.end,H,p)})},i0e={setConf:kFt,addVertices:tBe,addEdges:nBe,getClasses:function(s,o){je.info("Extracting classes"),o.db.clear();try{return o.parse(s),o.db.getClasses()}catch{return}},draw:function(s,o,f,p){je.info("Drawing flowchart"),p.db.clear(),a3.setGen("gen-2"),p.parser.parse(s);let w=p.db.getDirection();w===void 0&&(w="TD");const{securityLevel:k,flowchart:b}=Pt(),_=b.nodeSpacing||50,A=b.rankSpacing||50;let N;k==="sandbox"&&(N=sr("#i"+o));const B=sr(k==="sandbox"?N.nodes()[0].contentDocument.body:"body"),F=k==="sandbox"?N.nodes()[0].contentDocument:document,H=new Hf({multigraph:!0,compound:!0}).setGraph({rankdir:w,nodesep:_,ranksep:A,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let j;const V=p.db.getSubGraphs();je.info("Subgraphs - ",V);for(let Ee=V.length-1;Ee>=0;Ee--)j=V[Ee],je.info("Subgraph - ",j),p.db.addVertex(j.id,j.title,"group",void 0,j.classes,j.dir);const Z=p.db.getVertices(),ae=p.db.getEdges();je.info("Edges",ae);let le=0;for(le=V.length-1;le>=0;le--){j=V[le],_fe("cluster").append("text");for(let Ee=0;Ee<j.nodes.length;Ee++)je.info("Setting up subgraphs",j.nodes[Ee],j.id),H.setParent(j.nodes[Ee],j.id)}tBe(Z,H,o,B,F,p),nBe(ae,H);const ce=B.select(`[id="${o}"]`),be=B.select("#"+o+" g");if($de(be,H,["point","circle","cross"],"flowchart",o),Pa.insertTitle(ce,"flowchartTitleText",b.titleTopMargin,p.db.getDiagramTitle()),KE(H,ce,b.diagramPadding,b.useMaxWidth),p.db.indexNodes("subGraph"+le),!b.htmlLabels){const Ee=F.querySelectorAll('[id="'+o+'"] .edgeLabel .label');for(const Me of Ee){const fe=Me.getBBox(),ye=F.createElementNS("http://www.w3.org/2000/svg","rect");ye.setAttribute("rx",0),ye.setAttribute("ry",0),ye.setAttribute("width",fe.width),ye.setAttribute("height",fe.height),Me.insertBefore(ye,Me.firstChild)}}Object.keys(Z).forEach(function(Ee){const Me=Z[Ee];if(Me.link){const fe=sr("#"+o+' [id="'+Ee+'"]');if(fe){const ye=F.createElementNS("http://www.w3.org/2000/svg","a");ye.setAttributeNS("http://www.w3.org/2000/svg","class",Me.classes.join(" ")),ye.setAttributeNS("http://www.w3.org/2000/svg","href",Me.link),ye.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),k==="sandbox"?ye.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):Me.linkTarget&&ye.setAttributeNS("http://www.w3.org/2000/svg","target",Me.linkTarget);const re=fe.insert(function(){return ye},":first-child"),we=fe.select(".label-container");we&&re.append(function(){return we.node()});const ke=fe.select(".label");ke&&re.append(function(){return ke.node()})}}})}};var s0e=function(){var s=function(ye,re,we,ke){for(we=we||{},ke=ye.length;ke--;we[ye[ke]]=re);return we},o=[1,3],f=[1,5],p=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],w=[1,15],k=[1,16],b=[1,17],_=[1,18],A=[1,19],N=[1,20],B=[1,21],F=[1,22],H=[1,23],j=[1,24],V=[1,25],Z=[1,26],ae=[1,27],le=[1,29],ce=[1,31],be=[1,34],xe=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],Ee={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(re,we,ke,he,De,X,Re){var pe=X.length-1;switch(De){case 2:return X[pe-1];case 3:this.$=[];break;case 4:X[pe-1].push(X[pe]),this.$=X[pe-1];break;case 5:case 6:this.$=X[pe];break;case 7:case 8:this.$=[];break;case 9:he.setDateFormat(X[pe].substr(11)),this.$=X[pe].substr(11);break;case 10:he.enableInclusiveEndDates(),this.$=X[pe].substr(18);break;case 11:he.TopAxis(),this.$=X[pe].substr(8);break;case 12:he.setAxisFormat(X[pe].substr(11)),this.$=X[pe].substr(11);break;case 13:he.setTickInterval(X[pe].substr(13)),this.$=X[pe].substr(13);break;case 14:he.setExcludes(X[pe].substr(9)),this.$=X[pe].substr(9);break;case 15:he.setIncludes(X[pe].substr(9)),this.$=X[pe].substr(9);break;case 16:he.setTodayMarker(X[pe].substr(12)),this.$=X[pe].substr(12);break;case 17:he.setDiagramTitle(X[pe].substr(6)),this.$=X[pe].substr(6);break;case 18:this.$=X[pe].trim(),he.setAccTitle(this.$);break;case 19:case 20:this.$=X[pe].trim(),he.setAccDescription(this.$);break;case 21:he.addSection(X[pe].substr(8)),this.$=X[pe].substr(8);break;case 23:he.addTask(X[pe-1],X[pe]),this.$="task";break;case 27:this.$=X[pe-1],he.setClickEvent(X[pe-1],X[pe],null);break;case 28:this.$=X[pe-2],he.setClickEvent(X[pe-2],X[pe-1],X[pe]);break;case 29:this.$=X[pe-2],he.setClickEvent(X[pe-2],X[pe-1],null),he.setLink(X[pe-2],X[pe]);break;case 30:this.$=X[pe-3],he.setClickEvent(X[pe-3],X[pe-2],X[pe-1]),he.setLink(X[pe-3],X[pe]);break;case 31:this.$=X[pe-2],he.setClickEvent(X[pe-2],X[pe],null),he.setLink(X[pe-2],X[pe-1]);break;case 32:this.$=X[pe-3],he.setClickEvent(X[pe-3],X[pe-1],X[pe]),he.setLink(X[pe-3],X[pe-2]);break;case 33:this.$=X[pe-1],he.setLink(X[pe-1],X[pe]);break;case 34:case 40:this.$=X[pe-1]+" "+X[pe];break;case 35:case 36:case 38:this.$=X[pe-2]+" "+X[pe-1]+" "+X[pe];break;case 37:case 39:this.$=X[pe-3]+" "+X[pe-2]+" "+X[pe-1]+" "+X[pe];break;case 41:he.parseDirective("%%{","open_directive");break;case 42:he.parseDirective(X[pe],"type_directive");break;case 43:X[pe]=X[pe].trim().replace(/'/g,'"'),he.parseDirective(X[pe],"arg_directive");break;case 44:he.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:o,30:4,40:f},{1:[3]},{3:6,4:2,5:o,30:4,40:f},s(p,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:w,13:k,14:b,15:_,16:A,17:N,18:B,19:F,20:H,21:j,23:V,25:Z,26:ae,27:28,28:le,30:4,35:ce,40:f},{32:32,33:[1,33],43:be},s([33,43],[2,42]),s(p,[2,8],{1:[2,2]}),s(p,[2,4]),{4:30,10:35,12:w,13:k,14:b,15:_,16:A,17:N,18:B,19:F,20:H,21:j,23:V,25:Z,26:ae,27:28,28:le,30:4,35:ce,40:f},s(p,[2,6]),s(p,[2,7]),s(p,[2,9]),s(p,[2,10]),s(p,[2,11]),s(p,[2,12]),s(p,[2,13]),s(p,[2,14]),s(p,[2,15]),s(p,[2,16]),s(p,[2,17]),{22:[1,36]},{24:[1,37]},s(p,[2,20]),s(p,[2,21]),s(p,[2,22]),{29:[1,38]},s(p,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},s(p,[2,5]),s(p,[2,18]),s(p,[2,19]),s(p,[2,23]),s(p,[2,27],{37:[1,44],38:[1,45]}),s(p,[2,33],{36:[1,46]}),s(xe,[2,25]),{32:47,43:be},{43:[2,43]},s(p,[2,28],{38:[1,48]}),s(p,[2,29]),s(p,[2,31],{37:[1,49]}),{11:[1,50]},s(p,[2,30]),s(p,[2,32]),s(xe,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(re,we){if(we.recoverable)this.trace(re);else{var ke=new Error(re);throw ke.hash=we,ke}},parse:function(re){var we=this,ke=[0],he=[],De=[null],X=[],Re=this.table,pe="",Ge=0,de=0,ct=2,bt=1,St=X.slice.call(arguments,1),yt=Object.create(this.lexer),Mt={yy:{}};for(var nn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,nn)&&(Mt.yy[nn]=this.yy[nn]);yt.setInput(re,Mt.yy),Mt.yy.lexer=yt,Mt.yy.parser=this,typeof yt.yylloc>"u"&&(yt.yylloc={});var dn=yt.yylloc;X.push(dn);var vt=yt.options&&yt.options.ranges;typeof Mt.yy.parseError=="function"?this.parseError=Mt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Lr(){var Di;return Di=he.pop()||yt.lex()||bt,typeof Di!="number"&&(Di instanceof Array&&(he=Di,Di=he.pop()),Di=we.symbols_[Di]||Di),Di}for(var xt,Tt,wt,At,He={},Ze,Lt,Ve,Mn;;){if(Tt=ke[ke.length-1],this.defaultActions[Tt]?wt=this.defaultActions[Tt]:((xt===null||typeof xt>"u")&&(xt=Lr()),wt=Re[Tt]&&Re[Tt][xt]),typeof wt>"u"||!wt.length||!wt[0]){var Oe="";Mn=[];for(Ze in Re[Tt])this.terminals_[Ze]&&Ze>ct&&Mn.push("'"+this.terminals_[Ze]+"'");yt.showPosition?Oe="Parse error on line "+(Ge+1)+`:
`+yt.showPosition()+`
Expecting `+Mn.join(", ")+", got '"+(this.terminals_[xt]||xt)+"'":Oe="Parse error on line "+(Ge+1)+": Unexpected "+(xt==bt?"end of input":"'"+(this.terminals_[xt]||xt)+"'"),this.parseError(Oe,{text:yt.match,token:this.terminals_[xt]||xt,line:yt.yylineno,loc:dn,expected:Mn})}if(wt[0]instanceof Array&&wt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Tt+", token: "+xt);switch(wt[0]){case 1:ke.push(xt),De.push(yt.yytext),X.push(yt.yylloc),ke.push(wt[1]),xt=null,de=yt.yyleng,pe=yt.yytext,Ge=yt.yylineno,dn=yt.yylloc;break;case 2:if(Lt=this.productions_[wt[1]][1],He.$=De[De.length-Lt],He._$={first_line:X[X.length-(Lt||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(Lt||1)].first_column,last_column:X[X.length-1].last_column},vt&&(He._$.range=[X[X.length-(Lt||1)].range[0],X[X.length-1].range[1]]),At=this.performAction.apply(He,[pe,de,Ge,Mt.yy,wt[1],De,X].concat(St)),typeof At<"u")return At;Lt&&(ke=ke.slice(0,-1*Lt*2),De=De.slice(0,-1*Lt),X=X.slice(0,-1*Lt)),ke.push(this.productions_[wt[1]][0]),De.push(He.$),X.push(He._$),Ve=Re[ke[ke.length-2]][ke[ke.length-1]],ke.push(Ve);break;case 3:return!0}}return!0}},Me=function(){var ye={EOF:1,parseError:function(we,ke){if(this.yy.parser)this.yy.parser.parseError(we,ke);else throw new Error(we)},setInput:function(re,we){return this.yy=we||this.yy||{},this._input=re,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var re=this._input[0];this.yytext+=re,this.yyleng++,this.offset++,this.match+=re,this.matched+=re;var we=re.match(/(?:\r\n?|\n).*/g);return we?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),re},unput:function(re){var we=re.length,ke=re.split(/(?:\r\n?|\n)/g);this._input=re+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-we),this.offset-=we;var he=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ke.length-1&&(this.yylineno-=ke.length-1);var De=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ke?(ke.length===he.length?this.yylloc.first_column:0)+he[he.length-ke.length].length-ke[0].length:this.yylloc.first_column-we},this.options.ranges&&(this.yylloc.range=[De[0],De[0]+this.yyleng-we]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(re){this.unput(this.match.slice(re))},pastInput:function(){var re=this.matched.substr(0,this.matched.length-this.match.length);return(re.length>20?"...":"")+re.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var re=this.match;return re.length<20&&(re+=this._input.substr(0,20-re.length)),(re.substr(0,20)+(re.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var re=this.pastInput(),we=new Array(re.length+1).join("-");return re+this.upcomingInput()+`
`+we+"^"},test_match:function(re,we){var ke,he,De;if(this.options.backtrack_lexer&&(De={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(De.yylloc.range=this.yylloc.range.slice(0))),he=re[0].match(/(?:\r\n?|\n).*/g),he&&(this.yylineno+=he.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:he?he[he.length-1].length-he[he.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+re[0].length},this.yytext+=re[0],this.match+=re[0],this.matches=re,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(re[0].length),this.matched+=re[0],ke=this.performAction.call(this,this.yy,this,we,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ke)return ke;if(this._backtrack){for(var X in De)this[X]=De[X];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var re,we,ke,he;this._more||(this.yytext="",this.match="");for(var De=this._currentRules(),X=0;X<De.length;X++)if(ke=this._input.match(this.rules[De[X]]),ke&&(!we||ke[0].length>we[0].length)){if(we=ke,he=X,this.options.backtrack_lexer){if(re=this.test_match(ke,De[X]),re!==!1)return re;if(this._backtrack){we=!1;continue}else return!1}else if(!this.options.flex)break}return we?(re=this.test_match(we,De[he]),re!==!1?re:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var we=this.next();return we||this.lex()},begin:function(we){this.conditionStack.push(we)},popState:function(){var we=this.conditionStack.length-1;return we>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(we){return we=this.conditionStack.length-1-Math.abs(we||0),we>=0?this.conditionStack[we]:"INITIAL"},pushState:function(we){this.begin(we)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(we,ke,he,De){switch(he){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return ye}();Ee.lexer=Me;function fe(){this.yy={}}return fe.prototype=Ee,Ee.Parser=fe,new fe}();s0e.parser=s0e;const xFt=s0e,EFt=s=>s.match(/^\s*gantt/)!==null;var a0e={},TFt={get exports(){return a0e},set exports(s){a0e=s}};(function(s,o){(function(f,p){s.exports=p()})(g0,function(){var f="day";return function(p,w,k){var b=function(N){return N.add(4-N.isoWeekday(),f)},_=w.prototype;_.isoWeekYear=function(){return b(this).year()},_.isoWeek=function(N){if(!this.$utils().u(N))return this.add(7*(N-this.isoWeek()),f);var B,F,H,j,V=b(this),Z=(B=this.isoWeekYear(),F=this.$u,H=(F?k.utc:k)().year(B).startOf("year"),j=4-H.isoWeekday(),H.isoWeekday()>4&&(j+=7),H.add(j,f));return V.diff(Z,"week")+1},_.isoWeekday=function(N){return this.$utils().u(N)?this.day()||7:this.day(this.day()%7?N:N-7)};var A=_.startOf;_.startOf=function(N,B){var F=this.$utils(),H=!!F.u(B)||B;return F.p(N)==="isoweek"?H?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):A.bind(this)(N,B)}}})})(TFt);const _Ft=a0e;var o0e={},CFt={get exports(){return o0e},set exports(s){o0e=s}};(function(s,o){(function(f,p){s.exports=p()})(g0,function(){var f={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},p=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,w=/\d\d/,k=/\d\d?/,b=/\d*[^-_:/,()\s\d]+/,_={},A=function(Z
